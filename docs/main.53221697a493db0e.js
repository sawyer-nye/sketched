(self.webpackChunksketched_app=self.webpackChunksketched_app||[]).push([[792],{763:(q,Tt,ke)=>{"use strict";function me(t,e,n,s,r,i,o){try{var a=t[i](o),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(s,r)}function G(t){return function(){var e=this,n=arguments;return new Promise(function(s,r){var i=t.apply(e,n);function o(c){me(i,s,r,o,a,"next",c)}function a(c){me(i,s,r,o,a,"throw",c)}o(void 0)})}}let Se=null,_t=1;const Dt=Symbol("SIGNAL");function he(t){const e=Se;return Se=t,e}function ro(t){if((!wi(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==_t)){if(!t.producerMustRecompute(t)&&!io(t))return t.dirty=!1,void(t.lastCleanEpoch=_t);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=_t}}function io(t){Di(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],s=t.producerLastReadVersion[e];if(s!==n.version||(ro(n),s!==n.version))return!0}return!1}function oo(t,e){if(function Md(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Di(t),1===t.liveConsumerNode.length)for(let s=0;s<t.producerNode.length;s++)oo(t.producerNode[s],t.producerIndexOfThis[s]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const s=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Di(r),r.producerIndexOfThis[s]=e}}function wi(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Di(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ad=null;function Ge(t){return"function"==typeof t}function Ss(t){const n=t(s=>{Error.call(s),s.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Yc=Ss(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((s,r)=>`${r+1}) ${s.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Nd(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class kn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const i of n)i.remove(this);else n.remove(this);const{initialTeardown:s}=this;if(Ge(s))try{s()}catch(i){e=i instanceof Yc?i.errors:[i]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const i of r)try{QD(i)}catch(o){e=e??[],o instanceof Yc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Yc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)QD(e);else{if(e instanceof kn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Nd(n,e)}remove(e){const{_finalizers:n}=this;n&&Nd(n,e),e instanceof kn&&e._removeParent(this)}}kn.EMPTY=(()=>{const t=new kn;return t.closed=!0,t})();const GD=kn.EMPTY;function WD(t){return t instanceof kn||t&&"closed"in t&&Ge(t.remove)&&Ge(t.add)&&Ge(t.unsubscribe)}function QD(t){Ge(t)?t():t.unsubscribe()}const co={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Od={setTimeout(t,e,...n){const{delegate:s}=Od;return s?.setTimeout?s.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Od;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ZD(t){Od.setTimeout(()=>{const{onUnhandledError:e}=co;if(!e)throw t;e(t)})}function Xc(){}const BO=fg("C",void 0,void 0);function fg(t,e,n){return{kind:t,value:e,error:n}}let uo=null;function Rd(t){if(co.useDeprecatedSynchronousErrorHandling){const e=!uo;if(e&&(uo={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:s}=uo;if(uo=null,n)throw s}}else t()}class pg extends kn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,WD(e)&&e.add(this)):this.destination=WO}static create(e,n,s){return new mg(e,n,s)}next(e){this.isStopped?_g(function HO(t){return fg("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?_g(function UO(t){return fg("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_g(BO,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qO=Function.prototype.bind;function gg(t,e){return qO.call(t,e)}class zO{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(s){kd(s)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(s){kd(s)}else kd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){kd(n)}}}class mg extends pg{constructor(e,n,s){let r;if(super(),Ge(e)||!e)r={next:e??void 0,error:n??void 0,complete:s??void 0};else{let i;this&&co.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&gg(e.next,i),error:e.error&&gg(e.error,i),complete:e.complete&&gg(e.complete,i)}):r=e}this.destination=new zO(r)}}function kd(t){co.useDeprecatedSynchronousErrorHandling?function $O(t){co.useDeprecatedSynchronousErrorHandling&&uo&&(uo.errorThrown=!0,uo.error=t)}(t):ZD(t)}function _g(t,e){const{onStoppedNotification:n}=co;n&&Od.setTimeout(()=>n(t,e))}const WO={closed:!0,next:Xc,error:function GO(t){throw t},complete:Xc},yg="function"==typeof Symbol&&Symbol.observable||"@@observable";function bi(t){return t}function YD(t){return 0===t.length?bi:1===t.length?t[0]:function(n){return t.reduce((s,r)=>r(s),n)}}let qt=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const s=new t;return s.source=this,s.operator=n,s}subscribe(n,s,r){const i=function YO(t){return t&&t instanceof pg||function ZO(t){return t&&Ge(t.next)&&Ge(t.error)&&Ge(t.complete)}(t)&&WD(t)}(n)?n:new mg(n,s,r);return Rd(()=>{const{operator:o,source:a}=this;i.add(o?o.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(s){n.error(s)}}forEach(n,s){return new(s=XD(s))((r,i)=>{const o=new mg({next:a=>{try{n(a)}catch(c){i(c),o.unsubscribe()}},error:i,complete:r});this.subscribe(o)})}_subscribe(n){var s;return null===(s=this.source)||void 0===s?void 0:s.subscribe(n)}[yg](){return this}pipe(...n){return YD(n)(this)}toPromise(n){return new(n=XD(n))((s,r)=>{let i;this.subscribe(o=>i=o,o=>r(o),()=>s(i))})}}return t.create=e=>new t(e),t})();function XD(t){var e;return null!==(e=t??co.Promise)&&void 0!==e?e:Promise}const XO=Ss(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let is=(()=>{class t extends qt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const s=new KD(this,this);return s.operator=n,s}_throwIfClosed(){if(this.closed)throw new XO}next(n){Rd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const s of this.currentObservers)s.next(n)}})}error(n){Rd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:s}=this;for(;s.length;)s.shift().error(n)}})}complete(){Rd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:s,isStopped:r,observers:i}=this;return s||r?GD:(this.currentObservers=null,i.push(n),new kn(()=>{this.currentObservers=null,Nd(i,n)}))}_checkFinalizedStatuses(n){const{hasError:s,thrownError:r,isStopped:i}=this;s?n.error(r):i&&n.complete()}asObservable(){const n=new qt;return n.source=this,n}}return t.create=(e,n)=>new KD(e,n),t})();class KD extends is{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,s;null===(s=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===s||s.call(n,e)}error(e){var n,s;null===(s=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===s||s.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,s;return null!==(s=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==s?s:GD}}class zt extends is{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:s}=this;if(e)throw n;return this._throwIfClosed(),s}next(e){super.next(this._value=e)}}function JD(t){return Ge(t?.lift)}function ln(t){return e=>{if(JD(e))return e.lift(function(n){try{return t(n,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function Pt(t,e,n,s,r){return new KO(t,e,n,s,r)}class KO extends pg{constructor(e,n,s,r,i,o){super(e),this.onFinalize=i,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=s?function(){try{s()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ne(t,e){return ln((n,s)=>{let r=0;n.subscribe(Pt(s,i=>{s.next(t.call(e,i,r++))}))})}const eC="https://g.co/ng/security#xss";class x extends Error{constructor(e,n){super(function na(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Gr(t){return{toString:t}.toString()}const ra="__parameters__";function oa(t,e,n){return Gr(()=>{const s=function vg(t){return function(...n){if(t){const s=t(...n);for(const r in s)this[r]=s[r]}}}(e);function r(...i){if(this instanceof r)return s.apply(this,i),this;const o=new r(...i);return a.annotation=o,a;function a(c,u,l){const d=c.hasOwnProperty(ra)?c[ra]:Object.defineProperty(c,ra,{value:[]})[ra];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}const We=globalThis;function Ze(t){for(let e in t)if(t[e]===Ze)return e;throw Error("Could not find renamed property on target object.")}function JO(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Xt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Xt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function wg(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const eR=Ze({__forward_ref__:Ze});function it(t){return t.__forward_ref__=it,t.toString=function(){return Xt(this())},t}function oe(t){return Pd(t)?t():t}function Pd(t){return"function"==typeof t&&t.hasOwnProperty(eR)&&t.__forward_ref__===it}function W(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function lo(t){return{providers:t.providers||[],imports:t.imports||[]}}function Vd(t){return rC(t,jd)||rC(t,iC)}function rC(t,e){return t.hasOwnProperty(e)?t[e]:null}function Ld(t){return t&&(t.hasOwnProperty(Dg)||t.hasOwnProperty(oR))?t[Dg]:null}const jd=Ze({\u0275prov:Ze}),Dg=Ze({\u0275inj:Ze}),iC=Ze({ngInjectableDef:Ze}),oR=Ze({ngInjectorDef:Ze});class j{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=W({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Tg(t){return t&&!!t.\u0275providers}const Kc=Ze({\u0275cmp:Ze}),Ig=Ze({\u0275dir:Ze}),xg=Ze({\u0275pipe:Ze}),aC=Ze({\u0275mod:Ze}),Wr=Ze({\u0275fac:Ze}),Jc=Ze({__NG_ELEMENT_ID__:Ze}),cC=Ze({__NG_ENV_ID__:Ze});function ye(t){return"string"==typeof t?t:null==t?"":String(t)}function Mg(t,e){throw new x(-201,!1)}var Oe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Oe||{});let Ag;function uC(){return Ag}function Yn(t){const e=Ag;return Ag=t,e}function lC(t,e,n){const s=Vd(t);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:n&Oe.Optional?null:void 0!==e?e:void Mg()}const eu={},Ng="__NG_DI_FLAG__",Bd="ngTempTokenPath",hR=/\n/gm,dC="__source";let aa;function Ei(t){const e=aa;return aa=t,e}function gR(t,e=Oe.Default){if(void 0===aa)throw new x(-203,!1);return null===aa?lC(t,void 0,e):aa.get(t,e&Oe.Optional?null:void 0,e)}function ce(t,e=Oe.Default){return(uC()||gR)(oe(t),e)}function O(t,e=Oe.Default){return ce(t,Ud(e))}function Ud(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Og(t){const e=[];for(let n=0;n<t.length;n++){const s=oe(t[n]);if(Array.isArray(s)){if(0===s.length)throw new x(900,!1);let r,i=Oe.Default;for(let o=0;o<s.length;o++){const a=s[o],c=mR(a);"number"==typeof c?-1===c?r=a.token:i|=c:r=a}e.push(ce(r,i))}else e.push(ce(s))}return e}function tu(t,e){return t[Ng]=e,t.prototype[Ng]=e,t}function mR(t){return t[Ng]}const Hd=tu(oa("Optional"),8),$d=tu(oa("SkipSelf"),4);function ho(t,e){return t.hasOwnProperty(Wr)?t[Wr]:null}function ca(t,e){t.forEach(n=>Array.isArray(n)?ca(n,e):e(n))}function fC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function qd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function cs(t,e,n){let s=ua(t,e);return s>=0?t[1|s]=n:(s=~s,function pC(t,e,n,s){let r=t.length;if(r==e)t.push(n,s);else if(1===r)t.push(s,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=s}}(t,s,e,n)),s}function kg(t,e){const n=ua(t,e);if(n>=0)return t[1|n]}function ua(t,e){return function gC(t,e,n){let s=0,r=t.length>>n;for(;r!==s;){const i=s+(r-s>>1),o=t[i<<n];if(e===o)return i<<n;o>e?r=i:s=i+1}return~(r<<n)}(t,e,1)}const pr={},Be=[],fo=new j(""),mC=new j("",-1),Fg=new j("");class Gd{get(e,n=eu){if(n===eu){const s=new Error(`NullInjectorError: No provider for ${Xt(e)}!`);throw s.name="NullInjectorError",s}return n}}var Wd=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Wd||{}),Hs=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Hs||{}),yt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(yt||{});function bR(t,e,n){let s=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const i=e.length;if(r+i===s||t.charCodeAt(r+i)<=32)return r}n=r+1}}function Pg(t,e,n){let s=0;for(;s<n.length;){const r=n[s];if("number"==typeof r){if(0!==r)break;s++;const i=n[s++],o=n[s++],a=n[s++];t.setAttribute(e,o,a,i)}else{const i=r,o=n[++s];yC(i)?t.setProperty(e,i,o):t.setAttribute(e,i,o),s++}}return s}function _C(t){return 3===t||4===t||6===t}function yC(t){return 64===t.charCodeAt(0)}function nu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let s=0;s<e.length;s++){const r=e[s];"number"==typeof r?n=r:0===n||vC(t,n,r,null,-1===n||2===n?e[++s]:null)}}return t}function vC(t,e,n,s,r){let i=0,o=t.length;if(-1===e)o=-1;else for(;i<t.length;){const a=t[i++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=i-1;break}}}for(;i<t.length;){const a=t[i];if("number"==typeof a)break;if(a===n){if(null===s)return void(null!==r&&(t[i+1]=r));if(s===t[i+1])return void(t[i+2]=r)}i++,null!==s&&i++,null!==r&&i++}-1!==o&&(t.splice(o,0,e),i=o+1),t.splice(i++,0,n),null!==s&&t.splice(i++,0,s),null!==r&&t.splice(i++,0,r)}const wC="ng-template";function SR(t,e,n,s){let r=0;if(s){for(;r<e.length&&"string"==typeof e[r];r+=2)if("class"===e[r]&&-1!==bR(e[r+1].toLowerCase(),n,0))return!0}else if(Vg(t))return!1;if(r=e.indexOf(1,r),r>-1){let i;for(;++r<e.length&&"string"==typeof(i=e[r]);)if(i.toLowerCase()===n)return!0}return!1}function Vg(t){return 4===t.type&&t.value!==wC}function ER(t,e,n){return e===(4!==t.type||n?t.value:wC)}function TR(t,e,n){let s=4;const r=t.attrs,i=null!==r?function MR(t){for(let e=0;e<t.length;e++)if(_C(t[e]))return e;return t.length}(r):0;let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&s){if(s=2|1&s,""!==c&&!ER(t,c,n)||""===c&&1===e.length){if($s(s))return!1;o=!0}}else if(8&s){if(null===r||!SR(t,r,c,n)){if($s(s))return!1;o=!0}}else{const u=e[++a],l=IR(c,r,Vg(t),n);if(-1===l){if($s(s))return!1;o=!0;continue}if(""!==u){let d;if(d=l>i?"":r[l+1].toLowerCase(),2&s&&u!==d){if($s(s))return!1;o=!0}}}}else{if(!o&&!$s(s)&&!$s(c))return!1;if(o&&$s(c))continue;o=!1,s=c|1&s}}return $s(s)||o}function $s(t){return!(1&t)}function IR(t,e,n,s){if(null===e)return-1;let r=0;if(s||!n){let i=!1;for(;r<e.length;){const o=e[r];if(o===t)return r;if(3===o||6===o)i=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=i?1:2}return-1}return function AR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const s=t[n];if("number"==typeof s)return-1;if(s===e)return n;n++}return-1}(e,t)}function DC(t,e,n=!1){for(let s=0;s<e.length;s++)if(TR(t,e[s],n))return!0;return!1}function CC(t,e){return t?":not("+e.trim()+")":e}function OR(t){let e=t[0],n=1,s=2,r="",i=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&s){const a=t[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&s?r+="."+o:4&s&&(r+=" "+o);else""!==r&&!$s(o)&&(e+=CC(i,r),r=""),s=o,i=i||!$s(s);n++}return""!==r&&(e+=CC(i,r)),e}function Es(t){return Gr(()=>{const e=SC(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Wd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Hs.Emulated,styles:t.styles||Be,_:null,schemas:t.schemas||null,tView:null,id:""};EC(n);const s=t.dependencies;return n.directiveDefs=Qd(s,!1),n.pipeDefs=Qd(s,!0),n.id=function LR(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const r of n)e=Math.imul(31,e)+r.charCodeAt(0)|0;return e+=2147483648,"c"+e}(n),n})}function FR(t){return Ie(t)||Kt(t)}function PR(t){return null!==t}function la(t){return Gr(()=>({type:t.type,bootstrap:t.bootstrap||Be,declarations:t.declarations||Be,imports:t.imports||Be,exports:t.exports||Be,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function bC(t,e){if(null==t)return pr;const n={};for(const s in t)if(t.hasOwnProperty(s)){const r=t[s];let i,o,a=yt.None;Array.isArray(r)?(a=r[0],i=r[1],o=r[2]??i):(i=r,o=r),e?(n[i]=a!==yt.None?[s,a]:s,e[i]=o):n[i]=s}return n}function fe(t){return Gr(()=>{const e=SC(t);return EC(e),e})}function gn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ie(t){return t[Kc]||null}function Kt(t){return t[Ig]||null}function mn(t){return t[xg]||null}function Dn(t,e){const n=t[aC]||null;if(!n&&!0===e)throw new Error(`Type ${Xt(t)} does not have '\u0275mod' property.`);return n}function SC(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||pr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Be,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bC(t.inputs,e),outputs:bC(t.outputs),debugInfo:null}}function EC(t){t.features?.forEach(e=>e(t))}function Qd(t,e){if(!t)return null;const n=e?mn:FR;return()=>("function"==typeof t?t():t).map(s=>n(s)).filter(PR)}function su(t){return{\u0275providers:t}}function jR(...t){return{\u0275providers:Lg(0,t),\u0275fromNgModule:!0}}function Lg(t,...e){const n=[],s=new Set;let r;const i=o=>{n.push(o)};return ca(e,o=>{const a=o;Zd(a,i,[],s)&&(r||=[],r.push(a))}),void 0!==r&&TC(r,i),n}function TC(t,e){for(let n=0;n<t.length;n++){const{ngModule:s,providers:r}=t[n];jg(r,i=>{e(i,s)})}}function Zd(t,e,n,s){if(!(t=oe(t)))return!1;let r=null,i=Ld(t);const o=!i&&Ie(t);if(i||o){if(o&&!o.standalone)return!1;r=t}else{const c=t.ngModule;if(i=Ld(c),!i)return!1;r=c}const a=s.has(r);if(o){if(a)return!1;if(s.add(r),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of c)Zd(u,e,n,s)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let u;s.add(r);try{ca(i.imports,l=>{Zd(l,e,n,s)&&(u||=[],u.push(l))})}finally{}void 0!==u&&TC(u,e)}if(!a){const u=ho(r)||(()=>new r);e({provide:r,useFactory:u,deps:Be},r),e({provide:Fg,useValue:r,multi:!0},r),e({provide:fo,useValue:()=>ce(r),multi:!0},r)}const c=i.providers;if(null!=c&&!a){const u=t;jg(c,l=>{e(l,u)})}}}return r!==t&&void 0!==t.providers}function jg(t,e){for(let n of t)Tg(n)&&(n=n.\u0275providers),Array.isArray(n)?jg(n,e):e(n)}const BR=Ze({provide:String,useValue:Ze});function Bg(t){return null!==t&&"object"==typeof t&&BR in t}function po(t){return"function"==typeof t}const Ug=new j(""),Yd={},HR={};let Hg;function Xd(){return void 0===Hg&&(Hg=new Gd),Hg}class Kn{}class da extends Kn{get destroyed(){return this._destroyed}constructor(e,n,s,r){super(),this.parent=n,this.source=s,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qg(e,o=>this.processProvider(o)),this.records.set(mC,ha(void 0,this)),r.has("environment")&&this.records.set(Kn,ha(void 0,this));const i=this.records.get(Ug);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Fg,Be,Oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=he(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Ei(this),s=Yn(void 0);try{return e()}finally{Ei(n),Yn(s)}}get(e,n=eu,s=Oe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(cC))return e[cC](this);s=Ud(s);const i=Ei(this),o=Yn(void 0);try{if(!(s&Oe.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function WR(t){return"function"==typeof t||"object"==typeof t&&t instanceof j}(e)&&Vd(e);c=u&&this.injectableDefInScope(u)?ha($g(e),Yd):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(s&Oe.Self?Xd():this.parent).get(e,n=s&Oe.Optional&&n===eu?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Bd]=a[Bd]||[]).unshift(Xt(e)),i)throw a;return function _R(t,e,n,s){const r=t[Bd];throw e[dC]&&r.unshift(e[dC]),t.message=function yR(t,e,n,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let r=Xt(e);if(Array.isArray(e))r=e.map(Xt).join(" -> ");else if("object"==typeof e){let i=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];i.push(o+":"+("string"==typeof a?JSON.stringify(a):Xt(a)))}r=`{${i.join(", ")}}`}return`${n}${s?"("+s+")":""}[${r}]: ${t.replace(hR,"\n  ")}`}("\n"+t.message,r,n,s),t.ngTokenPath=r,t[Bd]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Yn(o),Ei(i)}}resolveInjectorInitializers(){const e=he(null),n=Ei(this),s=Yn(void 0);try{const i=this.get(fo,Be,Oe.Self);for(const o of i)o()}finally{Ei(n),Yn(s),he(e)}}toString(){const e=[],n=this.records;for(const s of n.keys())e.push(Xt(s));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){let n=po(e=oe(e))?e:oe(e&&e.provide);const s=function qR(t){return Bg(t)?ha(void 0,t.useValue):ha(MC(t),Yd)}(e);if(!po(e)&&!0===e.multi){let r=this.records.get(n);r||(r=ha(void 0,Yd,!0),r.factory=()=>Og(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,s)}hydrate(e,n){const s=he(null);try{return n.value===Yd&&(n.value=HR,n.value=n.factory()),"object"==typeof n.value&&n.value&&function GR(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{he(s)}}injectableDefInScope(e){if(!e.providedIn)return!1;const n=oe(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function $g(t){const e=Vd(t),n=null!==e?e.factory:ho(t);if(null!==n)return n;if(t instanceof j)throw new x(204,!1);if(t instanceof Function)return function $R(t){if(t.length>0)throw new x(204,!1);const n=function iR(t){return t&&(t[jd]||t[iC])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new x(204,!1)}function MC(t,e,n){let s;if(po(t)){const r=oe(t);return ho(r)||$g(r)}if(Bg(t))s=()=>oe(t.useValue);else if(function xC(t){return!(!t||!t.useFactory)}(t))s=()=>t.useFactory(...Og(t.deps||[]));else if(function IC(t){return!(!t||!t.useExisting)}(t))s=()=>ce(oe(t.useExisting));else{const r=oe(t&&(t.useClass||t.provide));if(!function zR(t){return!!t.deps}(t))return ho(r)||$g(r);s=()=>new r(...Og(t.deps))}return s}function ha(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function qg(t,e){for(const n of t)Array.isArray(n)?qg(n,e):n&&Tg(n)?qg(n.\u0275providers,e):e(n)}function Qr(t,e){t instanceof da&&t.assertNotDestroyed();const s=Ei(t),r=Yn(void 0);try{return e()}finally{Ei(s),Yn(r)}}function AC(){return void 0!==uC()||null!=function pR(){return aa}()}const Ct=0,k=1,K=2,Vt=3,qs=4,Cn=5,us=6,pa=7,ot=8,Gt=9,zs=10,ue=11,iu=12,OC=13,ga=14,It=15,ou=16,ma=17,Zr=18,au=19,RC=20,Ii=21,eh=22,go=23,ve=25,Gg=1,gr=7,_a=9,Lt=10;var Wg=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Wg||{});function bn(t){return Array.isArray(t)&&"object"==typeof t[Gg]}function Sn(t){return Array.isArray(t)&&!0===t[Gg]}function Qg(t){return!!(4&t.flags)}function mo(t){return t.componentOffset>-1}function nh(t){return!(1&~t.flags)}function Gs(t){return!!t.template}function Zg(t){return!!(512&t[K])}class ok{constructor(e,n,s){this.previousValue=e,this.currentValue=n,this.firstChange=s}isFirstChange(){return this.firstChange}}function VC(t,e,n,s){null!==e?e.applyValueToInputSignal(e,s):t[n]=s}function Ts(){return LC}function LC(t){return t.type.prototype.ngOnChanges&&(t.setInput=ck),ak}function ak(){const t=BC(this),e=t?.current;if(e){const n=t.previous;if(n===pr)t.previous=e;else for(let s in e)n[s]=e[s];t.current=null,this.ngOnChanges(e)}}function ck(t,e,n,s,r){const i=this.declaredInputs[s],o=BC(t)||function uk(t,e){return t[jC]=e}(t,{previous:pr,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[i];a[i]=new ok(u&&u.currentValue,n,c===pr),VC(t,e,r,n)}Ts.ngInherit=!0;const jC="__ngSimpleChanges__";function BC(t){return t[jC]||null}const mr=function(t,e,n){};let $C=!1;function Je(t){for(;Array.isArray(t);)t=t[Ct];return t}function uu(t,e){return Je(e[t])}function Fn(t,e){return Je(e[t.index])}function lu(t,e){return t.data[e]}function ya(t,e){return t[e]}function ls(t,e){const n=e[t];return bn(n)?n:n[Ct]}function em(t){return!(128&~t[K])}function _r(t,e){return null==e?null:t[e]}function qC(t){t[ma]=0}function gk(t){1024&t[K]||(t[K]|=1024,em(t)&&du(t))}function tm(t){return!!(9216&t[K]||t[go]?.dirty)}function nm(t){t[zs].changeDetectionScheduler?.notify(1),tm(t)?du(t):64&t[K]&&(function dk(){return $C}()?(t[K]|=1024,du(t)):t[zs].changeDetectionScheduler?.notify())}function du(t){t[zs].changeDetectionScheduler?.notify();let e=_o(t);for(;null!==e&&!(8192&e[K])&&(e[K]|=8192,em(e));)e=_o(e)}function sh(t,e){if(!(256&~t[K]))throw new x(911,!1);null===t[Ii]&&(t[Ii]=[]),t[Ii].push(e)}function _o(t){const e=t[Vt];return Sn(e)?e[Vt]:e}const le={lFrame:eb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function WC(){return le.bindingsEnabled}function T(){return le.lFrame.lView}function Re(){return le.lFrame.tView}function Pn(t){return le.lFrame.contextLView=t,t[ot]}function Vn(t){return le.lFrame.contextLView=null,t}function Ye(){let t=QC();for(;null!==t&&64===t.type;)t=t.parent;return t}function QC(){return le.lFrame.currentTNode}function yr(t,e){const n=le.lFrame;n.currentTNode=t,n.isParent=e}function rm(){return le.lFrame.isParent}function im(){le.lFrame.isParent=!1}function Ln(){const t=le.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ws(){return le.lFrame.bindingIndex++}function Tk(t,e){const n=le.lFrame;n.bindingIndex=n.bindingRootIndex=t,om(e)}function om(t){le.lFrame.currentDirectiveIndex=t}function rh(t){le.lFrame.currentQueryIndex=t}function xk(t){const e=t[k];return 2===e.type?e.declTNode:1===e.type?t[Cn]:null}function KC(t,e,n){if(n&Oe.SkipSelf){let r=e,i=t;for(;!(r=r.parent,null!==r||n&Oe.Host||(r=xk(i),null===r||(i=i[ga],10&r.type))););if(null===r)return!1;e=r,t=i}const s=le.lFrame=JC();return s.currentTNode=e,s.lView=t,!0}function um(t){const e=JC(),n=t[k];le.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function JC(){const t=le.lFrame,e=null===t?null:t.child;return null===e?eb(t):e}function eb(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function tb(){const t=le.lFrame;return le.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const nb=tb;function lm(){const t=tb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function En(){return le.lFrame.selectedIndex}function yo(t){le.lFrame.selectedIndex=t}function at(){const t=le.lFrame;return lu(t.tView,t.selectedIndex)}let rb=!0;function fu(){return rb}function vr(t){rb=t}function ih(t,e){for(let n=e.directiveStart,s=e.directiveEnd;n<s;n++){const i=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function oh(t,e,n){ib(t,e,3,n)}function ah(t,e,n,s){(3&t[K])===n&&ib(t,e,n,s)}function dm(t,e){let n=t[K];(3&n)===e&&(n&=16383,n+=1,t[K]=n)}function ib(t,e,n,s){const i=s??-1,o=e.length-1;let a=0;for(let c=void 0!==s?65535&t[ma]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=s&&a>=s)break}else e[c]<0&&(t[ma]+=65536),(a<i||-1==i)&&(Fk(t,n,e,c),t[ma]=(4294901760&t[ma])+c+2),c++}function ob(t,e){mr(4,t,e);const n=he(null);try{e.call(t)}finally{he(n),mr(5,t,e)}}function Fk(t,e,n,s){const r=n[s]<0,i=n[s+1],a=t[r?-n[s]:n[s]];r?t[K]>>14<t[ma]>>16&&(3&t[K])===e&&(t[K]+=16384,ob(a,i)):ob(a,i)}const wa=-1;class pu{constructor(e,n,s){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=s}}function fm(t){return t!==wa}function gu(t){return 32767&t}function mu(t,e){let n=function Bk(t){return t>>16}(t),s=e;for(;n>0;)s=s[ga],n--;return s}let pm=!0;function ch(t){const e=pm;return pm=t,e}const ab=255,cb=5;let Uk=0;const wr={};function uh(t,e){const n=ub(t,e);if(-1!==n)return n;const s=e[k];s.firstCreatePass&&(t.injectorIndex=e.length,gm(s.data,t),gm(e,null),gm(s.blueprint,null));const r=lh(t,e),i=t.injectorIndex;if(fm(r)){const o=gu(r),a=mu(r,e),c=a[k].data;for(let u=0;u<8;u++)e[i+u]=a[o+u]|c[o+u]}return e[i+8]=r,i}function gm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ub(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function lh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,s=null,r=e;for(;null!==r;){if(s=mb(r),null===s)return wa;if(n++,r=r[ga],-1!==s.injectorIndex)return s.injectorIndex|n<<16}return wa}function mm(t,e,n){!function Hk(t,e,n){let s;"string"==typeof n?s=n.charCodeAt(0)||0:n.hasOwnProperty(Jc)&&(s=n[Jc]),null==s&&(s=n[Jc]=Uk++);const r=s&ab;e.data[t+(r>>cb)]|=1<<r}(t,e,n)}function lb(t,e,n){if(n&Oe.Optional||void 0!==t)return t;Mg()}function db(t,e,n,s){if(n&Oe.Optional&&void 0===s&&(s=null),!(n&(Oe.Self|Oe.Host))){const r=t[Gt],i=Yn(void 0);try{return r?r.get(e,s,n&Oe.Optional):lC(e,s,n&Oe.Optional)}finally{Yn(i)}}return lb(s,0,n)}function hb(t,e,n,s=Oe.Default,r){if(null!==t){if(2048&e[K]&&!(s&Oe.Self)){const o=function Wk(t,e,n,s,r){let i=t,o=e;for(;null!==i&&null!==o&&2048&o[K]&&!(512&o[K]);){const a=fb(i,o,n,s|Oe.Self,wr);if(a!==wr)return a;let c=i.parent;if(!c){const u=o[RC];if(u){const l=u.get(n,wr,s);if(l!==wr)return l}c=mb(o),o=o[ga]}i=c}return r}(t,e,n,s,wr);if(o!==wr)return o}const i=fb(t,e,n,s,wr);if(i!==wr)return i}return db(e,n,s,r)}function fb(t,e,n,s,r){const i=function zk(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Jc)?t[Jc]:void 0;return"number"==typeof e?e>=0?e&ab:Gk:e}(n);if("function"==typeof i){if(!KC(e,t,s))return s&Oe.Host?lb(r,0,s):db(e,n,s,r);try{let o;if(o=i(s),null!=o||s&Oe.Optional)return o;Mg()}finally{nb()}}else if("number"==typeof i){let o=null,a=ub(t,e),c=wa,u=s&Oe.Host?e[It][Cn]:null;for((-1===a||s&Oe.SkipSelf)&&(c=-1===a?lh(t,e):e[a+8],c!==wa&&gb(s,!1)?(o=e[k],a=gu(c),e=mu(c,e)):a=-1);-1!==a;){const l=e[k];if(pb(i,a,l.data)){const d=qk(a,e,n,o,s,u);if(d!==wr)return d}c=e[a+8],c!==wa&&gb(s,e[k].data[a+8]===u)&&pb(i,a,e)?(o=l,a=gu(c),e=mu(c,e)):a=-1}}return r}function qk(t,e,n,s,r,i){const o=e[k],a=o.data[t+8],l=function dh(t,e,n,s,r){const i=t.providerIndexes,o=e.data,a=1048575&i,c=t.directiveStart,l=i>>20,h=r?a+l:t.directiveEnd;for(let f=s?a:a+l;f<h;f++){const p=o[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(r){const f=o[c];if(f&&Gs(f)&&f.type===n)return c}return null}(a,o,n,null==s?mo(a)&&pm:s!=o&&!!(3&a.type),r&Oe.Host&&i===a);return null!==l?vo(e,o,l,a):wr}function vo(t,e,n,s){let r=t[n];const i=e.data;if(function Pk(t){return t instanceof pu}(r)){const o=r;o.resolving&&function uR(t,e){throw e&&e.join(" > "),new x(-200,t)}(function Ue(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ye(t)}(i[n]));const a=ch(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Yn(o.injectImpl):null;KC(t,s,Oe.Default);try{r=t[n]=o.factory(void 0,i,t,s),e.firstCreatePass&&n>=s.directiveStart&&function kk(t,e,n){const{ngOnChanges:s,ngOnInit:r,ngDoCheck:i}=e.type.prototype;if(s){const o=LC(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}r&&(n.preOrderHooks??=[]).push(0-t,r),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}(n,i[n],e)}finally{null!==u&&Yn(u),ch(a),o.resolving=!1,nb()}}return r}function pb(t,e,n){return!!(n[e+(t>>cb)]&1<<t)}function gb(t,e){return!(t&Oe.Self||t&Oe.Host&&e)}class en{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,s){return hb(this._tNode,this._lView,e,Ud(s),n)}}function Gk(){return new en(Ye(),T())}function dn(t){return Gr(()=>{const e=t.prototype.constructor,n=e[Wr]||_m(e),s=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==s;){const i=r[Wr]||_m(r);if(i&&i!==n)return i;r=Object.getPrototypeOf(r)}return i=>new i})}function _m(t){return Pd(t)?()=>{const e=_m(oe(t));return e&&e()}:ho(t)}function mb(t){const e=t[k],n=e.type;return 2===n?e.declTNode:1===n?t[Cn]:null}function Db(t,e=null,n=null,s){const r=Cb(t,e,n,s);return r.resolveInjectorInitializers(),r}function Cb(t,e=null,n=null,s,r=new Set){const i=[n||Be,jR(t)];return s=s||("object"==typeof t?void 0:Xt(t)),new da(i,e||Xd(),s||null,r)}let jn=(()=>{class t{static{this.THROW_IF_NOT_FOUND=eu}static{this.NULL=new Gd}static create(n,s){if(Array.isArray(n))return Db({name:""},s,n,"");{const r=n.name??"";return Db({name:r},n.parent,n.providers,r)}}static{this.\u0275prov=W({token:t,providedIn:"any",factory:()=>ce(mC)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function vm(t){return t.ngOriginalError}class Dr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&vm(e);for(;n&&vm(n);)n=vm(n);return n||null}}const Sb=new j("",{providedIn:"root",factory:()=>O(Dr).handleError.bind(void 0)});let ba=(()=>{class t{static{this.__NG_ELEMENT_ID__=nF}static{this.__NG_ENV_ID__=n=>n}}return t})();class tF extends ba{constructor(e){super(),this._lView=e}onDestroy(e){return sh(this._lView,e),()=>function sm(t,e){if(null===t[Ii])return;const n=t[Ii].indexOf(e);-1!==n&&t[Ii].splice(n,1)}(this._lView,e)}}function nF(){return new tF(T())}function sF(){return Sa(Ye(),T())}function Sa(t,e){return new ds(Fn(t,e))}let ds=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=sF}}return t})();function wm(t){return e=>{setTimeout(t,void 0,e)}}const At=class rF extends is{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,AC()&&(this.destroyRef=O(ba,{optional:!0})??void 0)}emit(e){const n=he(null);try{super.next(e)}finally{he(n)}}subscribe(e,n,s){let r=e,i=n||(()=>null),o=s;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),i=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(i=wm(i),r&&(r=wm(r)),o&&(o=wm(o)));const a=super.subscribe({next:r,error:i,complete:o});return e instanceof kn&&e.add(a),a}};function fh(t){return!(128&~t.flags)}const Cm=new Map;let aF=0;const Sm="__ngContext__";function Tn(t,e){bn(e)?(t[Sm]=e[au],function uF(t){Cm.set(t[au],t)}(e)):t[Sm]=e}function Pb(t){return Lb(t[iu])}function Vb(t){return Lb(t[qs])}function Lb(t){for(;null!==t&&!Sn(t);)t=t[qs];return t}let Em;const Tm=new j("",{providedIn:"root",factory:()=>IF}),IF="ng",Gb=new j(""),wo=new j("",{providedIn:"platform",factory:()=>"unknown"}),Wb=new j("",{providedIn:"root",factory:()=>function xi(){if(void 0!==Em)return Em;if(typeof document<"u")return document;throw new x(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Qb=()=>null;function km(t,e,n=!1){return Qb(t,e,n)}const Jb=new j("",{providedIn:"root",factory:()=>!1});let bh;function sS(t){return function jm(){if(void 0===bh&&(bh=null,We.trustedTypes))try{bh=We.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return bh}()?.createScriptURL(t)||t}class rS{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eC})`}}function Mi(t){return t instanceof rS?t.changingThisBreaksApplicationSecurity:t}function Su(t,e){const n=function GF(t){return t instanceof rS&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${eC})`)}return n===e}const YF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var xa=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(xa||{});function fS(t){const e=Tu();return e?e.sanitize(xa.URL,t)||"":Su(t,"URL")?Mi(t):function Bm(t){return(t=String(t)).match(YF)?t:"unsafe:"+t}(ye(t))}function pS(t){const e=Tu();if(e)return sS(e.sanitize(xa.RESOURCE_URL,t)||"");if(Su(t,"ResourceURL"))return sS(Mi(t));throw new x(904,!1)}function Tu(){const t=T();return t&&t[zs].sanitizer}const hP=/^>|^->|<!--|-->|--!>|<!-$/g,fP=/(<|>)/g,pP="\u200b$1\u200b";function hs(t){return t instanceof Function?t():t}var Ai=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ai||{});let Wm;function Qm(t,e){return Wm(t,e)}function Aa(t,e,n,s,r){if(null!=s){let i,o=!1;Sn(s)?i=s:bn(s)&&(o=!0,s=s[Ct]);const a=Je(s);0===t&&null!==n?null==r?IS(e,n,a):Do(e,n,a,r||null,!0):1===t&&null!==n?Do(e,n,a,r||null,!0):2===t?function Mu(t,e,n){const s=Mh(t,e);s&&function RP(t,e,n,s){t.removeChild(e,n,s)}(t,s,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=i&&function PP(t,e,n,s,r){const i=n[gr];i!==Je(n)&&Aa(e,t,s,i,r);for(let a=Lt;a<n.length;a++){const c=n[a];Nh(c[k],c,t,e,s,i)}}(e,t,i,n,r)}}function Ym(t,e){return t.createComment(function mS(t){return t.replace(hP,e=>e.replace(fP,pP))}(e))}function Ih(t,e,n){return t.createElement(e,n)}function SS(t,e){e[zs].changeDetectionScheduler?.notify(1),Nh(t,e,e[ue],2,null,null)}function ES(t,e){const n=t[_a],s=n.indexOf(e);n.splice(s,1)}function Iu(t,e){if(t.length<=Lt)return;const n=Lt+e,s=t[n];if(s){const r=s[ou];null!==r&&r!==t&&ES(r,s),e>0&&(t[n-1][qs]=s[qs]);const i=qd(t,Lt+e);!function TP(t,e){SS(t,e),e[Ct]=null,e[Cn]=null}(s[k],s);const o=i[Zr];null!==o&&o.detachView(i[k]),s[Vt]=null,s[qs]=null,s[K]&=-129}return s}function xh(t,e){if(!(256&e[K])){const n=e[ue];n.destroyNode&&Nh(t,e,n,3,null,null),function xP(t){let e=t[iu];if(!e)return Xm(t[k],t);for(;e;){let n=null;if(bn(e))n=e[iu];else{const s=e[Lt];s&&(n=s)}if(!n){for(;e&&!e[qs]&&e!==t;)bn(e)&&Xm(e[k],e),e=e[Vt];null===e&&(e=t),bn(e)&&Xm(e[k],e),n=e&&e[qs]}e=n}}(e)}}function Xm(t,e){if(256&e[K])return;const n=he(null);try{e[K]&=-129,e[K]|=256,e[go]&&function Jo(t){if(Di(t),wi(t))for(let e=0;e<t.producerNode.length;e++)oo(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(e[go]),function OP(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let s=0;s<n.length;s+=2){const r=e[n[s]];if(!(r instanceof pu)){const i=n[s+1];if(Array.isArray(i))for(let o=0;o<i.length;o+=2){const a=r[i[o]],c=i[o+1];mr(4,a,c);try{c.call(a)}finally{mr(5,a,c)}}else{mr(4,r,i);try{i.call(r)}finally{mr(5,r,i)}}}}}(t,e),function NP(t,e){const n=t.cleanup,s=e[pa];if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const o=n[i+3];o>=0?s[o]():s[-o].unsubscribe(),i+=2}else n[i].call(s[n[i+1]]);null!==s&&(e[pa]=null);const r=e[Ii];if(null!==r){e[Ii]=null;for(let i=0;i<r.length;i++)(0,r[i])()}}(t,e),1===e[k].type&&e[ue].destroy();const s=e[ou];if(null!==s&&Sn(e[Vt])){s!==e[Vt]&&ES(s,e);const r=e[Zr];null!==r&&r.detachView(t)}!function lF(t){Cm.delete(t[au])}(e)}finally{he(n)}}function Km(t,e,n){return function TS(t,e,n){let s=e;for(;null!==s&&40&s.type;)s=(e=s).parent;if(null===s)return n[Ct];{const{componentOffset:r}=s;if(r>-1){const{encapsulation:i}=t.data[s.directiveStart+r];if(i===Hs.None||i===Hs.Emulated)return null}return Fn(s,n)}}(t,e.parent,n)}function Do(t,e,n,s,r){t.insertBefore(e,n,s,r)}function IS(t,e,n){t.appendChild(e,n)}function xS(t,e,n,s,r){null!==s?Do(t,e,n,s,r):IS(t,e,n)}function Mh(t,e){return t.parentNode(e)}let Jm,NS=function AS(t,e,n){return 40&t.type?Fn(t,n):null};function Ah(t,e,n,s){const r=Km(t,s,e),i=e[ue],a=function MS(t,e,n){return NS(t,e,n)}(s.parent||e[Cn],s,e);if(null!=r)if(Array.isArray(n))for(let c=0;c<n.length;c++)xS(i,r,n[c],a,!1);else xS(i,r,n,a,!1);void 0!==Jm&&Jm(i,s,e,n,r)}function xu(t,e){if(null!==e){const n=e.type;if(3&n)return Fn(e,t);if(4&n)return e_(-1,t[e.index]);if(8&n){const s=e.child;if(null!==s)return xu(t,s);{const r=t[e.index];return Sn(r)?e_(-1,r):Je(r)}}if(32&n)return Qm(e,t)()||Je(t[e.index]);{const s=RS(t,e);return null!==s?Array.isArray(s)?s[0]:xu(_o(t[It]),s):xu(t,e.next)}}return null}function RS(t,e){return null!==e?t[It][Cn].projection[e.projection]:null}function e_(t,e){const n=Lt+t+1;if(n<e.length){const s=e[n],r=s[k].firstChild;if(null!==r)return xu(s,r)}return e[gr]}function t_(t,e,n,s,r,i,o){for(;null!=n;){const a=s[n.index],c=n.type;if(o&&0===e&&(a&&Tn(Je(a),s),n.flags|=2),32&~n.flags)if(8&c)t_(t,e,n.child,s,r,i,!1),Aa(e,t,r,a,i);else if(32&c){const u=Qm(n,s);let l;for(;l=u();)Aa(e,t,r,l,i);Aa(e,t,r,a,i)}else 16&c?FS(t,e,s,n,r,i):Aa(e,t,r,a,i);n=o?n.projectionNext:n.next}}function Nh(t,e,n,s,r,i){t_(n,s,t.firstChild,e,r,i,!1)}function FS(t,e,n,s,r,i){const o=n[It],c=o[Cn].projection[s.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Aa(e,t,r,c[u],i);else{let u=c;const l=o[Vt];fh(s)&&(u.flags|=128),t_(t,e,u,l,r,i,!0)}}function PS(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function VS(t,e,n){const{mergedAttrs:s,classes:r,styles:i}=n;null!==s&&Pg(t,e,s),null!==r&&PS(t,e,r),null!==i&&function LP(t,e,n){t.setAttribute(e,"style",n)}(t,e,i)}const we={};function xe(t=1){LS(Re(),T(),En()+t,!1)}function LS(t,e,n,s){if(!s)if(3&~e[K]){const i=t.preOrderHooks;null!==i&&ah(e,i,0,n)}else{const i=t.preOrderCheckHooks;null!==i&&oh(e,i,n)}yo(n)}function M(t,e=Oe.Default){const n=T();return null===n?ce(t,e):hb(Ye(),n,oe(t),e)}function BS(t,e,n,s,r,i){const o=he(null);try{let a=null;r&yt.SignalBased&&(a=e[s][Dt]),null!==a&&void 0!==a.transformFn&&(i=a.transformFn(i)),r&yt.HasDecoratorInputTransform&&(i=t.inputTransforms[s].call(e,i)),null!==t.setInput?t.setInput(e,a,i,n,s):VC(e,a,s,i)}finally{he(o)}}function Oh(t,e,n,s,r,i,o,a,c,u,l){const d=e.blueprint.slice();return d[Ct]=r,d[K]=204|s,(null!==u||t&&2048&t[K])&&(d[K]|=2048),qC(d),d[Vt]=d[ga]=t,d[ot]=n,d[zs]=o||t&&t[zs],d[ue]=a||t&&t[ue],d[Gt]=c||t&&t[Gt]||null,d[Cn]=i,d[au]=function cF(){return aF++}(),d[us]=l,d[RC]=u,d[It]=2==e.type?t[It]:d,d}function Na(t,e,n,s,r){let i=t.data[e];if(null===i)i=function n_(t,e,n,s,r){const i=QC(),o=rm(),c=t.data[e]=function GP(t,e,n,s,r,i){let o=e?e.injectorIndex:-1,a=0;return function va(){return null!==le.skipHydrationRootTNode}()&&(a|=128),{type:n,index:s,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?i:i&&i.parent,n,e,s,r);return null===t.firstChild&&(t.firstChild=c),null!==i&&(o?null==i.child&&null!==c.parent&&(i.child=c):null===i.next&&(i.next=c,c.prev=i)),c}(t,e,n,s,r),function Ek(){return le.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=s,i.attrs=r;const o=function hu(){const t=le.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();i.injectorIndex=null===o?-1:o.injectorIndex}return yr(i,!0),i}function Au(t,e,n,s){if(0===n)return-1;const r=e.length;for(let i=0;i<n;i++)e.push(s),t.blueprint.push(s),t.data.push(null);return r}function US(t,e,n,s,r){const i=En(),o=2&s;try{yo(-1),o&&e.length>ve&&LS(t,e,ve,!1),mr(o?2:0,r),n(s,r)}finally{yo(i),mr(o?3:1,r)}}function s_(t,e,n){if(Qg(e)){const s=he(null);try{const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{he(s)}}}function r_(t,e,n){WC()&&(function JP(t,e,n,s){const r=n.directiveStart,i=n.directiveEnd;mo(n)&&function oV(t,e,n){const s=Fn(e,t),r=HS(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Rh(t,Oh(t,r,null,o,s,e,null,t[zs].rendererFactory.createRenderer(s,n),null,null,null));t[e.index]=a}(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||uh(n,e),Tn(s,e);const o=n.initialInputs;for(let a=r;a<i;a++){const c=t.data[a],u=vo(e,t,a,n);Tn(u,e),null!==o&&aV(0,a-r,u,c,0,o),Gs(c)&&(ls(n.index,e)[ot]=vo(e,t,a,n))}}(t,e,n,Fn(n,e)),!(64&~n.flags)&&WS(t,e,n))}function i_(t,e,n=Fn){const s=e.localNames;if(null!==s){let r=e.index+1;for(let i=0;i<s.length;i+=2){const o=s[i+1],a=-1===o?n(e,t):t[o];t[r++]=a}}}function HS(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=o_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function o_(t,e,n,s,r,i,o,a,c,u,l){const d=ve+s,h=d+r,f=function BP(t,e){const n=[];for(let s=0;s<e;s++)n.push(s<t?null:we);return n}(d,h),p="function"==typeof u?u():u;return f[k]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}let $S=()=>null;function qS(t,e,n,s,r){for(let i in e){if(!e.hasOwnProperty(i))continue;const o=e[i];if(void 0===o)continue;s??={};let a,c=yt.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=i;if(null!==r){if(!r.hasOwnProperty(i))continue;u=r[i]}0===t?zS(s,n,u,a,c):zS(s,n,u,a)}return s}function zS(t,e,n,s,r){let i;t.hasOwnProperty(n)?(i=t[n]).push(e,s):i=t[n]=[e,s],void 0!==r&&i.push(r)}function es(t,e,n,s,r,i,o,a){const c=Fn(e,n);let l,u=e.inputs;!a&&null!=u&&(l=u[s])?(d_(t,n,l,s,r),mo(e)&&function ZP(t,e){const n=ls(e,t);16&n[K]||(n[K]|=64)}(n,e.index)):3&e.type&&(s=function QP(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(s),r=null!=o?o(r,e.value||"",s):r,i.setProperty(c,s,r))}function a_(t,e,n,s){if(WC()){const r=null===s?null:{"":-1},i=function tV(t,e){const n=t.directiveRegistry;let s=null,r=null;if(n)for(let i=0;i<n.length;i++){const o=n[i];if(DC(e,o.selectors,!1))if(s||(s=[]),Gs(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),s.unshift(...a,o),c_(t,e,a.length)}else s.unshift(o),c_(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,s,r),s.push(o)}return null===s?null:[s,r]}(t,n);let o,a;null===i?o=a=null:[o,a]=i,null!==o&&GS(t,e,n,o,r,a),r&&function nV(t,e,n){if(e){const s=t.localNames=[];for(let r=0;r<e.length;r+=2){const i=n[e[r+1]];if(null==i)throw new x(-301,!1);s.push(e[r],i)}}}(n,s,r)}n.mergedAttrs=nu(n.mergedAttrs,n.attrs)}function GS(t,e,n,s,r,i){for(let u=0;u<s.length;u++)mm(uh(n,e),t,s[u].type);!function rV(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,s.length);for(let u=0;u<s.length;u++){const l=s[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=Au(t,e,s.length,null);for(let u=0;u<s.length;u++){const l=s[u];n.mergedAttrs=nu(n.mergedAttrs,l.hostAttrs),iV(t,n,e,c,l),sV(c,l,r),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function WP(t,e,n){const r=e.directiveEnd,i=t.data,o=e.attrs,a=[];let c=null,u=null;for(let l=e.directiveStart;l<r;l++){const d=i[l],h=n?n.get(d):null,p=h?h.outputs:null;c=qS(0,d.inputs,l,c,h?h.inputs:null),u=qS(1,d.outputs,l,u,p);const g=null===c||null===o||Vg(e)?null:cV(c,l,o);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(t,n,i)}function WS(t,e,n){const s=n.directiveStart,r=n.directiveEnd,i=n.index,o=function Ik(){return le.lFrame.currentDirectiveIndex}();try{yo(i);for(let a=s;a<r;a++){const c=t.data[a],u=e[a];om(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&eV(c,u)}}finally{yo(-1),om(o)}}function eV(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function c_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function sV(t,e,n){if(n){if(e.exportAs)for(let s=0;s<e.exportAs.length;s++)n[e.exportAs[s]]=t;Gs(e)&&(n[""]=t)}}function iV(t,e,n,s,r){t.data[s]=r;const i=r.factory||(r.factory=ho(r.type)),o=new pu(i,Gs(r),M);t.blueprint[s]=o,n[s]=o,function XP(t,e,n,s,r){const i=r.hostBindings;if(i){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function KP(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,s,i)}}(t,e,s,Au(t,n,r.hostVars,we),r)}function Cr(t,e,n,s,r,i){const o=Fn(t,e);!function u_(t,e,n,s,r,i,o){if(null==i)t.removeAttribute(e,r,n);else{const a=null==o?ye(i):o(i,s||"",r);t.setAttribute(e,r,a,n)}}(e[ue],o,i,t.value,n,s,r)}function aV(t,e,n,s,r,i){const o=i[e];if(null!==o)for(let a=0;a<o.length;)BS(s,n,o[a++],o[a++],o[a++],o[a++])}function cV(t,e,n){let s=null,r=0;for(;r<n.length;){const i=n[r];if(0!==i)if(5!==i){if("number"==typeof i)break;if(t.hasOwnProperty(i)){null===s&&(s=[]);const o=t[i];for(let a=0;a<o.length;a+=3)if(o[a]===e){s.push(i,o[a+1],o[a+2],n[r+1]);break}}r+=2}else r+=2;else r+=4}return s}function QS(t,e,n,s){return[t,!0,0,e,null,s,null,n,null,null]}function ZS(t,e){const n=t.contentQueries;if(null!==n){const s=he(null);try{for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const a=t.data[o];rh(n[r]),a.contentQueries(2,e[o],o)}}}finally{he(s)}}}function Rh(t,e){return t[iu]?t[OC][qs]=e:t[iu]=e,t[OC]=e,e}function l_(t,e,n){rh(0);const s=he(null);try{e(t,n)}finally{he(s)}}function kh(t,e){const n=t[Gt],s=n?n.get(Dr,null):null;s&&s.handleError(e)}function d_(t,e,n,s,r){for(let i=0;i<n.length;){const o=n[i++],a=n[i++],c=n[i++];BS(t.data[o],e[o],s,a,c,r)}}function uV(t,e){const n=ls(e,t),s=n[k];!function lV(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(s,n);const r=n[Ct];null!==r&&null===n[us]&&(n[us]=km(r,n[Gt])),h_(s,n,n[ot])}function h_(t,e,n){um(e);try{const s=t.viewQuery;null!==s&&l_(1,s,n);const r=t.template;null!==r&&US(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Zr]?.finishViewCreation(t),t.staticContentQueries&&ZS(t,e),t.staticViewQueries&&l_(2,t.viewQuery,n);const i=t.components;null!==i&&function dV(t,e){for(let n=0;n<e.length;n++)uV(t,e[n])}(e,i)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),s}finally{e[K]&=-5,lm()}}function Oa(t,e){return!e||null===e.firstChild||fh(t)}function Ou(t,e,n,s=!0){const r=e[k];if(function MP(t,e,n,s){const r=Lt+s,i=n.length;s>0&&(n[r-1][qs]=e),s<i-Lt?(e[qs]=n[r],fC(n,Lt+s,e)):(n.push(e),e[qs]=null),e[Vt]=n;const o=e[ou];null!==o&&n!==o&&function AP(t,e){const n=t[_a];e[It]!==e[Vt][Vt][It]&&(t[K]|=Wg.HasTransplantedViews),null===n?t[_a]=[e]:n.push(e)}(o,e);const a=e[Zr];null!==a&&a.insertView(t),nm(e),e[K]|=128}(r,e,t,n),s){const o=e_(n,t),a=e[ue],c=Mh(a,t[gr]);null!==c&&function IP(t,e,n,s,r,i){s[Ct]=r,s[Cn]=e,Nh(t,s,n,1,r,i)}(r,t[Cn],a,e,c,o)}const i=e[us];null!==i&&null!==i.firstChild&&(i.firstChild=null)}function Ru(t,e,n,s,r=!1){for(;null!==n;){const i=e[n.index];null!==i&&s.push(Je(i)),Sn(i)&&e0(i,s);const o=n.type;if(8&o)Ru(t,e,n.child,s);else if(32&o){const a=Qm(n,e);let c;for(;c=a();)s.push(c)}else if(16&o){const a=RS(e,n);if(Array.isArray(a))s.push(...a);else{const c=_o(e[It]);Ru(c[k],c,a,s,!0)}}n=r?n.projectionNext:n.next}return s}function e0(t,e){for(let n=Lt;n<t.length;n++){const s=t[n],r=s[k].firstChild;null!==r&&Ru(s[k],s,r,e)}t[gr]!==t[Ct]&&e.push(t[gr])}let t0=[];const gV={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{du(t.lView)},consumerOnSignalRead(){this.lView[go]=this}},n0=100;function Fh(t,e=!0,n=0){const s=t[zs],r=s.rendererFactory;r.begin?.();try{!function mV(t,e){p_(t,e);let n=0;for(;tm(t);){if(n===n0)throw new x(103,!1);n++,p_(t,1)}}(t,n)}catch(o){throw e&&kh(t,o),o}finally{r.end?.(),s.inlineEffectRunner?.flush()}}function _V(t,e,n,s){const r=e[K];if(!(256&~r))return;e[zs].inlineEffectRunner?.flush(),um(e);let o=null,a=null;(function yV(t){return 2!==t.type})(t)&&(a=function hV(t){return t[go]??function fV(t){const e=t0.pop()??Object.create(gV);return e.lView=t,e}(t)}(e),o=function Ko(t){return t&&(t.nextProducerIndex=0),he(t)}(a));try{qC(e),function YC(t){return le.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&US(t,e,n,2,s);const c=!(3&~r);if(c){const d=t.preOrderCheckHooks;null!==d&&oh(e,d,null)}else{const d=t.preOrderHooks;null!==d&&ah(e,d,0,null),dm(e,0)}if(function vV(t){for(let e=Pb(t);null!==e;e=Vb(e)){if(!(e[K]&Wg.HasTransplantedViews))continue;const n=e[_a];for(let s=0;s<n.length;s++){gk(n[s])}}}(e),s0(e,0),null!==t.contentQueries&&ZS(t,e),c){const d=t.contentCheckHooks;null!==d&&oh(e,d)}else{const d=t.contentHooks;null!==d&&ah(e,d,1),dm(e,1)}!function jP(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let s=0;s<n.length;s++){const r=n[s];if(r<0)yo(~r);else{const i=r,o=n[++s],a=n[++s];Tk(o,i),a(2,e[i])}}}finally{yo(-1)}}(t,e);const u=t.components;null!==u&&o0(e,u,0);const l=t.viewQuery;if(null!==l&&l_(2,l,s),c){const d=t.viewCheckHooks;null!==d&&oh(e,d)}else{const d=t.viewHooks;null!==d&&ah(e,d,2),dm(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[eh]){for(const d of e[eh])d();e[eh]=null}e[K]&=-73}catch(c){throw du(e),c}finally{null!==a&&(function Wc(t,e){if(he(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(wi(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)oo(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(a,o),function pV(t){t.lView[go]!==t&&(t.lView=null,t0.push(t))}(a)),lm()}}function s0(t,e){for(let n=Pb(t);null!==n;n=Vb(n))for(let s=Lt;s<n.length;s++)r0(n[s],e)}function wV(t,e,n){r0(ls(e,t),n)}function r0(t,e){em(t)&&p_(t,e)}function p_(t,e){const s=t[k],r=t[K],i=t[go];let o=!!(0===e&&16&r);if(o||=!!(64&r&&0===e),o||=!!(1024&r),o||=!(!i?.dirty||!io(i)),i&&(i.dirty=!1),t[K]&=-9217,o)_V(s,t,s.template,t[ot]);else if(8192&r){s0(t,1);const a=s.components;null!==a&&o0(t,a,1)}}function o0(t,e,n){for(let s=0;s<e.length;s++)wV(t,e[s],n)}function ku(t){for(t[zs].changeDetectionScheduler?.notify();t;){t[K]|=64;const e=_o(t);if(Zg(t)&&!e)return t;t=e}return null}class Fu{get rootNodes(){const e=this._lView,n=e[k];return Ru(n,e,n.firstChild,[])}constructor(e,n,s=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ot]}set context(e){this._lView[ot]=e}get destroyed(){return!(256&~this._lView[K])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Vt];if(Sn(e)){const n=e[8],s=n?n.indexOf(this):-1;s>-1&&(Iu(e,s),qd(n,s))}this._attachedToViewContainer=!1}xh(this._lView[k],this._lView)}onDestroy(e){sh(this._lView,e)}markForCheck(){ku(this._cdRefInjectingView||this._lView)}detach(){this._lView[K]&=-129}reattach(){nm(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,Fh(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,SS(this._lView[k],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e,nm(this._lView)}}let ei=(()=>{class t{static{this.__NG_ELEMENT_ID__=bV}}return t})();const DV=ei,CV=class extends DV{constructor(e,n,s){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,s){const r=function Nu(t,e,n,s){const r=he(null);try{const i=e.tView,c=Oh(t,i,n,4096&t[K]?4096:16,null,e,null,null,s?.injector??null,s?.embeddedViewInjector??null,s?.dehydratedView??null);c[ou]=t[e.index];const l=t[Zr];return null!==l&&(c[Zr]=l.createEmbeddedView(i)),h_(i,c,n),c}finally{he(r)}}(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:s});return new Fu(r)}};function bV(){return Ph(Ye(),T())}function Ph(t,e){return 4&t.type?new CV(e,t,Sa(t,e)):null}class w_{}class WV{}class f0{}class ZV{resolveComponentFactory(e){throw function QV(t){const e=Error(`No component factory found for ${Xt(t)}.`);return e.ngComponent=t,e}(e)}}let Uh=(()=>{class t{static{this.NULL=new ZV}}return t})();class g0{}let ti=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function YV(){const t=T(),n=ls(Ye().index,t);return(bn(n)?n:t)[ue]}()}}return t})(),XV=(()=>{class t{static{this.\u0275prov=W({token:t,providedIn:"root",factory:()=>null})}}return t})();const D_={},m0=new Set;function br(t){m0.has(t)||(m0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function _0(...t){}class Xe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new At(!1),this.onMicrotaskEmpty=new At(!1),this.onStable=new At(!1),this.onError=new At(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!s&&n,r.shouldCoalesceRunChangeDetection=s,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function KV(){const t="function"==typeof We.requestAnimationFrame;let e=We[t?"requestAnimationFrame":"setTimeout"],n=We[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const s=e[Zone.__symbol__("OriginalDelegate")];s&&(e=s);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function tL(t){const e=()=>{!function eL(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(We,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,b_(t),t.isCheckStableRunning=!0,C_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),b_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,s,r,i,o,a)=>{if(function nL(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(r,i,o,a);try{return y0(t),n.invokeTask(r,i,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||t.shouldCoalesceRunChangeDetection)&&e(),v0(t)}},onInvoke:(n,s,r,i,o,a,c)=>{try{return y0(t),n.invoke(r,i,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),v0(t)}},onHasTask:(n,s,r,i)=>{n.hasTask(r,i),s===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,b_(t),C_(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,s,r,i)=>(n.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xe.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(Xe.isInAngularZone())throw new x(909,!1)}run(e,n,s){return this._inner.run(e,n,s)}runTask(e,n,s,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,JV,_0,_0);try{return i.runTask(o,n,s)}finally{i.cancelTask(o)}}runGuarded(e,n,s){return this._inner.runGuarded(e,n,s)}runOutsideAngular(e){return this._outer.run(e)}}const JV={};function C_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function b_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function y0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function v0(t){t._nesting--,C_(t)}var Co=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Co||{});const D0={destroy(){}};function E_(t,e){!e&&function Kd(t){if(!AC())throw new x(-203,!1)}();const n=e?.injector??O(jn);if(!function Qs(t){return"browser"===(t??O(jn)).get(wo)}(n))return D0;br("NgAfterNextRender");const s=n.get(Bu),r=s.handler??=new b0,i=e?.phase??Co.MixedReadWrite,o=()=>{r.unregister(c),a()},a=n.get(ba).onDestroy(o),c=Qr(n,()=>new C0(i,()=>{o(),t()}));return r.register(c),{destroy:o}}class C0{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=O(Xe),this.errorHandler=O(Dr,{optional:!0}),O(w_,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class b0{constructor(){this.executingCallbacks=!1,this.buckets={[Co.EarlyRead]:new Set,[Co.Write]:new Set,[Co.MixedReadWrite]:new Set,[Co.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const n of e)n.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let Bu=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const s of n)s()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=W({token:t,providedIn:"root",factory:()=>new t})}}return t})();function $h(t,e,n){let s=n?t.styles:null,r=n?t.classes:null,i=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?i=a:1==i?r=wg(r,a):2==i&&(s=wg(s,a+": "+e[++o]+";"))}n?t.styles=s:t.stylesWithoutHost=s,n?t.classes=r:t.classesWithoutHost=r}class T0 extends Uh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ie(e);return new $u(n,this.ngModule)}}function I0(t){const e=[];for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n];void 0!==s&&e.push({propName:Array.isArray(s)?s[0]:s,templateName:n})}return e}class qh{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,s){s=Ud(s);const r=this.injector.get(e,D_,s);return r!==D_||n===D_?r:this.parentInjector.get(e,n,s)}}class $u extends f0{get inputs(){const e=this.componentDef,n=e.inputTransforms,s=I0(e.inputs);if(null!==n)for(const r of s)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return s}get outputs(){return I0(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function RR(t){return t.map(OR).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,s,r){const i=he(null);try{let o=(r=r||this.ngModule)instanceof Kn?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new qh(e,o):e,c=a.get(g0,null);if(null===c)throw new x(407,!1);const u=a.get(XV,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:a.get(Bu,null),changeDetectionScheduler:a.get(w_,null)},f=c.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=s?function UP(t,e,n,s){const i=s.get(Jb,!1)||n===Hs.ShadowDom,o=t.selectRootElement(e,i);return function HP(t){$S(t)}(o),o}(f,s,this.componentDef.encapsulation,a):Ih(f,p,function aL(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(p));let _=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let m=null;null!==g&&(m=km(g,a,!0));const y=o_(0,null,null,1,0,null,null,null,null,null,null),D=Oh(null,y,null,_,null,null,h,f,a,null,m);let b,v;um(D);try{const S=this.componentDef;let C,E=null;S.findHostDirectiveDefs?(C=[],E=new Map,S.findHostDirectiveDefs(S,C,E),C.push(S)):C=[S];const R=function uL(t,e){const n=t[k],s=ve;return t[s]=e,Na(n,s,2,"#host",null)}(D,g),N=function lL(t,e,n,s,r,i,o){const a=r[k];!function dL(t,e,n,s){for(const r of t)e.mergedAttrs=nu(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&($h(e,e.mergedAttrs,!0),null!==n&&VS(s,n,e))}(s,t,e,o);let c=null;null!==e&&(c=km(e,r[Gt]));const u=i.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Oh(r,HS(n),null,l,r[t.index],t,i,u,null,null,c);return a.firstCreatePass&&c_(a,t,s.length-1),Rh(r,d),r[t.index]=d}(R,g,S,C,D,h,f);v=lu(y,ve),g&&function fL(t,e,n,s){if(s)Pg(t,n,["ng-version","17.3.12"]);else{const{attrs:r,classes:i}=function kR(t){const e=[],n=[];let s=1,r=2;for(;s<t.length;){let i=t[s];if("string"==typeof i)2===r?""!==i&&e.push(i,t[++s]):8===r&&n.push(i);else{if(!$s(r))break;r=i}s++}return{attrs:e,classes:n}}(e.selectors[0]);r&&Pg(t,n,r),i&&i.length>0&&PS(t,n,i.join(" "))}}(f,S,g,s),void 0!==n&&function pL(t,e,n){const s=t.projection=[];for(let r=0;r<e.length;r++){const i=n[r];s.push(null!=i?Array.from(i):null)}}(v,this.ngContentSelectors,n),b=function hL(t,e,n,s,r,i){const o=Ye(),a=r[k],c=Fn(o,r);GS(a,r,o,n,null,s);for(let l=0;l<n.length;l++)Tn(vo(r,a,o.directiveStart+l,o),r);WS(a,r,o),c&&Tn(c,r);const u=vo(r,a,o.directiveStart+o.componentOffset,o);if(t[ot]=r[ot]=u,null!==i)for(const l of i)l(u,e);return s_(a,o,r),u}(N,S,C,E,D,[gL]),h_(y,D,null)}finally{lm()}return new cL(this.componentType,b,Sa(v,D),D,v)}finally{he(i)}}}class cL extends WV{constructor(e,n,s,r,i){super(),this.location=s,this._rootLView=r,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Fu(r,void 0,!1),this.componentType=e}setInput(e,n){const s=this._tNode.inputs;let r;if(null!==s&&(r=s[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const i=this._rootLView;d_(i[k],i,r,e,n),this.previousInputValues.set(e,n),ku(ls(this._tNode.index,i))}}get injector(){return new en(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function gL(){const t=Ye();ih(T()[k],t)}let Zs=(()=>{class t{static{this.__NG_ELEMENT_ID__=mL}}return t})();function mL(){return function A0(t,e){let n;const s=e[t.index];return Sn(s)?n=s:(n=QS(s,e,null,t),e[t.index]=n,Rh(e,n)),N0(n,e,t,s),new x0(n,t,e)}(Ye(),T())}const _L=Zs,x0=class extends _L{constructor(e,n,s){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=s}get element(){return Sa(this._hostTNode,this._hostLView)}get injector(){return new en(this._hostTNode,this._hostLView)}get parentInjector(){const e=lh(this._hostTNode,this._hostLView);if(fm(e)){const n=mu(e,this._hostLView),s=gu(e);return new en(n[k].data[s+8],n)}return new en(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=M0(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Lt}createEmbeddedView(e,n,s){let r,i;"number"==typeof s?r=s:null!=s&&(r=s.index,i=s.injector);const a=e.createEmbeddedViewImpl(n||{},i,null);return this.insertImpl(a,r,Oa(this._hostTNode,null)),a}createComponent(e,n,s,r,i){const o=e&&!function ru(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const p=n||{};a=p.index,s=p.injector,r=p.projectableNodes,i=p.environmentInjector||p.ngModuleRef}const c=o?e:new $u(Ie(e)),u=s||this.parentInjector;if(!i&&null==c.ngModule){const g=(o?u:this.parentInjector).get(Kn,null);g&&(i=g)}Ie(c.componentType??{});const f=c.create(u,r,null,i);return this.insertImpl(f.hostView,a,Oa(this._hostTNode,null)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,s){const r=e._lView;if(function pk(t){return Sn(t[Vt])}(r)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=r[Vt],u=new x0(c,c[Cn],c[Vt]);u.detach(u.indexOf(e))}}const i=this._adjustIndex(n),o=this._lContainer;return Ou(o,r,i,s),e.attachToViewContainerRef(),fC(x_(o),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=M0(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),s=Iu(this._lContainer,n);s&&(qd(x_(this._lContainer),n),xh(s[k],s))}detach(e){const n=this._adjustIndex(e,-1),s=Iu(this._lContainer,n);return s&&null!=qd(x_(this._lContainer),n)?new Fu(s):null}_adjustIndex(e,n=0){return e??this.length+n}};function M0(t){return t[8]}function x_(t){return t[8]||(t[8]=[])}let N0=function R0(t,e,n,s){if(t[gr])return;let r;r=8&n.type?Je(s):function yL(t,e){const n=t[ue],s=n.createComment(""),r=Fn(e,t);return Do(n,Mh(n,r),s,function kP(t,e){return t.nextSibling(e)}(n,r),!1),s}(e,n),t[gr]=r},M_=()=>!1;function $0(t){return function U0(t){return"function"==typeof t&&void 0!==t[Dt]}(t)&&"function"==typeof t.set}function Ke(t){let e=function eE(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const s=[t];for(;e;){let r;if(Gs(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);r=e.\u0275dir}if(r){if(n){s.push(r);const o=t;o.inputs=Gh(t.inputs),o.inputTransforms=Gh(t.inputTransforms),o.declaredInputs=Gh(t.declaredInputs),o.outputs=Gh(t.outputs);const a=r.hostBindings;a&&HL(t,a);const c=r.viewQuery,u=r.contentQueries;if(c&&BL(t,c),u&&UL(t,u),LL(t,r),JO(t.outputs,r.outputs),Gs(r)&&r.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(r.data.animation)}}const i=r.features;if(i)for(let o=0;o<i.length;o++){const a=i[o];a&&a.ngInherit&&a(t),a===Ke&&(n=!1)}}e=Object.getPrototypeOf(e)}!function jL(t){let e=0,n=null;for(let s=t.length-1;s>=0;s--){const r=t[s];r.hostVars=e+=r.hostVars,r.hostAttrs=nu(r.hostAttrs,n=nu(n,r.hostAttrs))}}(s)}function LL(t,e){for(const n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;const s=e.inputs[n];if(void 0!==s&&(t.inputs[n]=s,t.declaredInputs[n]=e.declaredInputs[n],null!==e.inputTransforms)){const r=Array.isArray(s)?s[0]:s;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function Gh(t){return t===pr?{}:t===Be?[]:t}function BL(t,e){const n=t.viewQuery;t.viewQuery=n?(s,r)=>{e(s,r),n(s,r)}:e}function UL(t,e){const n=t.contentQueries;t.contentQueries=n?(s,r,i)=>{e(s,r,i),n(s,r,i)}:e}function HL(t,e){const n=t.hostBindings;t.hostBindings=n?(s,r)=>{e(s,r),n(s,r)}:e}function rE(t){const e=t.inputConfig,n={};for(const s in e)if(e.hasOwnProperty(s)){const r=e[s];Array.isArray(r)&&r[3]&&(n[s]=r[3])}t.inputTransforms=n}class bo{}class iE{}class L_ extends bo{constructor(e,n,s){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new T0(this);const r=Dn(e);this._bootstrapComponents=hs(r.bootstrap),this._r3Injector=Cb(e,n,[{provide:bo,useValue:this},{provide:Uh,useValue:this.componentFactoryResolver},...s],Xt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class j_ extends iE{constructor(e){super(),this.moduleType=e}create(e){return new L_(this.moduleType,e,[])}}class oE extends bo{constructor(e){super(),this.componentFactoryResolver=new T0(this),this.instance=null;const n=new da([...e.providers,{provide:bo,useValue:this},{provide:Uh,useValue:this.componentFactoryResolver}],e.parent||Xd(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Wh(t,e,n=null){return new oE({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let Fa=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new zt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Zh(t){return!!B_(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function B_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Sr(t,e,n){return t[e]=n}function jt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function vt(t,e,n,s,r,i,o,a){const c=T(),u=Re(),l=t+ve,d=u.firstCreatePass?function t2(t,e,n,s,r,i,o,a,c){const u=e.consts,l=Na(e,t,4,o||null,_r(u,a));a_(e,n,l,_r(u,c)),ih(e,l);const d=l.tView=o_(2,l,s,r,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,s,r,i,o):u.data[l];yr(d,!1);const h=aE(u,c,d,t);fu()&&Ah(u,c,h,d),Tn(h,c);const f=QS(h,c,h,d);return c[l]=f,Rh(c,f),function O0(t,e,n){return M_(t,e,n)}(f,d,c),nh(d)&&r_(u,c,d),null!=o&&i_(c,d,a),vt}let aE=function cE(t,e,n,s){return vr(!0),e[ue].createComment("")};function Er(t,e,n,s){const r=T();return jt(r,Ws(),e)&&(Re(),Cr(at(),r,t,e,n,s)),Er}function nf(t,e){return t<<17|e<<2}function ki(t){return t>>17&32767}function Y_(t){return 2|t}function To(t){return(131068&t)>>2}function X_(t,e){return-131069&t|e<<2}function K_(t){return 1|t}function jE(t,e,n,s){const r=t[n+1],i=null===e;let o=s?ki(r):To(r),a=!1;for(;0!==o&&(!1===a||i);){const u=t[o+1];U2(t[o],e)&&(a=!0,t[o+1]=s?K_(u):Y_(u)),o=s?ki(u):To(u)}a&&(t[n+1]=s?Y_(r):K_(r))}function U2(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ua(t,e)>=0}function ct(t,e,n){const s=T();return jt(s,Ws(),e)&&es(Re(),at(),s,t,e,s[ue],n,!1),ct}function J_(t,e,n,s,r){const o=r?"class":"style";d_(t,n,e.inputs[o],o,s)}function Io(t,e){return function Ys(t,e,n,s){const r=T(),i=Re(),o=function Xr(t){const e=le.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);i.firstUpdatePass&&function QE(t,e,n,s){const r=t.data;if(null===r[n+1]){const i=r[En()],o=function WE(t,e){return e>=t.expandoStartIndex}(t,n);(function KE(t,e){return!!(t.flags&(e?8:16))})(i,s)&&null===e&&!o&&(e=!1),e=function Y2(t,e,n,s){const r=function am(t){const e=le.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let i=s?e.residualClasses:e.residualStyles;if(null===r)0===(s?e.classBindings:e.styleBindings)&&(n=Yu(n=ey(null,t,e,n,s),e.attrs,s),i=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==r)if(n=ey(r,t,e,n,s),null===i){let c=function X2(t,e,n){const s=n?e.classBindings:e.styleBindings;if(0!==To(s))return t[ki(s)]}(t,e,s);void 0!==c&&Array.isArray(c)&&(c=ey(null,t,e,c[1],s),c=Yu(c,e.attrs,s),function K2(t,e,n,s){t[ki(n?e.classBindings:e.styleBindings)]=s}(t,e,s,c))}else i=function J2(t,e,n){let s;const r=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<r;i++)s=Yu(s,t[i].hostAttrs,n);return Yu(s,e.attrs,n)}(t,e,s)}return void 0!==i&&(s?e.residualClasses=i:e.residualStyles=i),n}(r,i,e,s),function j2(t,e,n,s,r,i){let o=i?e.classBindings:e.styleBindings,a=ki(o),c=To(o);t[s]=n;let l,u=!1;if(Array.isArray(n)?(l=n[1],(null===l||ua(n,l)>0)&&(u=!0)):l=n,r)if(0!==c){const h=ki(t[a+1]);t[s+1]=nf(h,a),0!==h&&(t[h+1]=X_(t[h+1],s)),t[a+1]=function V2(t,e){return 131071&t|e<<17}(t[a+1],s)}else t[s+1]=nf(a,0),0!==a&&(t[a+1]=X_(t[a+1],s)),a=s;else t[s+1]=nf(c,0),0===a?a=s:t[c+1]=X_(t[c+1],s),c=s;u&&(t[s+1]=Y_(t[s+1])),jE(t,l,s,!0),jE(t,l,s,!1),function B2(t,e,n,s,r){const i=r?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof e&&ua(i,e)>=0&&(n[s+1]=K_(n[s+1]))}(e,l,t,s,i),o=nf(a,c),i?e.classBindings=o:e.styleBindings=o}(r,i,e,n,o,s)}}(i,t,o,s),e!==we&&jt(r,o,e)&&function YE(t,e,n,s,r,i,o,a){if(!(3&e.type))return;const c=t.data,u=c[a+1],l=function L2(t){return!(1&~t)}(u)?XE(c,e,n,r,To(u),o):void 0;sf(l)||(sf(i)||function P2(t){return!(2&~t)}(u)&&(i=XE(c,null,n,r,a,o)),function VP(t,e,n,s,r){if(e)r?t.addClass(n,s):t.removeClass(n,s);else{let i=-1===s.indexOf("-")?void 0:Ai.DashCase;null==r?t.removeStyle(n,s,i):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),i|=Ai.Important),t.setStyle(n,s,r,i))}}(s,o,uu(En(),n),r,i))}(i,i.data[En()],r,r[ue],t,r[o+1]=function sj(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Xt(Mi(t)))),t}(e,n),s,o)}(t,e,null,!0),Io}function ey(t,e,n,s,r){let i=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(i=e[a],s=Yu(s,i.hostAttrs,r),i!==t);)a++;return null!==t&&(n.directiveStylingLast=a),s}function Yu(t,e,n){const s=n?1:2;let r=-1;if(null!==e)for(let i=0;i<e.length;i++){const o=e[i];"number"==typeof o?r=o:r===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),cs(t,o,!!n||e[++i]))}return void 0===t?null:t}function XE(t,e,n,s,r,i){const o=null===e;let a;for(;r>0;){const c=t[r],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let h=n[r+1];h===we&&(h=d?Be:void 0);let f=d?kg(h,s):l===s?h:void 0;if(u&&!sf(f)&&(f=kg(c,s)),sf(f)&&(a=f,o))return a;const p=t[r+1];r=o?ki(p):To(p)}if(null!==e){let c=i?e.residualClasses:e.residualStyles;null!=c&&(a=kg(c,s))}return a}function sf(t){return void 0!==t}function H(t,e,n,s){const r=T(),i=Re(),o=ve+t,a=r[ue],c=i.firstCreatePass?function Tj(t,e,n,s,r,i){const o=e.consts,c=Na(e,t,2,s,_r(o,r));return a_(e,n,c,_r(o,i)),null!==c.attrs&&$h(c,c.attrs,!1),null!==c.mergedAttrs&&$h(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,i,r,e,n,s):i.data[o],u=nT(i,r,c,a,e,t);r[o]=u;const l=nh(c);return yr(c,!0),VS(a,u,c),!function Gu(t){return!(32&~t.flags)}(c)&&fu()&&Ah(i,r,u,c),0===function mk(){return le.lFrame.elementDepthCount}()&&Tn(u,r),function _k(){le.lFrame.elementDepthCount++}(),l&&(r_(i,r,c),s_(i,c,r)),null!==s&&i_(r,c),H}function Q(){let t=Ye();rm()?im():(t=t.parent,yr(t,!1));const e=t;(function vk(t){return le.skipHydrationRootTNode===t})(e)&&function bk(){le.skipHydrationRootTNode=null}(),function yk(){le.lFrame.elementDepthCount--}();const n=Re();return n.firstCreatePass&&(ih(n,t),Qg(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Lk(t){return!!(8&t.flags)}(e)&&J_(n,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function jk(t){return!!(16&t.flags)}(e)&&J_(n,e,T(),e.stylesWithoutHost,!1),Q}function xr(t,e,n,s){return H(t,e,n,s),Q(),xr}let nT=(t,e,n,s,r,i)=>(vr(!0),Ih(s,r,function sb(){return le.lFrame.currentNamespace}()));function Xu(t,e,n){const s=T(),r=Re(),i=t+ve,o=r.firstCreatePass?function Mj(t,e,n,s,r){const i=e.consts,o=_r(i,s),a=Na(e,t,8,"ng-container",o);return null!==o&&$h(a,o,!0),a_(e,n,a,_r(i,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(i,r,s,e,n):r.data[i];yr(o,!0);const a=rT(r,s,o,t);return s[i]=a,fu()&&Ah(r,s,a,o),Tn(a,s),nh(o)&&(r_(r,s,o),s_(r,o,s)),null!=n&&i_(s,o),Xu}function Ku(){let t=Ye();const e=Re();return rm()?im():(t=t.parent,yr(t,!1)),e.firstCreatePass&&(ih(e,t),Qg(t)&&e.queries.elementEnd(t)),Ku}let rT=(t,e,n,s)=>(vr(!0),Ym(e[ue],""));function xs(){return T()}const Ja="en-US";let uT=Ja;function et(t,e,n,s){const r=T(),i=Re(),o=Ye();return ay(i,r,r[ue],o,t,e,s),et}function ay(t,e,n,s,r,i,o){const a=nh(s),u=t.firstCreatePass&&function XS(t){return t.cleanup||(t.cleanup=[])}(t),l=e[ot],d=function YS(t){return t[pa]||(t[pa]=[])}(e);let h=!0;if(3&s.type||o){const g=Fn(s,e),_=o?o(g):g,m=d.length,y=o?b=>o(Je(b[s.index])):s.index;let D=null;if(!o&&a&&(D=function AB(t,e,n,s){const r=t.cleanup;if(null!=r)for(let i=0;i<r.length-1;i+=2){const o=r[i];if(o===n&&r[i+1]===s){const a=e[pa],c=r[i+2];return a.length>c?a[c]:null}"string"==typeof o&&(i+=2)}return null}(t,e,r,s.index)),null!==D)(D.__ngLastListenerFn__||D).__ngNextListenerFn__=i,D.__ngLastListenerFn__=i,h=!1;else{i=VT(s,e,l,i,!1);const b=n.listen(_,r,i);d.push(i,b),u&&u.push(r,y,m,m+1)}}else i=VT(s,e,l,i,!1);const f=s.outputs;let p;if(h&&null!==f&&(p=f[r])){const g=p.length;if(g)for(let _=0;_<g;_+=2){const v=e[p[_]][p[_+1]].subscribe(i),S=d.length;d.push(i,v),u&&u.push(r,s.index,S,-(S+1))}}}function PT(t,e,n,s){const r=he(null);try{return mr(6,e,n),!1!==n(s)}catch(i){return kh(t,i),!1}finally{mr(7,e,n),he(r)}}function VT(t,e,n,s,r){return function i(o){if(o===Function)return s;ku(t.componentOffset>-1?ls(t.index,e):e);let c=PT(e,n,s,o),u=i.__ngNextListenerFn__;for(;u;)c=PT(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return r&&!1===c&&o.preventDefault(),c}}function Nt(t=1){return function Mk(t){return(le.lFrame.contextLView=function zC(t,e){for(;t>0;)e=e[ga],t--;return e}(t,le.lFrame.contextLView))[ot]}(t)}function uy(t){return ya(function Sk(){return le.lFrame.contextLView}(),ve+t)}function je(t,e=""){const n=T(),s=Re(),r=t+ve,i=s.firstCreatePass?Na(s,r,1,e,null):s.data[r],o=iI(s,n,i,e,t);n[r]=o,fu()&&Ah(s,n,o,i),yr(i,!1)}let iI=(t,e,n,s,r)=>(vr(!0),function Zm(t,e){return t.createText(e)}(e[ue],s));function ni(t){return Mr("",t,""),ni}function Mr(t,e,n){const s=T(),r=function $a(t,e,n,s){return jt(t,Ws(),n)?e+ye(n)+s:we}(s,t,e,n);return r!==we&&function Jr(t,e,n){const s=uu(e,t);!function bS(t,e,n){t.setValue(e,n)}(t[ue],s,n)}(s,En(),r),Mr}function lf(t,e,n){$0(e)&&(e=e());const s=T();return jt(s,Ws(),e)&&es(Re(),at(),s,t,e,s[ue],n,!1),lf}function ly(t,e){const n=$0(t);return n&&t.set(e),n}function df(t,e){const n=T(),s=Re(),r=Ye();return ay(s,n,n[ue],r,t,e),df}function dy(t,e,n,s,r){if(t=oe(t),Array.isArray(t))for(let i=0;i<t.length;i++)dy(t[i],e,n,s,r);else{const i=Re(),o=T(),a=Ye();let c=po(t)?t:oe(t.provide);const u=MC(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(po(t)||!t.multi){const f=new pu(u,r,M),p=fy(c,e,r?l:l+h,d);-1===p?(mm(uh(a,o),i,c),hy(i,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=fy(c,e,l+h,d),p=fy(c,e,l,l+h),_=p>=0&&n[p];if(r&&!_||!r&&!(f>=0&&n[f])){mm(uh(a,o),i,c);const m=function JB(t,e,n,s,r){const i=new pu(t,n,M);return i.multi=[],i.index=e,i.componentProviders=0,pI(i,r,s&&!n),i}(r?KB:XB,n.length,r,s,u);!r&&_&&(n[p].providerFactory=m),hy(i,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(m),o.push(m)}else hy(i,t,f>-1?f:p,pI(n[r?p:f],u,!r&&s));!r&&s&&_&&n[p].componentProviders++}}}function hy(t,e,n,s){const r=po(e),i=function UR(t){return!!t.useClass}(e);if(r||i){const c=(i?oe(e.useClass):e).prototype.ngOnDestroy;if(c){const u=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const l=u.indexOf(n);-1===l?u.push(n,[s,c]):u[l+1].push(s,c)}else u.push(n,c)}}}function pI(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function fy(t,e,n,s){for(let r=n;r<s;r++)if(e[r]===t)return r;return-1}function XB(t,e,n,s){return py(this.multi,[])}function KB(t,e,n,s){const r=this.multi;let i;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=vo(n,n[k],this.providerFactory.index,s);i=a.slice(0,o),py(r,i);for(let c=o;c<a.length;c++)i.push(a[c])}else i=[],py(r,i);return i}function py(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function bt(t,e=[]){return n=>{n.providersResolver=(s,r)=>function YB(t,e,n){const s=Re();if(s.firstCreatePass){const r=Gs(t);dy(n,s.data,s.blueprint,r,!0),dy(e,s.data,s.blueprint,r,!1)}}(s,r?r(t):t,e)}}let eU=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const s=Lg(0,n.type),r=s.length>0?Wh([s],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=W({token:t,providedIn:"environment",factory:()=>new t(ce(Kn))})}}return t})();function Ms(t){br("NgStandalone"),t.getStandaloneInjector=e=>e.get(eU).getOrCreateStandaloneInjector(t)}function ff(t,e,n){const s=Ln()+t,r=T();return r[s]===we?Sr(r,s,n?e.call(n):e()):function zu(t,e){return t[e]}(r,s)}function il(t,e){const n=t[e];return n===we?void 0:n}function _I(t,e,n,s,r,i,o){const a=e+n;return function So(t,e,n,s){const r=jt(t,e,n);return jt(t,e+1,s)||r}(t,a,r,i)?Sr(t,a+2,o?s.call(o,r,i):s(r,i)):il(t,a+2)}function lt(t,e){const n=Re();let s;const r=t+ve;n.firstCreatePass?(s=function hU(t,e){if(e)for(let n=e.length-1;n>=0;n--){const s=e[n];if(t===s.name)return s}}(e,n.pipeRegistry),n.data[r]=s,s.onDestroy&&(n.destroyHooks??=[]).push(r,s.onDestroy)):s=n.data[r];const i=s.factory||(s.factory=ho(s.type)),a=Yn(M);try{const c=ch(!1),u=i();return ch(c),function LB(t,e,n,s){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=s}(n,T(),r,u),u}finally{Yn(a)}}function xt(t,e,n){const s=t+ve,r=T(),i=ya(r,s);return ol(r,s)?function mI(t,e,n,s,r,i){const o=e+n;return jt(t,o,r)?Sr(t,o+1,i?s.call(i,r):s(r)):il(t,o+1)}(r,Ln(),e,i.transform,n,i):i.transform(n)}function pf(t,e,n,s){const r=t+ve,i=T(),o=ya(i,r);return ol(i,r)?_I(i,Ln(),e,o.transform,n,s,o):o.transform(n,s)}function ol(t,e){return t[k].data[e].pure}function gy(t,e){return Ph(t,e)}let PI=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const UI=new j("");function ll(t){return!!t&&"function"==typeof t.then}function HI(t){return!!t&&"function"==typeof t.subscribe}const Sy=new j("");let Ey=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,s)=>{this.resolve=n,this.reject=s}),this.appInits=O(Sy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const r of this.appInits){const i=r();if(ll(i))n.push(i);else if(HI(i)){const o=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(o)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{s()}).catch(r=>{this.reject(r)}),0===n.length&&s(),this.initialized=!0}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const yf=new j("");let Fi=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(Sb),this.afterRenderEffectManager=O(Bu),this.externalTestViews=new Set,this.beforeRender=new is,this.afterTick=new is,this.componentTypes=[],this.components=[],this.isStable=O(Fa).hasPendingTasks.pipe(Ne(n=>!n)),this._injector=O(Kn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,s){const r=n instanceof f0;if(!this._injector.get(Ey).done)throw!r&&function Ti(t){const e=Ie(t)||Kt(t)||mn(t);return null!==e&&e.standalone}(n),new x(405,!1);let o;o=r?n:this._injector.get(Uh).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function uH(t){return t.isBoundToModule}(o)?void 0:this._injector.get(bo),u=o.create(jn.NULL,[],s||o.selector,a),l=u.location.nativeElement,d=u.injector.get(UI,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),vf(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new x(101,!1);const s=he(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,he(s)}}detectChangesInAttachedViews(n){let s=0;const r=this.afterRenderEffectManager;for(;;){if(s===n0)throw new x(103,!1);if(n){const i=0===s;this.beforeRender.next(i);for(let{_lView:o,notifyErrorHandler:a}of this._views)dH(o,i,a)}if(s++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:i})=>Ty(i))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:i})=>Ty(i))))break}}attachView(n){const s=n;this._views.push(s),s.attachToAppRef(this)}detachView(n){const s=n;vf(this._views,s),s.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const s=this._injector.get(yf,[]);[...this._bootstrapListeners,...s].forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>vf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new x(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function vf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function dH(t,e,n){!e&&!Ty(t)||function hH(t,e,n){let s;n?(s=0,t[K]|=1024):s=64&t[K]?0:1,Fh(t,e,s)}(t,n,e)}function Ty(t){return tm(t)}class fH{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let GI=(()=>{class t{compileModuleSync(n){return new j_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const s=this.compileModuleSync(n),i=hs(Dn(n).declarations).reduce((o,a)=>{const c=Ie(a);return c&&o.push(new $u(c)),o},[]);return new fH(s,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),mH=(()=>{class t{constructor(){this.zone=O(Xe),this.applicationRef=O(Fi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function QI(t){return[{provide:Xe,useFactory:t},{provide:fo,multi:!0,useFactory:()=>{const e=O(mH,{optional:!0});return()=>e.initialize()}},{provide:fo,multi:!0,useFactory:()=>{const e=O(vH);return()=>{e.initialize()}}},{provide:Sb,useFactory:_H}]}function _H(){const t=O(Xe),e=O(Dr);return n=>t.runOutsideAngular(()=>e.handleError(n))}function yH(t){return su([[],QI(()=>new Xe(function ZI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}(t)))])}let vH=(()=>{class t{constructor(){this.subscription=new kn,this.initialized=!1,this.zone=O(Xe),this.pendingTasks=O(Fa)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Xe.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Xe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const si=new j("",{providedIn:"root",factory:()=>O(si,Oe.Optional|Oe.SkipSelf)||function wH(){return typeof $localize<"u"&&$localize.locale||Ja}()}),Iy=new j("");let Pi=null;let dl=(()=>{class t{static{this.__NG_ELEMENT_ID__=TH}}return t})();function TH(t){return function IH(t,e,n){if(mo(t)&&!n){const s=ls(t.index,e);return new Fu(s,s)}return 47&t.type?new Fu(e[It],e):null}(Ye(),T(),!(16&~t))}class rx{constructor(){}supports(e){return Zh(e)}create(e){return new OH(e)}}const NH=(t,e)=>e;class OH{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||NH}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,s=this._removalsHead,r=0,i=null;for(;n||s;){const o=!s||n&&n.currentIndex<ox(s,r,i)?n:s,a=ox(o,r,i),c=o.currentIndex;if(o===s)r--,s=s._nextRemoved;else if(n=n._next,null==o.previousIndex)r++;else{i||(i=[]);const u=a-r,l=c-r;if(u!=l){for(let h=0;h<u;h++){const f=h<i.length?i[h]:i[h]=0,p=f+h;l<=p&&p<u&&(i[h]=f+1)}i[o.previousIndex]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Zh(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,i,o,n=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],o=this._trackByFn(a,i),null!==n&&Object.is(n.trackById,o)?(s&&(n=this._verifyReinsertion(n,i,o,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)):(n=this._mismatch(n,i,o,a),s=!0),n=n._next}else r=0,function JL(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let s;for(;!(s=n.next()).done;)e(s.value)}}(e,a=>{o=this._trackByFn(r,a),null!==n&&Object.is(n.trackById,o)?(s&&(n=this._verifyReinsertion(n,a,o,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,r),s=!0),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,s,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(s,r))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,i,r)):e=this._addAfter(new RH(n,s),i,r),e}_verifyReinsertion(e,n,s,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,n,s),this._addToMoves(e,s),e}_moveAfter(e,n,s){return this._unlink(e),this._insertAfter(e,n,s),this._addToMoves(e,s),e}_addAfter(e,n,s){return this._insertAfter(e,n,s),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,s){const r=null===n?this._itHead:n._next;return e._next=r,e._prev=n,null===r?this._itTail=e:r._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new ix),this._linkedRecords.put(e),e.currentIndex=s,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,s=e._next;return null===n?this._itHead=s:n._next=s,null===s?this._itTail=n:s._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ix),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class RH{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kH{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===n||n<=s.currentIndex)&&Object.is(s.trackById,e))return s;return null}remove(e){const n=e._prevDup,s=e._nextDup;return null===n?this._head=s:n._nextDup=s,null===s?this._tail=n:s._prevDup=n,null===this._head}}class ix{constructor(){this.map=new Map}put(e){const n=e.trackById;let s=this.map.get(n);s||(s=new kH,this.map.set(n,s)),s.add(e)}get(e,n){const r=this.map.get(e);return r?r.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ox(t,e,n){const s=t.previousIndex;if(null===s)return s;let r=0;return n&&s<n.length&&(r=n[s]),s+e+r}class ax{constructor(){}supports(e){return e instanceof Map||B_(e)}create(){return new FH}}class FH{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||B_(e)))throw new x(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(s,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,s),this._appendAfter=n,n=n._next;else{const i=this._getOrCreateRecordForKey(r,s);n=this._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let s=n;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const s=e._prev;return n._next=e,n._prev=s,e._prev=n,s&&(s._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,n);const i=r._prev,o=r._next;return i&&(i._next=o),o&&(o._prev=i),r._next=null,r._prev=null,r}const s=new PH(e);return this._records.set(e,s),s.currentValue=n,this._addToAdditions(s),s}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(s=>n(e[s],s))}}class PH{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cx(){return new Ry([new rx])}let Ry=(()=>{class t{static{this.\u0275prov=W({token:t,providedIn:"root",factory:cx})}constructor(n){this.factories=n}static create(n,s){if(null!=s){const r=s.factories.slice();n=n.concat(r)}return new t(n)}static extend(n){return{provide:t,useFactory:s=>t.create(n,s||cx()),deps:[[t,new $d,new Hd]]}}find(n){const s=this.factories.find(r=>r.supports(n));if(null!=s)return s;throw new x(901,!1)}}return t})();function ux(){return new bf([new ax])}let bf=(()=>{class t{static{this.\u0275prov=W({token:t,providedIn:"root",factory:ux})}constructor(n){this.factories=n}static create(n,s){if(s){const r=s.factories.slice();n=n.concat(r)}return new t(n)}static extend(n){return{provide:t,useFactory:s=>t.create(n,s||ux()),deps:[[t,new $d,new Hd]]}}find(n){const s=this.factories.find(r=>r.supports(n));if(s)return s;throw new x(901,!1)}}return t})();function JH(t){try{const{rootComponent:e,appProviders:n,platformProviders:s}=t,r=function EH(t=[]){if(Pi)return Pi;const e=function KI(t=[],e){return jn.create({name:e,providers:[{provide:Ug,useValue:"platform"},{provide:Iy,useValue:new Set([()=>Pi=null])},...t]})}(t);return Pi=e,function $I(){!function U(t){Ad=t}(()=>{throw new x(600,!1)})}(),function JI(t){t.get(Gb,null)?.forEach(n=>n())}(e),e}(s),i=[yH(),...n||[]],a=new oE({providers:i,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Xe);return c.run(()=>{a.resolveInjectorInitializers();const u=a.get(Dr,null);let l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});const d=()=>a.destroy(),h=r.get(Iy);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),function qI(t,e,n){try{const s=n();return ll(s)?s.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):s}catch(s){throw e.runOutsideAngular(()=>t.handleError(s)),s}}(u,c,()=>{const f=a.get(Ey);return f.runInitializers(),f.donePromise.then(()=>{!function lT(t){"string"==typeof t&&(uT=t.toLowerCase().replace(/_/g,"-"))}(a.get(si,Ja)||Ja);const g=a.get(Fi);return void 0!==e&&g.bootstrap(e),g})})})}catch(e){return Promise.reject(e)}}function sc(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Nx(t){const e=he(null);try{return t()}finally{he(e)}}let Ox=null;function Vi(){return Ox}class C${}const As=new j("");let Py=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:()=>O(S$),providedIn:"platform"})}}return t})();const b$=new j("");let S$=(()=>{class t extends Py{constructor(){super(),this._doc=O(As),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vi().getBaseHref(this._doc)}onPopState(n){const s=Vi().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",n,!1),()=>s.removeEventListener("popstate",n)}onHashChange(n){const s=Vi().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",n,!1),()=>s.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,s,r){this._history.pushState(n,s,r)}replaceState(n,s,r){this._history.replaceState(n,s,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Vy(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Rx(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ri(t){return t&&"?"!==t[0]?"?"+t:t}let Ao=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:()=>O(kx),providedIn:"root"})}}return t})();const Ly=new j("");let kx=(()=>{class t extends Ao{constructor(n,s){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??O(As).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Vy(this._baseHref,n)}path(n=!1){const s=this._platformLocation.pathname+ri(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${s}${r}`:s}pushState(n,s,r,i){const o=this.prepareExternalUrl(r+ri(i));this._platformLocation.pushState(n,s,o)}replaceState(n,s,r,i){const o=this.prepareExternalUrl(r+ri(i));this._platformLocation.replaceState(n,s,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(s){return new(s||t)(ce(Py),ce(Ly,8))}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),E$=(()=>{class t extends Ao{constructor(n,s){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const s=this._platformLocation.hash??"#";return s.length>0?s.substring(1):s}prepareExternalUrl(n){const s=Vy(this._baseHref,n);return s.length>0?"#"+s:s}pushState(n,s,r,i){let o=this.prepareExternalUrl(r+ri(i));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,s,o)}replaceState(n,s,r,i){let o=this.prepareExternalUrl(r+ri(i));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,s,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(s){return new(s||t)(ce(Py),ce(Ly,8))}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac})}}return t})(),pl=(()=>{class t{constructor(n){this._subject=new At,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const s=this._locationStrategy.getBaseHref();this._basePath=function x$(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(Rx(Fx(s))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,s=""){return this.path()==this.normalize(n+ri(s))}normalize(n){return t.stripTrailingSlash(function I$(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,Fx(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,s="",r=null){this._locationStrategy.pushState(r,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ri(s)),r)}replaceState(n,s="",r=null){this._locationStrategy.replaceState(r,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ri(s)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}),()=>{const s=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",s){this._urlChangeListeners.forEach(r=>r(n,s))}subscribe(n,s,r){return this._subject.subscribe({next:n,error:s,complete:r})}static{this.normalizeQueryParams=ri}static{this.joinWithSlash=Vy}static{this.stripTrailingSlash=Rx}static{this.\u0275fac=function(s){return new(s||t)(ce(Ao))}}static{this.\u0275prov=W({token:t,factory:()=>function T$(){return new pl(ce(Ao))}(),providedIn:"root"})}}return t})();function Fx(t){return t.replace(/\/index.html$/,"")}class gq{constructor(e,n,s,r){this.$implicit=e,this.ngForOf=n,this.index=s,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let No=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,s,r){this._viewContainer=n,this._template=s,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const s=this._viewContainer;n.forEachOperation((r,i,o)=>{if(null==r.previousIndex)s.createEmbeddedView(this._template,new gq(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)s.remove(null===i?void 0:i);else if(null!==i){const a=s.get(i);s.move(a,o),Gx(a,r)}});for(let r=0,i=s.length;r<i;r++){const a=s.get(r).context;a.index=r,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{Gx(s.get(r.currentIndex),r)})}static ngTemplateContextGuard(n,s){return!0}static{this.\u0275fac=function(s){return new(s||t)(M(Zs),M(ei),M(Ry))}}static{this.\u0275dir=fe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function Gx(t,e){t.context.$implicit=e.item}let Zy=(()=>{class t{constructor(n,s){this._viewContainer=n,this._context=new mq,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Wx("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Wx("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,s){return!0}static{this.\u0275fac=function(s){return new(s||t)(M(Zs),M(ei))}}static{this.\u0275dir=fe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})();class mq{constructor(){this.$implicit=null,this.ngIf=null}}function Wx(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Xt(e)}'.`)}function Js(t,e){return new x(2100,!1)}class wq{createSubscription(e,n){return Nx(()=>e.subscribe({next:n,error:s=>{throw s}}))}dispose(e){Nx(()=>e.unsubscribe())}}class Dq{createSubscription(e,n){return e.then(n,s=>{throw s})}dispose(e){}}const Cq=new Dq,bq=new wq;let Bf=(()=>{class t{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,s=>this._updateLatestValue(n,s))}_selectStrategy(n){if(ll(n))return Cq;if(HI(n))return bq;throw Js()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,s){n===this._obj&&(this._latestValue=s,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(s){return new(s||t)(M(dl,16))}}static{this.\u0275pipe=gn({name:"async",type:t,pure:!1,standalone:!0})}}return t})(),Zx=(()=>{class t{transform(n){if(null==n)return null;if("string"!=typeof n)throw Js();return n.toUpperCase()}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275pipe=gn({name:"uppercase",type:t,pure:!0,standalone:!0})}}return t})(),Yx=(()=>{class t{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=Xx}transform(n,s=Xx){if(!n||!(n instanceof Map)&&"object"!=typeof n)return null;this.differ??=this.differs.find(n).create();const r=this.differ.diff(n),i=s!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(o=>{this.keyValues.push(function Fq(t,e){return{key:t,value:e}}(o.key,o.currentValue))})),(r||i)&&(this.keyValues.sort(s),this.compareFn=s),this.keyValues}static{this.\u0275fac=function(s){return new(s||t)(M(bf,16))}}static{this.\u0275pipe=gn({name:"keyvalue",type:t,pure:!1,standalone:!0})}}return t})();function Xx(t,e){const n=t.key,s=e.key;if(n===s)return 0;if(void 0===n)return 1;if(void 0===s)return-1;if(null===n)return 1;if(null===s)return-1;if("string"==typeof n&&"string"==typeof s)return n<s?-1:1;if("number"==typeof n&&"number"==typeof s)return n-s;if("boolean"==typeof n&&"boolean"==typeof s)return n<s?-1:1;const r=String(n),i=String(s);return r==i?0:r<i?-1:1}let Ar=(()=>{class t{static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275mod=la({type:t})}static{this.\u0275inj=lo({})}}return t})();const Kx="browser";function Jx(t){return"server"===t}let $q=(()=>{class t{static{this.\u0275prov=W({token:t,providedIn:"root",factory:()=>function Hq(t){return t===Kx}(O(wo))?new qq(O(As),window):new Gq})}}return t})();class qq{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const n=function zq(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const s=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=s.currentNode;for(;r;){const i=r.shadowRoot;if(i){const o=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(o)return o}r=s.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const n=e.getBoundingClientRect(),s=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(s-i[0],r-i[1])}}class Gq{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class D3 extends C${constructor(){super(...arguments),this.supportsDOMEvents=!0}}class tv extends D3{static makeCurrent(){!function D$(t){Ox??=t}(new tv)}onAndCancel(e,n,s){return e.addEventListener(n,s),()=>{e.removeEventListener(n,s)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function C3(){return yl=yl||document.querySelector("base"),yl?yl.getAttribute("href"):null}();return null==n?null:function b3(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){yl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function hq(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const s=n.indexOf("="),[r,i]=-1==s?[n,""]:[n.slice(0,s),n.slice(s+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,e)}}let yl=null,E3=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac})}}return t})();const nv=new j("");let cM=(()=>{class t{constructor(n,s){this._zone=s,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,s,r){return this._findPluginFor(s).addEventListener(n,s,r)}getZone(){return this._zone}_findPluginFor(n){let s=this._eventNameToPlugin.get(n);if(s)return s;if(s=this._plugins.find(i=>i.supports(n)),!s)throw new x(5101,!1);return this._eventNameToPlugin.set(n,s),s}static{this.\u0275fac=function(s){return new(s||t)(ce(nv),ce(Xe))}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac})}}return t})();class uM{constructor(e){this._doc=e}}const sv="ng-app-id";let lM=(()=>{class t{constructor(n,s,r,i={}){this.doc=n,this.appId=s,this.nonce=r,this.platformId=i,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Jx(i),this.resetHostNodes()}addStyles(n){for(const s of n)1===this.changeUsageCount(s,1)&&this.onStyleAdded(s)}removeStyles(n){for(const s of n)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(s=>s.remove()),n.clear());for(const s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const s of this.getAllStyles())this.addStyleToHost(n,s)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const s of this.hostNodes)this.addStyleToHost(s,n)}onStyleRemoved(n){const s=this.styleRef;s.get(n)?.elements?.forEach(r=>r.remove()),s.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${sv}="${this.appId}"]`);if(n?.length){const s=new Map;return n.forEach(r=>{null!=r.textContent&&s.set(r.textContent,r)}),s}return null}changeUsageCount(n,s){const r=this.styleRef;if(r.has(n)){const i=r.get(n);return i.usage+=s,i.usage}return r.set(n,{usage:s,elements:[]}),s}getStyleElement(n,s){const r=this.styleNodesInDOM,i=r?.get(s);if(i?.parentNode===n)return r.delete(s),i.removeAttribute(sv),i;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=s,this.platformIsServer&&o.setAttribute(sv,this.appId),n.appendChild(o),o}}addStyleToHost(n,s){const r=this.getStyleElement(n,s),i=this.styleRef,o=i.get(s)?.elements;o?o.push(r):i.set(s,{elements:[r],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(s){return new(s||t)(ce(As),ce(Tm),ce(Wb,8),ce(wo))}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac})}}return t})();const rv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},iv=/%COMP%/g,M3=new j("",{providedIn:"root",factory:()=>!0});function hM(t,e){return e.map(n=>n.replace(iv,t))}let fM=(()=>{class t{constructor(n,s,r,i,o,a,c,u=null){this.eventManager=n,this.sharedStylesHost=s,this.appId=r,this.removeStylesOnCompDestroy=i,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Jx(a),this.defaultRenderer=new ov(n,o,c,this.platformIsServer)}createRenderer(n,s){if(!n||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===Hs.ShadowDom&&(s={...s,encapsulation:Hs.Emulated});const r=this.getOrCreateRenderer(n,s);return r instanceof gM?r.applyToHost(n):r instanceof av&&r.applyStyles(),r}getOrCreateRenderer(n,s){const r=this.rendererByCompId;let i=r.get(s.id);if(!i){const o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(s.encapsulation){case Hs.Emulated:i=new gM(c,u,s,this.appId,l,o,a,d);break;case Hs.ShadowDom:return new R3(c,u,n,s,o,a,this.nonce,d);default:i=new av(c,u,s,l,o,a,d)}r.set(s.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(s){return new(s||t)(ce(cM),ce(lM),ce(Tm),ce(M3),ce(As),ce(wo),ce(Xe),ce(Wb))}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac})}}return t})();class ov{constructor(e,n,s,r){this.eventManager=e,this.doc=n,this.ngZone=s,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(rv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(pM(e)?e.content:e).appendChild(n)}insertBefore(e,n,s){e&&(pM(e)?e.content:e).insertBefore(n,s)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let s="string"==typeof e?this.doc.querySelector(e):e;if(!s)throw new x(-5104,!1);return n||(s.textContent=""),s}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,s,r){if(r){n=r+":"+n;const i=rv[r];i?e.setAttributeNS(i,n,s):e.setAttribute(n,s)}else e.setAttribute(n,s)}removeAttribute(e,n,s){if(s){const r=rv[s];r?e.removeAttributeNS(r,n):e.removeAttribute(`${s}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,s,r){r&(Ai.DashCase|Ai.Important)?e.style.setProperty(n,s,r&Ai.Important?"important":""):e.style[n]=s}removeStyle(e,n,s){s&Ai.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,s){null!=e&&(e[n]=s)}setValue(e,n){e.nodeValue=n}listen(e,n,s){if("string"==typeof e&&!(e=Vi().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(s))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function pM(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class R3 extends ov{constructor(e,n,s,r,i,o,a,c){super(e,i,o,c),this.sharedStylesHost=n,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=hM(r.id,r.styles);for(const l of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,s){return super.insertBefore(this.nodeOrShadowRoot(e),n,s)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class av extends ov{constructor(e,n,s,r,i,o,a,c){super(e,i,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?hM(c,s.styles):s.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class gM extends av{constructor(e,n,s,r,i,o,a,c){const u=r+"-"+s.id;super(e,n,s,i,o,a,c,u),this.contentAttr=function A3(t){return"_ngcontent-%COMP%".replace(iv,t)}(u),this.hostAttr=function N3(t){return"_nghost-%COMP%".replace(iv,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const s=super.createElement(e,n);return super.setAttribute(s,this.contentAttr,""),s}}let k3=(()=>{class t extends uM{constructor(n){super(n)}supports(n){return!0}addEventListener(n,s,r){return n.addEventListener(s,r,!1),()=>this.removeEventListener(n,s,r)}removeEventListener(n,s,r){return n.removeEventListener(s,r)}static{this.\u0275fac=function(s){return new(s||t)(ce(As))}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac})}}return t})();const mM=["alt","control","meta","shift"],F3={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},P3={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let V3=(()=>{class t extends uM{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,s,r){const i=t.parseEventName(s),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vi().onAndCancel(n,i.domEventName,o))}static parseEventName(n){const s=n.toLowerCase().split("."),r=s.shift();if(0===s.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(s.pop());let o="",a=s.indexOf("code");if(a>-1&&(s.splice(a,1),o="code."),mM.forEach(u=>{const l=s.indexOf(u);l>-1&&(s.splice(l,1),o+=u+".")}),o+=i,0!=s.length||0===i.length)return null;const c={};return c.domEventName=r,c.fullKey=o,c}static matchEventFullKeyCode(n,s){let r=F3[n.key]||n.key,i="";return s.indexOf("code.")>-1&&(r=n.code,i="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),mM.forEach(o=>{o!==r&&(0,P3[o])(n)&&(i+=o+".")}),i+=r,i===s)}static eventCallback(n,s,r){return i=>{t.matchEventFullKeyCode(i,n)&&r.runGuarded(()=>s(i))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(s){return new(s||t)(ce(As))}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac})}}return t})();function _M(t){return{appProviders:[...q3,...t?.providers??[]],platformProviders:H3}}const H3=[{provide:wo,useValue:Kx},{provide:Gb,useValue:function j3(){tv.makeCurrent()},multi:!0},{provide:As,useFactory:function U3(){return function TF(t){Em=t}(document),document},deps:[]}],q3=[{provide:Ug,useValue:"root"},{provide:Dr,useFactory:function B3(){return new Dr},deps:[]},{provide:nv,useClass:k3,multi:!0,deps:[As,Xe,wo]},{provide:nv,useClass:V3,multi:!0,deps:[As]},fM,lM,cM,{provide:g0,useExisting:fM},{provide:class Wq{},useClass:E3,deps:[]},[]];let z3=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(s){return new(s||t)(ce(As))}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Rs(t,e,n,s){var o,r=arguments.length,i=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i}function tt(t,e,n,s){return new(n||(n=Promise))(function(i,o){function a(l){try{u(s.next(l))}catch(d){o(d)}}function c(l){try{u(s.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):function r(i){return i instanceof n?i:new n(function(o){o(i)})}(l.value).then(a,c)}u((s=s.apply(t,e||[])).next())})}function Li(t){return this instanceof Li?(this.v=t,this):new Li(t)}function bM(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function dv(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){!function r(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}(a,c,(o=t[i](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const SM=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function EM(t){return Ge(t?.then)}function TM(t){return Ge(t[yg])}function IM(t){return Symbol.asyncIterator&&Ge(t?.[Symbol.asyncIterator])}function xM(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const MM=function mz(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function AM(t){return Ge(t?.[MM])}function NM(t){return function CM(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,s=n.apply(t,e||[]),i=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){s[h]&&(r[h]=function(f){return new Promise(function(p,g){i.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof Li?Promise.resolve(h.value.v).then(u,l):d(i[0][2],h)}(s[h](f))}catch(p){d(i[0][3],p)}}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:s,done:r}=yield Li(n.read());if(r)return yield Li(void 0);yield yield Li(s)}}finally{n.releaseLock()}})}function OM(t){return Ge(t?.getReader)}function er(t){if(t instanceof qt)return t;if(null!=t){if(TM(t))return function _z(t){return new qt(e=>{const n=t[yg]();if(Ge(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(SM(t))return function yz(t){return new qt(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(EM(t))return function vz(t){return new qt(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ZD)})}(t);if(IM(t))return RM(t);if(AM(t))return function wz(t){return new qt(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(OM(t))return function Dz(t){return RM(NM(t))}(t)}throw xM(t)}function RM(t){return new qt(e=>{(function Cz(t,e){var n,s,r,i;return tt(this,void 0,void 0,function*(){try{for(n=bM(t);!(s=yield n.next()).done;)if(e.next(s.value),e.closed)return}catch(o){r={error:o}}finally{try{s&&!s.done&&(i=n.return)&&(yield i.call(n))}finally{if(r)throw r.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ai(t,e,n,s=0,r=!1){const i=e.schedule(function(){n(),r?t.add(this.schedule(null,s)):this.unsubscribe()},s);if(t.add(i),!r)return i}function kM(t,e=0){return ln((n,s)=>{n.subscribe(Pt(s,r=>ai(s,t,()=>s.next(r),e),()=>ai(s,t,()=>s.complete(),e),r=>ai(s,t,()=>s.error(r),e)))})}function FM(t,e=0){return ln((n,s)=>{s.add(t.schedule(()=>n.subscribe(s),e))})}function PM(t,e){if(!t)throw new Error("Iterable cannot be null");return new qt(n=>{ai(n,e,()=>{const s=t[Symbol.asyncIterator]();ai(n,e,()=>{s.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function hn(t,e){return e?function xz(t,e){if(null!=t){if(TM(t))return function bz(t,e){return er(t).pipe(FM(e),kM(e))}(t,e);if(SM(t))return function Ez(t,e){return new qt(n=>{let s=0;return e.schedule(function(){s===t.length?n.complete():(n.next(t[s++]),n.closed||this.schedule())})})}(t,e);if(EM(t))return function Sz(t,e){return er(t).pipe(FM(e),kM(e))}(t,e);if(IM(t))return PM(t,e);if(AM(t))return function Tz(t,e){return new qt(n=>{let s;return ai(n,e,()=>{s=t[MM](),ai(n,e,()=>{let r,i;try{({value:r,done:i}=s.next())}catch(o){return void n.error(o)}i?n.complete():n.next(r)},0,!0)}),()=>Ge(s?.return)&&s.return()})}(t,e);if(OM(t))return function Iz(t,e){return PM(NM(t),e)}(t,e)}throw xM(t)}(t,e):er(t)}function VM(t){return t&&Ge(t.schedule)}function hv(t){return t[t.length-1]}function fv(t){return Ge(hv(t))?t.pop():void 0}function qf(t){return VM(hv(t))?t.pop():void 0}function ae(...t){return hn(t,qf(t))}const{isArray:Mz}=Array,{getPrototypeOf:Az,prototype:Nz,keys:Oz}=Object;function LM(t){if(1===t.length){const e=t[0];if(Mz(e))return{args:e,keys:null};if(function Rz(t){return t&&"object"==typeof t&&Az(t)===Nz}(e)){const n=Oz(e);return{args:n.map(s=>e[s]),keys:n}}}return{args:t,keys:null}}const{isArray:kz}=Array;function jM(t){return Ne(e=>function Fz(t,e){return kz(e)?t(...e):t(e)}(t,e))}function BM(t,e){return t.reduce((n,s,r)=>(n[s]=e[r],n),{})}function Oo(...t){const e=qf(t),n=fv(t),{args:s,keys:r}=LM(t);if(0===s.length)return hn([],e);const i=new qt(function Pz(t,e,n=bi){return s=>{UM(e,()=>{const{length:r}=t,i=new Array(r);let o=r,a=r;for(let c=0;c<r;c++)UM(e,()=>{const u=hn(t[c],e);let l=!1;u.subscribe(Pt(s,d=>{i[c]=d,l||(l=!0,a--),a||s.next(n(i.slice()))},()=>{--o||s.complete()}))},s)},s)}}(s,e,r?o=>BM(r,o):bi));return n?i.pipe(jM(n)):i}function UM(t,e,n){t?ai(n,t,e):e()}const zf=Ss(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function In(t,e,n=1/0){return Ge(e)?In((s,r)=>Ne((i,o)=>e(s,i,r,o))(er(t(s,r))),n):("number"==typeof e&&(n=e),ln((s,r)=>function Vz(t,e,n,s,r,i,o,a){const c=[];let u=0,l=0,d=!1;const h=()=>{d&&!c.length&&!u&&e.complete()},f=g=>u<s?p(g):c.push(g),p=g=>{i&&e.next(g),u++;let _=!1;er(n(g,l++)).subscribe(Pt(e,m=>{r?.(m),i?f(m):e.next(m)},()=>{_=!0},void 0,()=>{if(_)try{for(u--;c.length&&u<s;){const m=c.shift();o?ai(e,o,()=>p(m)):p(m)}h()}catch(m){e.error(m)}}))};return t.subscribe(Pt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(s,r,t,n)))}function wl(t=1/0){return In(bi,t)}function pv(...t){return function Lz(){return wl(1)}()(hn(t,qf(t)))}function HM(t){return new qt(e=>{er(t()).subscribe(e)})}function Gf(t,e){const n=Ge(t)?t:()=>t,s=r=>r.error(n());return new qt(e?r=>e.schedule(s,0,r):s)}const Nr=new qt(t=>t.complete());function gv(){return ln((t,e)=>{let n=null;t._refCount++;const s=Pt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const r=t._connection,i=n;n=null,r&&(!i||r===i)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(s),s.closed||(n=t.connect())})}class $M extends qt{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,JD(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new kn;const n=this.getSubject();e.add(this.source.subscribe(Pt(n,void 0,()=>{this._teardown(),n.complete()},s=>{this._teardown(),n.error(s)},()=>this._teardown()))),e.closed&&(this._connection=null,e=kn.EMPTY)}return e}refCount(){return gv()(this)}}function xn(t,e){return ln((n,s)=>{let r=null,i=0,o=!1;const a=()=>o&&!r&&s.complete();n.subscribe(Pt(s,c=>{r?.unsubscribe();let u=0;const l=i++;er(t(c,l)).subscribe(r=Pt(s,d=>s.next(e?e(c,d,l,u++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function ic(t){return t<=0?()=>Nr:ln((e,n)=>{let s=0;e.subscribe(Pt(n,r=>{++s<=t&&(n.next(r),t<=s&&n.complete())}))})}function ji(t,e){return ln((n,s)=>{let r=0;n.subscribe(Pt(s,i=>t.call(e,i,r++)&&s.next(i)))})}function Wf(t){return ln((e,n)=>{let s=!1;e.subscribe(Pt(n,r=>{s=!0,n.next(r)},()=>{s||n.next(t),n.complete()}))})}function qM(t=Uz){return ln((e,n)=>{let s=!1;e.subscribe(Pt(n,r=>{s=!0,n.next(r)},()=>s?n.complete():n.error(t())))})}function Uz(){return new zf}function Ro(t,e){const n=arguments.length>=2;return s=>s.pipe(t?ji((r,i)=>t(r,i,s)):bi,ic(1),n?Wf(e):qM(()=>new zf))}function Dl(t,e){return Ge(e)?In(t,e,1):In(t,1)}function Zt(t,e,n){const s=Ge(t)||e||n?{next:t,error:e,complete:n}:t;return s?ln((r,i)=>{var o;null===(o=s.subscribe)||void 0===o||o.call(s);let a=!0;r.subscribe(Pt(i,c=>{var u;null===(u=s.next)||void 0===u||u.call(s,c),i.next(c)},()=>{var c;a=!1,null===(c=s.complete)||void 0===c||c.call(s),i.complete()},c=>{var u;a=!1,null===(u=s.error)||void 0===u||u.call(s,c),i.error(c)},()=>{var c,u;a&&(null===(c=s.unsubscribe)||void 0===c||c.call(s)),null===(u=s.finalize)||void 0===u||u.call(s)}))}):bi}function oc(t){return ln((e,n)=>{let i,s=null,r=!1;s=e.subscribe(Pt(n,void 0,void 0,o=>{i=er(t(o,oc(t)(e))),s?(s.unsubscribe(),s=null,i.subscribe(n)):r=!0})),r&&(s.unsubscribe(),s=null,i.subscribe(n))})}function mv(t){return t<=0?()=>Nr:ln((e,n)=>{let s=[];e.subscribe(Pt(n,r=>{s.push(r),t<s.length&&s.shift()},()=>{for(const r of s)n.next(r);n.complete()},void 0,()=>{s=null}))})}function _v(t){return ln((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Ee="primary",Cl=Symbol("RouteTitle");class Wz{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ac(t){return new Wz(t)}function Qz(t,e,n){const s=n.path.split("/");if(s.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||s.length<t.length))return null;const r={};for(let i=0;i<s.length;i++){const o=s[i],a=t[i];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,s.length),posParams:r}}function Or(t,e){const n=t?yv(t):void 0,s=e?yv(e):void 0;if(!n||!s||n.length!=s.length)return!1;let r;for(let i=0;i<n.length;i++)if(r=n[i],!zM(t[r],e[r]))return!1;return!0}function yv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function zM(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),s=[...e].sort();return n.every((r,i)=>s[i]===r)}return t===e}function GM(t){return t.length>0?t[t.length-1]:null}function Bi(t){return function Z3(t){return!!t&&(t instanceof qt||Ge(t.lift)&&Ge(t.subscribe))}(t)?t:ll(t)?hn(Promise.resolve(t)):ae(t)}const Yz={exact:function ZM(t,e,n){if(!ko(t.segments,e.segments)||!Qf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const s in e.children)if(!t.children[s]||!ZM(t.children[s],e.children[s],n))return!1;return!0},subset:YM},WM={exact:function Xz(t,e){return Or(t,e)},subset:function Kz(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>zM(t[n],e[n]))},ignored:()=>!0};function QM(t,e,n){return Yz[n.paths](t.root,e.root,n.matrixParams)&&WM[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function YM(t,e,n){return XM(t,e,e.segments,n)}function XM(t,e,n,s){if(t.segments.length>n.length){const r=t.segments.slice(0,n.length);return!(!ko(r,n)||e.hasChildren()||!Qf(r,n,s))}if(t.segments.length===n.length){if(!ko(t.segments,n)||!Qf(t.segments,n,s))return!1;for(const r in e.children)if(!t.children[r]||!YM(t.children[r],e.children[r],s))return!1;return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!(ko(t.segments,r)&&Qf(t.segments,r,s)&&t.children[Ee])&&XM(t.children[Ee],e,i,s)}}function Qf(t,e,n){return e.every((s,r)=>WM[n](t[r].parameters,s.parameters))}class cc{constructor(e=new nt([],{}),n={},s=null){this.root=e,this.queryParams=n,this.fragment=s}get queryParamMap(){return this._queryParamMap??=ac(this.queryParams),this._queryParamMap}toString(){return t4.serialize(this)}}class nt{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(s=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zf(this)}}class bl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ac(this.parameters),this._parameterMap}toString(){return eA(this)}}function ko(t,e){return t.length===e.length&&t.every((n,s)=>n.path===e[s].path)}let uc=(()=>{class t{static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:()=>new vv,providedIn:"root"})}}return t})();class vv{parse(e){const n=new h4(e);return new cc(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Sl(e.root,!0)}`,s=function r4(t){const e=Object.entries(t).map(([n,s])=>Array.isArray(s)?s.map(r=>`${Yf(n)}=${Yf(r)}`).join("&"):`${Yf(n)}=${Yf(s)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${s}${"string"==typeof e.fragment?`#${function n4(t){return encodeURI(t)}(e.fragment)}`:""}`}}const t4=new vv;function Zf(t){return t.segments.map(e=>eA(e)).join("/")}function Sl(t,e){if(!t.hasChildren())return Zf(t);if(e){const n=t.children[Ee]?Sl(t.children[Ee],!1):"",s=[];return Object.entries(t.children).forEach(([r,i])=>{r!==Ee&&s.push(`${r}:${Sl(i,!1)}`)}),s.length>0?`${n}(${s.join("//")})`:n}{const n=function e4(t,e){let n=[];return Object.entries(t.children).forEach(([s,r])=>{s===Ee&&(n=n.concat(e(r,s)))}),Object.entries(t.children).forEach(([s,r])=>{s!==Ee&&(n=n.concat(e(r,s)))}),n}(t,(s,r)=>r===Ee?[Sl(t.children[Ee],!1)]:[`${r}:${Sl(s,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Ee]?`${Zf(t)}/${n[0]}`:`${Zf(t)}/(${n.join("//")})`}}function KM(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yf(t){return KM(t).replace(/%3B/gi,";")}function wv(t){return KM(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xf(t){return decodeURIComponent(t)}function JM(t){return Xf(t.replace(/\+/g,"%20"))}function eA(t){return`${wv(t.path)}${function s4(t){return Object.entries(t).map(([e,n])=>`;${wv(e)}=${wv(n)}`).join("")}(t.parameters)}`}const i4=/^[^\/()?;#]+/;function Dv(t){const e=t.match(i4);return e?e[0]:""}const o4=/^[^\/()?;=#]+/,c4=/^[^=?&#]+/,l4=/^[^&#]+/;class h4{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nt([],{}):new nt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(s[Ee]=new nt(e,n)),s}parseSegment(){const e=Dv(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(e),new bl(Xf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function a4(t){const e=t.match(o4);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){const r=Dv(this.remaining);r&&(s=r,this.capture(s))}e[Xf(n)]=Xf(s)}parseQueryParam(e){const n=function u4(t){const e=t.match(c4);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){const o=function d4(t){const e=t.match(l4);return e?e[0]:""}(this.remaining);o&&(s=o,this.capture(s))}const r=JM(n),i=JM(s);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(i)}else e[r]=i}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Dv(this.remaining),r=this.remaining[s.length];if("/"!==r&&")"!==r&&";"!==r)throw new x(4010,!1);let i;s.indexOf(":")>-1?(i=s.slice(0,s.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Ee);const o=this.parseChildren();n[i]=1===Object.keys(o).length?o[Ee]:new nt([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new x(4011,!1)}}function tA(t){return t.segments.length>0?new nt([],{[Ee]:t}):t}function nA(t){const e={};for(const[s,r]of Object.entries(t.children)){const i=nA(r);if(s===Ee&&0===i.segments.length&&i.hasChildren())for(const[o,a]of Object.entries(i.children))e[o]=a;else(i.segments.length>0||i.hasChildren())&&(e[s]=i)}return function f4(t){if(1===t.numberOfChildren&&t.children[Ee]){const e=t.children[Ee];return new nt(t.segments.concat(e.segments),e.children)}return t}(new nt(t.segments,e))}function lc(t){return t instanceof cc}function sA(t){let e;const r=tA(function n(i){const o={};for(const c of i.children){const u=n(c);o[c.outlet]=u}const a=new nt(i.url,o);return i===t&&(e=a),a}(t.root));return e??r}function rA(t,e,n,s){let r=t;for(;r.parent;)r=r.parent;if(0===e.length)return Cv(r,r,r,n,s);const i=function g4(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new oA(!0,0,t);let e=0,n=!1;const s=t.reduce((r,i,o)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...r,{outlets:a}]}if(i.segmentPath)return[...r,i.segmentPath]}return"string"!=typeof i?[...r,i]:0===o?(i.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,i]},[]);return new oA(n,e,s)}(e);if(i.toRoot())return Cv(r,r,new nt([],{}),n,s);const o=function m4(t,e,n){if(t.isAbsolute)return new Jf(e,!0,0);if(!n)return new Jf(e,!1,NaN);if(null===n.parent)return new Jf(n,!0,0);const s=Kf(t.commands[0])?0:1;return function _4(t,e,n){let s=t,r=e,i=n;for(;i>r;){if(i-=r,s=s.parent,!s)throw new x(4005,!1);r=s.segments.length}return new Jf(s,!1,r-i)}(n,n.segments.length-1+s,t.numberOfDoubleDots)}(i,r,t),a=o.processChildren?Tl(o.segmentGroup,o.index,i.commands):aA(o.segmentGroup,o.index,i.commands);return Cv(r,o.segmentGroup,a,n,s)}function Kf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function El(t){return"object"==typeof t&&null!=t&&t.outlets}function Cv(t,e,n,s,r){let o,i={};s&&Object.entries(s).forEach(([c,u])=>{i[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:iA(t,e,n);const a=tA(nA(o));return new cc(a,i,r)}function iA(t,e,n){const s={};return Object.entries(t.children).forEach(([r,i])=>{s[r]=i===e?n:iA(i,e,n)}),new nt(t.segments,s)}class oA{constructor(e,n,s){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=s,e&&s.length>0&&Kf(s[0]))throw new x(4003,!1);const r=s.find(El);if(r&&r!==GM(s))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jf{constructor(e,n,s){this.segmentGroup=e,this.processChildren=n,this.index=s}}function aA(t,e,n){if(t??=new nt([],{}),0===t.segments.length&&t.hasChildren())return Tl(t,e,n);const s=function v4(t,e,n){let s=0,r=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(s>=n.length)return i;const o=t.segments[r],a=n[s];if(El(a))break;const c=`${a}`,u=s<n.length-1?n[s+1]:null;if(r>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!uA(c,u,o))return i;s+=2}else{if(!uA(c,{},o))return i;s++}r++}return{match:!0,pathIndex:r,commandIndex:s}}(t,e,n),r=n.slice(s.commandIndex);if(s.match&&s.pathIndex<t.segments.length){const i=new nt(t.segments.slice(0,s.pathIndex),{});return i.children[Ee]=new nt(t.segments.slice(s.pathIndex),t.children),Tl(i,0,r)}return s.match&&0===r.length?new nt(t.segments,{}):s.match&&!t.hasChildren()?bv(t,e,n):s.match?Tl(t,0,r):bv(t,e,n)}function Tl(t,e,n){if(0===n.length)return new nt(t.segments,{});{const s=function y4(t){return El(t[0])?t[0].outlets:{[Ee]:t}}(n),r={};if(Object.keys(s).some(i=>i!==Ee)&&t.children[Ee]&&1===t.numberOfChildren&&0===t.children[Ee].segments.length){const i=Tl(t.children[Ee],e,n);return new nt(t.segments,i.children)}return Object.entries(s).forEach(([i,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[i]=aA(t.children[i],e,o))}),Object.entries(t.children).forEach(([i,o])=>{void 0===s[i]&&(r[i]=o)}),new nt(t.segments,r)}}function bv(t,e,n){const s=t.segments.slice(0,e);let r=0;for(;r<n.length;){const i=n[r];if(El(i)){const c=w4(i.outlets);return new nt(s,c)}if(0===r&&Kf(n[0])){s.push(new bl(t.segments[e].path,cA(n[0]))),r++;continue}const o=El(i)?i.outlets[Ee]:`${i}`,a=r<n.length-1?n[r+1]:null;o&&a&&Kf(a)?(s.push(new bl(o,cA(a))),r+=2):(s.push(new bl(o,{})),r++)}return new nt(s,{})}function w4(t){const e={};return Object.entries(t).forEach(([n,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(e[n]=bv(new nt([],{}),0,s))}),e}function cA(t){const e={};return Object.entries(t).forEach(([n,s])=>e[n]=`${s}`),e}function uA(t,e,n){return t==n.path&&Or(e,n.parameters)}const Il="imperative";var Ve=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ve||{});class Rr{constructor(e,n){this.id=e,this.url=n}}class ep extends Rr{constructor(e,n,s="imperative",r=null){super(e,n),this.type=Ve.NavigationStart,this.navigationTrigger=s,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ci extends Rr{constructor(e,n,s){super(e,n),this.urlAfterRedirects=s,this.type=Ve.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var gs=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(gs||{}),tp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(tp||{});class dc extends Rr{constructor(e,n,s,r){super(e,n),this.reason=s,this.code=r,this.type=Ve.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hc extends Rr{constructor(e,n,s,r){super(e,n),this.reason=s,this.code=r,this.type=Ve.NavigationSkipped}}class np extends Rr{constructor(e,n,s,r){super(e,n),this.error=s,this.target=r,this.type=Ve.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lA extends Rr{constructor(e,n,s,r){super(e,n),this.urlAfterRedirects=s,this.state=r,this.type=Ve.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class D4 extends Rr{constructor(e,n,s,r){super(e,n),this.urlAfterRedirects=s,this.state=r,this.type=Ve.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class C4 extends Rr{constructor(e,n,s,r,i){super(e,n),this.urlAfterRedirects=s,this.state=r,this.shouldActivate=i,this.type=Ve.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class b4 extends Rr{constructor(e,n,s,r){super(e,n),this.urlAfterRedirects=s,this.state=r,this.type=Ve.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S4 extends Rr{constructor(e,n,s,r){super(e,n),this.urlAfterRedirects=s,this.state=r,this.type=Ve.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E4{constructor(e){this.route=e,this.type=Ve.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class T4{constructor(e){this.route=e,this.type=Ve.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class I4{constructor(e){this.snapshot=e,this.type=Ve.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class x4{constructor(e){this.snapshot=e,this.type=Ve.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class M4{constructor(e){this.snapshot=e,this.type=Ve.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class A4{constructor(e){this.snapshot=e,this.type=Ve.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dA{constructor(e,n,s){this.routerEvent=e,this.position=n,this.anchor=s,this.type=Ve.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Sv{}class Ev{constructor(e){this.url=e}}class N4{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new xl,this.attachRef=null}}let xl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,s){const r=this.getOrCreateContext(n);r.outlet=s,this.contexts.set(n,r)}onChildOutletDestroyed(n){const s=this.getContext(n);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let s=this.getContext(n);return s||(s=new N4,this.contexts.set(n,s)),s}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class hA{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Tv(e,this._root);return n?n.children.map(s=>s.value):[]}firstChild(e){const n=Tv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Iv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Iv(e,this._root).map(n=>n.value)}}function Tv(t,e){if(t===e.value)return e;for(const n of e.children){const s=Tv(t,n);if(s)return s}return null}function Iv(t,e){if(t===e.value)return[e];for(const n of e.children){const s=Iv(t,n);if(s.length)return s.unshift(e),s}return[]}class tr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function fc(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class fA extends hA{constructor(e,n){super(e),this.snapshot=n,Av(this,e)}toString(){return this.snapshot.toString()}}function pA(t){const e=function O4(t){const i=new Mv([],{},{},"",{},Ee,t,null,{});return new gA("",new tr(i,[]))}(t),n=new zt([new bl("",{})]),s=new zt({}),r=new zt({}),i=new zt({}),o=new zt(""),a=new pc(n,s,i,o,r,Ee,t,e.root);return a.snapshot=e.root,new fA(new tr(a,[]),e)}class pc{constructor(e,n,s,r,i,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=s,this.fragmentSubject=r,this.dataSubject=i,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ne(u=>u[Cl]))??ae(void 0),this.url=e,this.params=n,this.queryParams=s,this.fragment=r,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ne(e=>ac(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ne(e=>ac(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xv(t,e,n="emptyOnly"){let s;const{routeConfig:r}=t;return s=null===e||"always"!==n&&""!==r?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...r?.data,...t._resolvedData}},r&&_A(r)&&(s.resolve[Cl]=r.title),s}class Mv{get title(){return this.data?.[Cl]}constructor(e,n,s,r,i,o,a,c,u){this.url=e,this.params=n,this.queryParams=s,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ac(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ac(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gA extends hA{constructor(e,n){super(n),this.url=e,Av(this,n)}toString(){return mA(this._root)}}function Av(t,e){e.value._routerState=t,e.children.forEach(n=>Av(t,n))}function mA(t){const e=t.children.length>0?` { ${t.children.map(mA).join(", ")} } `:"";return`${t.value}${e}`}function Nv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Or(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Or(e.params,n.params)||t.paramsSubject.next(n.params),function Zz(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Or(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Or(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Ov(t,e){const n=Or(t.params,e.params)&&function Jz(t,e){return ko(t,e)&&t.every((n,s)=>Or(n.parameters,e[s].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Ov(t.parent,e.parent))}function _A(t){return"string"==typeof t.title||null===t.title}let Rv=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ee,this.activateEvents=new At,this.deactivateEvents=new At,this.attachEvents=new At,this.detachEvents=new At,this.parentContexts=O(xl),this.location=O(Zs),this.changeDetector=O(dl),this.environmentInjector=O(Kn),this.inputBinder=O(sp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:s,previousValue:r}=n.name;if(s)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,s){this.activated=n,this._activatedRoute=s,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,s){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=n;const r=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new kv(n,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:c,environmentInjector:s??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275dir=fe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ts]})}}return t})();class kv{__ngOutletInjector(e){return new kv(this.route,this.childContexts,e)}constructor(e,n,s){this.route=e,this.childContexts=n,this.parent=s}get(e,n){return e===pc?this.route:e===xl?this.childContexts:this.parent.get(e,n)}}const sp=new j("");let yA=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:s}=n,r=Oo([s.queryParams,s.params,s.data]).pipe(xn(([i,o,a],c)=>(a={...i,...o,...a},0===c?ae(a):Promise.resolve(a)))).subscribe(i=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==s||null===s.component)return void this.unsubscribeFromRouteData(n);const o=function w$(t){const e=Ie(t);if(!e)return null;const n=new $u(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(s.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,r)}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac})}}return t})();function Ml(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const s=n.value;s._futureSnapshot=e.value;const r=function k4(t,e,n){return e.children.map(s=>{for(const r of n.children)if(t.shouldReuseRoute(s.value,r.value.snapshot))return Ml(t,s,r);return Ml(t,s)})}(t,e,n);return new tr(s,r)}{if(t.shouldAttach(e.value)){const i=t.retrieve(e.value);if(null!==i){const o=i.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ml(t,a)),o}}const s=function F4(t){return new pc(new zt(t.url),new zt(t.params),new zt(t.queryParams),new zt(t.fragment),new zt(t.data),t.outlet,t.component,t)}(e.value),r=e.children.map(i=>Ml(t,i));return new tr(s,r)}}const vA="ngNavigationCancelingError";function wA(t,e){const{redirectTo:n,navigationBehaviorOptions:s}=lc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=DA(!1,gs.Redirect);return r.url=n,r.navigationBehaviorOptions=s,r}function DA(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[vA]=!0,n.cancellationCode=e,n}function CA(t){return!!t&&t[vA]}let bA=(()=>{class t{static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275cmp=Es({type:t,selectors:[["ng-component"]],standalone:!0,features:[Ms],decls:1,vars:0,template:function(s,r){1&s&&xr(0,"router-outlet")},dependencies:[Rv],encapsulation:2})}}return t})();function Fv(t){const e=t.children&&t.children.map(Fv),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ee&&(n.component=bA),n}function kr(t){return t.outlet||Ee}function Al(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class $4{constructor(e,n,s,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=s,this.forwardEvent=r,this.inputBindingEnabled=i}activate(e){const n=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,s,e),Nv(this.futureState.root),this.activateChildRoutes(n,s,e)}deactivateChildRoutes(e,n,s){const r=fc(n);e.children.forEach(i=>{const o=i.value.outlet;this.deactivateRoutes(i,r[o],s),delete r[o]}),Object.values(r).forEach(i=>{this.deactivateRouteAndItsChildren(i,s)})}deactivateRoutes(e,n,s){const r=e.value,i=n?n.value:null;if(r===i)if(r.component){const o=s.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,s);else i&&this.deactivateRouteAndItsChildren(n,s)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const s=n.getContext(e.value.outlet),r=s&&e.value.component?s.children:n,i=fc(e);for(const o of Object.values(i))this.deactivateRouteAndItsChildren(o,r);if(s&&s.outlet){const o=s.outlet.detach(),a=s.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const s=n.getContext(e.value.outlet),r=s&&e.value.component?s.children:n,i=fc(e);for(const o of Object.values(i))this.deactivateRouteAndItsChildren(o,r);s&&(s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated()),s.attachRef=null,s.route=null)}activateChildRoutes(e,n,s){const r=fc(n);e.children.forEach(i=>{this.activateRoutes(i,r[i.value.outlet],s),this.forwardEvent(new A4(i.value.snapshot))}),e.children.length&&this.forwardEvent(new x4(e.value.snapshot))}activateRoutes(e,n,s){const r=e.value,i=n?n.value:null;if(Nv(r),r===i)if(r.component){const o=s.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,s);else if(r.component){const o=s.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Nv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Al(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,s)}}class SA{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class rp{constructor(e,n){this.component=e,this.route=n}}function q4(t,e,n){const s=t._root;return Nl(s,e?e._root:null,n,[s.value])}function gc(t,e){const n=Symbol(),s=e.get(t,n);return s===n?"function"!=typeof t||function rR(t){return null!==Vd(t)}(t)?e.get(t):t:s}function Nl(t,e,n,s,r={canDeactivateChecks:[],canActivateChecks:[]}){const i=fc(e);return t.children.forEach(o=>{(function G4(t,e,n,s,r={canDeactivateChecks:[],canActivateChecks:[]}){const i=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){const c=function W4(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ko(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ko(t.url,e.url)||!Or(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ov(t,e)||!Or(t.queryParams,e.queryParams);default:return!Ov(t,e)}}(o,i,i.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new SA(s)):(i.data=o.data,i._resolvedData=o._resolvedData),Nl(t,e,i.component?a?a.children:null:n,s,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new rp(a.outlet.component,o))}else o&&Ol(e,a,r),r.canActivateChecks.push(new SA(s)),Nl(t,null,i.component?a?a.children:null:n,s,r)})(o,i[o.value.outlet],n,s.concat([o.value]),r),delete i[o.value.outlet]}),Object.entries(i).forEach(([o,a])=>Ol(a,n.getContext(o),r)),r}function Ol(t,e,n){const s=fc(t),r=t.value;Object.entries(s).forEach(([i,o])=>{Ol(o,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new rp(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Rl(t){return"function"==typeof t}function EA(t){return t instanceof zf||"EmptyError"===t?.name}const ip=Symbol("INITIAL_VALUE");function mc(){return xn(t=>Oo(t.map(e=>e.pipe(ic(1),function Bz(...t){const e=qf(t);return ln((n,s)=>{(e?pv(t,n,e):pv(t,n)).subscribe(s)})}(ip)))).pipe(Ne(e=>{for(const n of e)if(!0!==n){if(n===ip)return ip;if(!1===n||n instanceof cc)return n}return!0}),ji(e=>e!==ip),ic(1)))}function TA(t){return function QO(...t){return YD(t)}(Zt(e=>{if(lc(e))throw wA(0,e)}),Ne(e=>!0===e))}class Pv{constructor(e){this.segmentGroup=e||null}}class Vv extends Error{constructor(e){super(),this.urlTree=e}}function _c(t){return Gf(new Pv(t))}class hG{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let s=[],r=n.root;for(;;){if(s=s.concat(r.segments),0===r.numberOfChildren)return ae(s);if(r.numberOfChildren>1||!r.children[Ee])return Gf(new x(4e3,!1));r=r.children[Ee]}}applyRedirectCommands(e,n,s){const r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,s);if(n.startsWith("/"))throw new Vv(r);return r}applyRedirectCreateUrlTree(e,n,s,r){const i=this.createSegmentGroup(e,n.root,s,r);return new cc(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const s={};return Object.entries(e).forEach(([r,i])=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);s[r]=n[a]}else s[r]=i}),s}createSegmentGroup(e,n,s,r){const i=this.createSegments(e,n.segments,s,r);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,s,r)}),new nt(i,o)}createSegments(e,n,s,r){return n.map(i=>i.path.startsWith(":")?this.findPosParam(e,i,r):this.findOrReturn(i,s))}findPosParam(e,n,s){const r=s[n.path.substring(1)];if(!r)throw new x(4001,!1);return r}findOrReturn(e,n){let s=0;for(const r of n){if(r.path===e.path)return n.splice(s),r;s++}return e}}const Lv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fG(t,e,n,s,r){const i=jv(t,e,n);return i.matched?(s=function V4(t,e){return t.providers&&!t._injector&&(t._injector=Wh(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,s),function uG(t,e,n,s){const r=e.canMatch;return r&&0!==r.length?ae(r.map(o=>{const a=gc(o,t);return Bi(function J4(t){return t&&Rl(t.canMatch)}(a)?a.canMatch(e,n):Qr(t,()=>a(e,n)))})).pipe(mc(),TA()):ae(!0)}(s,e,n).pipe(Ne(o=>!0===o?i:{...Lv}))):ae(i)}function jv(t,e,n){if("**"===e.path)return function pG(t){return{matched:!0,parameters:t.length>0?GM(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Lv}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Qz)(n,t,e);if(!r)return{...Lv};const i={};Object.entries(r.posParams??{}).forEach(([a,c])=>{i[a]=c.path});const o=r.consumed.length>0?{...i,...r.consumed[r.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function IA(t,e,n,s){return n.length>0&&function _G(t,e,n){return n.some(s=>op(t,e,s)&&kr(s)!==Ee)}(t,n,s)?{segmentGroup:new nt(e,mG(s,new nt(n,t.children))),slicedSegments:[]}:0===n.length&&function yG(t,e,n){return n.some(s=>op(t,e,s))}(t,n,s)?{segmentGroup:new nt(t.segments,gG(t,n,s,t.children)),slicedSegments:n}:{segmentGroup:new nt(t.segments,t.children),slicedSegments:n}}function gG(t,e,n,s){const r={};for(const i of n)if(op(t,e,i)&&!s[kr(i)]){const o=new nt([],{});r[kr(i)]=o}return{...s,...r}}function mG(t,e){const n={};n[Ee]=e;for(const s of t)if(""===s.path&&kr(s)!==Ee){const r=new nt([],{});n[kr(s)]=r}return n}function op(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class DG{}class SG{constructor(e,n,s,r,i,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=s,this.config=r,this.urlTree=i,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new hG(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new x(4002,`'${e.segmentGroup}'`)}recognize(){const e=IA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ne(n=>{const s=new Mv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ee,this.rootComponentType,null,{}),r=new tr(s,n),i=new gA("",r),o=function p4(t,e,n=null,s=null){return rA(sA(t),e,n,s)}(s,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(i._root,null),{state:i,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Ee).pipe(oc(s=>{if(s instanceof Vv)return this.urlTree=s.urlTree,this.match(s.urlTree.root);throw s instanceof Pv?this.noMatchError(s):s}))}inheritParamsAndData(e,n){const s=e.value,r=xv(s,n,this.paramsInheritanceStrategy);s.params=Object.freeze(r.params),s.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i,s))}processSegmentGroup(e,n,s,r){return 0===s.segments.length&&s.hasChildren()?this.processChildren(e,n,s):this.processSegment(e,n,s,s.segments,r,!0).pipe(Ne(i=>i instanceof tr?[i]:[]))}processChildren(e,n,s){const r=[];for(const i of Object.keys(s.children))"primary"===i?r.unshift(i):r.push(i);return hn(r).pipe(Dl(i=>{const o=s.children[i],a=function U4(t,e){const n=t.filter(s=>kr(s)===e);return n.push(...t.filter(s=>kr(s)!==e)),n}(n,i);return this.processSegmentGroup(e,a,o,i)}),function $z(t,e){return ln(function Hz(t,e,n,s,r){return(i,o)=>{let a=n,c=e,u=0;i.subscribe(Pt(o,l=>{const d=u++;c=a?t(c,l,d):(a=!0,l),s&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}((i,o)=>(i.push(...o),i)),Wf(null),function qz(t,e){const n=arguments.length>=2;return s=>s.pipe(t?ji((r,i)=>t(r,i,s)):bi,mv(1),n?Wf(e):qM(()=>new zf))}(),In(i=>{if(null===i)return _c(s);const o=xA(i);return function EG(t){t.sort((e,n)=>e.value.outlet===Ee?-1:n.value.outlet===Ee?1:e.value.outlet.localeCompare(n.value.outlet))}(o),ae(o)}))}processSegment(e,n,s,r,i,o){return hn(n).pipe(Dl(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,s,r,i,o).pipe(oc(c=>{if(c instanceof Pv)return ae(null);throw c}))),Ro(a=>!!a),oc(a=>{if(EA(a))return function wG(t,e,n){return 0===e.length&&!t.children[n]}(s,r,i)?ae(new DG):_c(s);throw a}))}processSegmentAgainstRoute(e,n,s,r,i,o,a){return function vG(t,e,n,s){return!!(kr(t)===s||s!==Ee&&op(e,n,t))&&jv(e,t,n).matched}(s,r,i,o)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,r,s,i,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,s,i,o):_c(r):_c(r)}expandSegmentAgainstRouteUsingRedirect(e,n,s,r,i,o){const{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=jv(n,r,i);if(!a)return _c(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const d=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,u);return this.applyRedirects.lineralizeSegments(r,d).pipe(In(h=>this.processSegment(e,s,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,s,r,i){const o=fG(n,s,r,e);return"**"===s.path&&(n.children={}),o.pipe(xn(a=>a.matched?this.getChildConfig(e=s._injector??e,s,r).pipe(xn(({routes:c})=>{const u=s._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new Mv(l,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function IG(t){return t.data||{}}(s),kr(s),s.component??s._loadedComponent??null,s,function xG(t){return t.resolve||{}}(s)),{segmentGroup:p,slicedSegments:g}=IA(n,l,d,c);if(0===g.length&&p.hasChildren())return this.processChildren(u,c,p).pipe(Ne(m=>null===m?null:new tr(f,m)));if(0===c.length&&0===g.length)return ae(new tr(f,[]));const _=kr(s)===i;return this.processSegment(u,c,p,g,_?Ee:i,!0).pipe(Ne(m=>new tr(f,m instanceof tr?[m]:[])))})):_c(n)))}getChildConfig(e,n,s){return n.children?ae({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ae({routes:n._loadedRoutes,injector:n._loadedInjector}):function cG(t,e,n,s){const r=e.canLoad;return void 0===r||0===r.length?ae(!0):ae(r.map(o=>{const a=gc(o,t);return Bi(function Z4(t){return t&&Rl(t.canLoad)}(a)?a.canLoad(e,n):Qr(t,()=>a(e,n)))})).pipe(mc(),TA())}(e,n,s).pipe(In(r=>r?this.configLoader.loadChildren(e,n).pipe(Zt(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):function dG(t){return Gf(DA(!1,gs.GuardRejected))}())):ae({routes:[],injector:e})}}function TG(t){const e=t.value.routeConfig;return e&&""===e.path}function xA(t){const e=[],n=new Set;for(const s of t){if(!TG(s)){e.push(s);continue}const r=e.find(i=>s.value.routeConfig===i.value.routeConfig);void 0!==r?(r.children.push(...s.children),n.add(r)):e.push(s)}for(const s of n){const r=xA(s.children);e.push(new tr(s.value,r))}return e.filter(s=>!n.has(s))}function MA(t){const e=t.children.map(n=>MA(n)).flat();return[t,...e]}function Bv(t){return xn(e=>{const n=t(e);return n?hn(n).pipe(Ne(()=>e)):ae(e)})}let AA=(()=>{class t{buildTitle(n){let s,r=n.root;for(;void 0!==r;)s=this.getResolvedTitleForRoute(r)??s,r=r.children.find(i=>i.outlet===Ee);return s}getResolvedTitleForRoute(n){return n.data[Cl]}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:()=>O(kG),providedIn:"root"})}}return t})(),kG=(()=>{class t extends AA{constructor(n){super(),this.title=n}updateTitle(n){const s=this.buildTitle(n);void 0!==s&&this.title.setTitle(s)}static{this.\u0275fac=function(s){return new(s||t)(ce(z3))}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const yc=new j("",{providedIn:"root",factory:()=>({})}),vc=new j("");let Uv=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(GI)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ae(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const s=Bi(n.loadComponent()).pipe(Ne(NA),Zt(i=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=i}),_v(()=>{this.componentLoaders.delete(n)})),r=new $M(s,()=>new is).pipe(gv());return this.componentLoaders.set(n,r),r}loadChildren(n,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return ae({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const i=function FG(t,e,n,s){return Bi(t.loadChildren()).pipe(Ne(NA),In(r=>r instanceof iE||Array.isArray(r)?ae(r):hn(e.compileModuleAsync(r))),Ne(r=>{s&&s(t);let i,o,a=!1;return Array.isArray(r)?(o=r,!0):(i=r.create(n).injector,o=i.get(vc,[],{optional:!0,self:!0}).flat()),{routes:o.map(Fv),injector:i}}))}(s,this.compiler,n,this.onLoadEndListener).pipe(_v(()=>{this.childrenLoaders.delete(s)})),o=new $M(i,()=>new is).pipe(gv());return this.childrenLoaders.set(s,o),o}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function NA(t){return function PG(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Hv=(()=>{class t{static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:()=>O(VG),providedIn:"root"})}}return t})(),VG=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,s){return n}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const OA=new j(""),RA=new j("");function LG(t,e,n){const s=t.get(RA),r=t.get(As);return t.get(Xe).runOutsideAngular(()=>{if(!r.startViewTransition||s.skipNextTransition)return s.skipNextTransition=!1,new Promise(u=>setTimeout(u));let i;const o=new Promise(u=>{i=u}),a=r.startViewTransition(()=>(i(),function jG(t){return new Promise(e=>{E_(e,{injector:t})})}(t))),{onViewTransitionCreated:c}=s;return c&&Qr(t,()=>c({transition:a,from:e,to:n})),o})}let ap=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new is,this.transitionAbortSubject=new is,this.configLoader=O(Uv),this.environmentInjector=O(Kn),this.urlSerializer=O(uc),this.rootContexts=O(xl),this.location=O(pl),this.inputBindingEnabled=null!==O(sp,{optional:!0}),this.titleStrategy=O(AA),this.options=O(yc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(Hv),this.createViewTransition=O(OA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ae(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new T4(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new E4(r))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const s=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:s})}setupNavigations(n,s,r){return this.transitions=new zt({id:0,currentUrlTree:s,currentRawUrl:s,extractedUrl:this.urlHandlingStrategy.extract(s),urlAfterRedirects:this.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Il,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ji(i=>0!==i.id),Ne(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),xn(i=>{let o=!1,a=!1;return ae(i).pipe(xn(c=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",gs.SupersededByNewNavigation),Nr;this.currentTransition=i,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!u&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const d="";return this.events.next(new hc(c.id,this.urlSerializer.serialize(c.rawUrl),d,tp.IgnoredSameUrlNavigation)),c.resolve(null),Nr}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ae(c).pipe(xn(d=>{const h=this.transitions?.getValue();return this.events.next(new ep(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?Nr:Promise.resolve(d)}),function MG(t,e,n,s,r,i){return In(o=>function CG(t,e,n,s,r,i,o="emptyOnly"){return new SG(t,e,n,s,r,o,i).recognize()}(t,e,n,s,o.extractedUrl,r,i).pipe(Ne(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Zt(d=>{i.targetSnapshot=d.targetSnapshot,i.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const h=new lA(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:d,extractedUrl:h,source:f,restoredState:p,extras:g}=c,_=new ep(d,this.urlSerializer.serialize(h),f,p);this.events.next(_);const m=pA(this.rootComponentType).snapshot;return this.currentTransition=i={...c,targetSnapshot:m,urlAfterRedirects:h,extras:{...g,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=h,ae(i)}{const d="";return this.events.next(new hc(c.id,this.urlSerializer.serialize(c.extractedUrl),d,tp.IgnoredByUrlHandlingStrategy)),c.resolve(null),Nr}}),Zt(c=>{const u=new D4(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Ne(c=>(this.currentTransition=i={...c,guards:q4(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},i)),function eG(t,e){return In(n=>{const{targetSnapshot:s,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=n;return 0===o.length&&0===i.length?ae({...n,guardsResult:!0}):function tG(t,e,n,s){return hn(t).pipe(In(r=>function aG(t,e,n,s,r){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?ae(i.map(a=>{const c=Al(e)??r,u=gc(a,c);return Bi(function K4(t){return t&&Rl(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,s):Qr(c,()=>u(t,e,n,s))).pipe(Ro())})).pipe(mc()):ae(!0)}(r.component,r.route,n,e,s)),Ro(r=>!0!==r,!0))}(o,s,r,t).pipe(In(a=>a&&function Q4(t){return"boolean"==typeof t}(a)?function nG(t,e,n,s){return hn(e).pipe(Dl(r=>pv(function rG(t,e){return null!==t&&e&&e(new I4(t)),ae(!0)}(r.route.parent,s),function sG(t,e){return null!==t&&e&&e(new M4(t)),ae(!0)}(r.route,s),function oG(t,e,n){const s=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(o=>function z4(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>HM(()=>ae(o.guards.map(c=>{const u=Al(o.node)??n,l=gc(c,u);return Bi(function X4(t){return t&&Rl(t.canActivateChild)}(l)?l.canActivateChild(s,t):Qr(u,()=>l(s,t))).pipe(Ro())})).pipe(mc())));return ae(i).pipe(mc())}(t,r.path,n),function iG(t,e,n){const s=e.routeConfig?e.routeConfig.canActivate:null;if(!s||0===s.length)return ae(!0);const r=s.map(i=>HM(()=>{const o=Al(e)??n,a=gc(i,o);return Bi(function Y4(t){return t&&Rl(t.canActivate)}(a)?a.canActivate(e,t):Qr(o,()=>a(e,t))).pipe(Ro())}));return ae(r).pipe(mc())}(t,r.route,n))),Ro(r=>!0!==r,!0))}(s,i,t,e):ae(a)),Ne(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Zt(c=>{if(i.guardsResult=c.guardsResult,lc(c.guardsResult))throw wA(0,c.guardsResult);const u=new C4(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),ji(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",gs.GuardRejected),!1)),Bv(c=>{if(c.guards.canActivateChecks.length)return ae(c).pipe(Zt(u=>{const l=new b4(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),xn(u=>{let l=!1;return ae(u).pipe(function AG(t,e){return In(n=>{const{targetSnapshot:s,guards:{canActivateChecks:r}}=n;if(!r.length)return ae(n);const i=new Set(r.map(c=>c.route)),o=new Set;for(const c of i)if(!o.has(c))for(const u of MA(c))o.add(u);let a=0;return hn(o).pipe(Dl(c=>i.has(c)?function NG(t,e,n,s){const r=t.routeConfig,i=t._resolve;return void 0!==r?.title&&!_A(r)&&(i[Cl]=r.title),function OG(t,e,n,s){const r=yv(t);if(0===r.length)return ae({});const i={};return hn(r).pipe(In(o=>function RG(t,e,n,s){const r=Al(e)??s,i=gc(t,r);return Bi(i.resolve?i.resolve(e,n):Qr(r,()=>i(e,n)))}(t[o],e,n,s).pipe(Ro(),Zt(a=>{i[o]=a}))),mv(1),function zz(t){return Ne(()=>t)}(i),oc(o=>EA(o)?Nr:Gf(o)))}(i,t,e,s).pipe(Ne(o=>(t._resolvedData=o,t.data=xv(t,t.parent,n).resolve,null)))}(c,s,t,e):(c.data=xv(c,c.parent,t).resolve,ae(void 0))),Zt(()=>a++),mv(1),In(c=>a===o.size?ae(n):Nr))})}(this.paramsInheritanceStrategy,this.environmentInjector),Zt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",gs.NoDataFromResolver)}}))}),Zt(u=>{const l=new S4(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),Bv(c=>{const u=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(Zt(h=>{l.component=h}),Ne(()=>{})));for(const h of l.children)d.push(...u(h));return d};return Oo(u(c.targetSnapshot.root)).pipe(Wf(null),ic(1))}),Bv(()=>this.afterPreactivation()),xn(()=>{const{currentSnapshot:c,targetSnapshot:u}=i,l=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return l?hn(l).pipe(Ne(()=>i)):ae(i)}),Ne(c=>{const u=function R4(t,e,n){const s=Ml(t,e._root,n?n._root:void 0);return new fA(s,e)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=i={...c,targetRouterState:u},this.currentNavigation.targetRouterState=u,i}),Zt(()=>{this.events.next(new Sv)}),((t,e,n,s)=>Ne(r=>(new $4(e,r.targetRouterState,r.currentRouterState,n,s).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ic(1),Zt({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ci(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),function Gz(t){return ln((e,n)=>{er(t).subscribe(Pt(n,()=>n.complete(),Xc)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Zt(c=>{throw c}))),_v(()=>{!o&&!a&&this.cancelNavigationTransition(i,"",gs.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),oc(c=>{if(a=!0,CA(c))this.events.next(new dc(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode)),function P4(t){return CA(t)&&lc(t.url)}(c)?this.events.next(new Ev(c.url)):i.resolve(!1);else{this.events.next(new np(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0));try{i.resolve(n.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(u)}}return Nr}))}))}cancelNavigationTransition(n,s,r){const i=new dc(n.id,this.urlSerializer.serialize(n.extractedUrl),s,r);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function BG(t){return t!==Il}let UG=(()=>{class t{static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:()=>O($G),providedIn:"root"})}}return t})();class HG{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let $G=(()=>{class t extends HG{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=dn(t)))(r||t)}})()}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),kA=(()=>{class t{static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:()=>O(qG),providedIn:"root"})}}return t})(),qG=(()=>{class t extends kA{constructor(){super(...arguments),this.location=O(pl),this.urlSerializer=O(uc),this.options=O(yc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(Hv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new cc,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=pA(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(s=>{"popstate"===s.type&&n(s.url,s.state)})}handleRouterEvent(n,s){if(n instanceof ep)this.stateMemento=this.createStateMemento();else if(n instanceof hc)this.rawUrlTree=s.initialUrl;else if(n instanceof lA){if("eager"===this.urlUpdateStrategy&&!s.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl);this.setBrowserUrl(r,s)}}else n instanceof Sv?(this.currentUrlTree=s.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s))):n instanceof dc&&(n.code===gs.GuardRejected||n.code===gs.NoDataFromResolver)?this.restoreHistory(s):n instanceof np?this.restoreHistory(s,!0):n instanceof ci&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,s){const r=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(r)||s.extras.replaceUrl){const o={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const i={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId+1)};this.location.go(r,"",i)}}restoreHistory(n,s=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-this.browserPageId;0!==i?this.location.historyGo(i):this.currentUrlTree===n.finalUrl&&0===i&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,s){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:s}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=dn(t)))(r||t)}})()}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var kl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(kl||{});function FA(t,e){t.events.pipe(ji(n=>n instanceof ci||n instanceof dc||n instanceof np||n instanceof hc),Ne(n=>n instanceof ci||n instanceof hc?kl.COMPLETE:n instanceof dc&&(n.code===gs.Redirect||n.code===gs.SupersededByNewNavigation)?kl.REDIRECTING:kl.FAILED),ji(n=>n!==kl.REDIRECTING),ic(1)).subscribe(()=>{e()})}function zG(t){throw t}const GG={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},WG={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let nr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=O(PI),this.stateManager=O(kA),this.options=O(yc,{optional:!0})||{},this.pendingTasks=O(Fa),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(ap),this.urlSerializer=O(uc),this.location=O(pl),this.urlHandlingStrategy=O(Hv),this._events=new is,this.errorHandler=this.options.errorHandler||zG,this.navigated=!1,this.routeReuseStrategy=O(UG),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(vc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(sp,{optional:!0}),this.eventsSubscription=new kn,this.isNgZoneEnabled=O(Xe)instanceof Xe&&Xe.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(s=>{try{const r=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(null!==r&&null!==i)if(this.stateManager.handleRouterEvent(s,i),s instanceof dc&&s.code!==gs.Redirect&&s.code!==gs.SupersededByNewNavigation)this.navigated=!0;else if(s instanceof ci)this.navigated=!0;else if(s instanceof Ev){const o=this.urlHandlingStrategy.merge(s.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||BG(r.source)};this.scheduleNavigation(o,Il,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function ZG(t){return!(t instanceof Sv||t instanceof Ev)})(s)&&this._events.next(s)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Il,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,s)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",s)},0)})}navigateToSyncWithBrowser(n,s,r){const i={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(i.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,s,o,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Fv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,s={}){const{relativeTo:r,queryParams:i,fragment:o,queryParamsHandling:a,preserveFragment:c}=s,u=c?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...i};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}null!==l&&(l=this.removeEmptyProps(l));try{d=sA(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return rA(d,n,l,u??null)}navigateByUrl(n,s={skipLocationChange:!1}){const r=lc(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(i,Il,null,s)}navigate(n,s={skipLocationChange:!1}){return function QG(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new x(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,s),s)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,s){let r;if(r=!0===s?{...GG}:!1===s?{...WG}:s,lc(n))return QM(this.currentUrlTree,n,r);const i=this.parseUrl(n);return QM(this.currentUrlTree,i,r)}removeEmptyProps(n){return Object.entries(n).reduce((s,[r,i])=>(null!=i&&(s[r]=i),s),{})}scheduleNavigation(n,s,r,i,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((d,h)=>{a=d,c=h});const l=this.pendingTasks.add();return FA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),cp=(()=>{class t{constructor(n,s,r,i,o,a){this.router=n,this.route=s,this.tabIndexAttribute=r,this.renderer=i,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new is,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof ci&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,s,r,i,o){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==n||s||r||i||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const n=this.urlTree;this.href=null!==n&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;const s=null===this.href?null:function gS(t,e,n){return function dP(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?pS:fS}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",s)}applyAttributeValue(n,s){const r=this.renderer,i=this.el.nativeElement;null!==s?r.setAttribute(i,n,s):r.removeAttribute(i,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(s){return new(s||t)(M(nr),M(pc),function _u(t){return function $k(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const s=n.length;let r=0;for(;r<s;){const i=n[r];if(_C(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<s&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Ye(),t)}("tabindex"),M(ti),M(ds),M(Ao))}}static{this.\u0275dir=fe({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(s,r){1&s&&et("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&s&&Er("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[yt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",sc],skipLocationChange:[yt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",sc],replaceUrl:[yt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",sc],routerLink:"routerLink"},standalone:!0,features:[rE,Ts]})}}return t})();class PA{}let KG=(()=>{class t{constructor(n,s,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ji(n=>n instanceof ci),Dl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,s){const r=[];for(const i of s){i.providers&&!i._injector&&(i._injector=Wh(i.providers,n,`Route: ${i.path}`));const o=i._injector??n,a=i._loadedInjector??o;(i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent)&&r.push(this.preloadConfig(o,i)),(i.children||i._loadedRoutes)&&r.push(this.processRoutes(a,i.children??i._loadedRoutes))}return hn(r).pipe(wl())}preloadConfig(n,s){return this.preloadingStrategy.preload(s,()=>{let r;r=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(n,s):ae(null);const i=r.pipe(In(o=>null===o?ae(void 0):(s._loadedRoutes=o.routes,s._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return s.loadComponent&&!s._loadedComponent?hn([i,this.loader.loadComponent(s)]).pipe(wl()):i})}static{this.\u0275fac=function(s){return new(s||t)(ce(nr),ce(GI),ce(Kn),ce(PA),ce(Uv))}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const $v=new j("");let VA=(()=>{class t{constructor(n,s,r,i,o={}){this.urlSerializer=n,this.transitions=s,this.viewportScroller=r,this.zone=i,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=O(Kn),o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ep?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ci?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof hc&&n.code===tp.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof dA&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,s){var r=this;this.zone.runOutsideAngular(G(function*(){yield new Promise(i=>{setTimeout(()=>{i()}),E_(()=>{i()},{injector:r.environmentInjector})}),r.zone.run(()=>{r.transitions.events.next(new dA(n,"popstate"===r.lastSource?r.store[r.restoredId]:null,s))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(s){!function jS(){throw new Error("invalid")}()}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac})}}return t})();function LA(t){return t.routerState.root}function Fr(t,e){return{\u0275kind:t,\u0275providers:e}}function jA(){const t=O(jn);return e=>{const n=t.get(Fi);if(e!==n.components[0])return;const s=t.get(nr),r=t.get(BA);1===t.get(qv)&&s.initialNavigation(),t.get(UA,null,Oe.Optional)?.setUpPreloading(),t.get($v,null,Oe.Optional)?.init(),s.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const BA=new j("",{factory:()=>new is}),qv=new j("",{providedIn:"root",factory:()=>1}),UA=new j("");function sW(t){return Fr(0,[{provide:UA,useExisting:KG},{provide:PA,useExisting:t}])}function iW(t){return Fr(9,[{provide:OA,useValue:LG},{provide:RA,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}])}const HA=new j("ROUTER_FORROOT_GUARD"),oW=[pl,{provide:uc,useClass:vv},nr,xl,{provide:pc,useFactory:LA,deps:[nr]},Uv,[]];let $A=(()=>{class t{constructor(n){}static forRoot(n,s){return{ngModule:t,providers:[oW,[],{provide:vc,multi:!0,useValue:n},{provide:HA,useFactory:lW,deps:[[nr,new Hd,new $d]]},{provide:yc,useValue:s||{}},s?.useHash?{provide:Ao,useClass:E$}:{provide:Ao,useClass:kx},{provide:$v,useFactory:()=>{const t=O($q),e=O(Xe),n=O(yc),s=O(ap),r=O(uc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new VA(r,s,t,e,n)}},s?.preloadingStrategy?sW(s.preloadingStrategy).\u0275providers:[],s?.initialNavigation?dW(s):[],s?.bindToComponentInputs?Fr(8,[yA,{provide:sp,useExisting:yA}]).\u0275providers:[],s?.enableViewTransitions?iW().\u0275providers:[],[{provide:qA,useFactory:jA},{provide:yf,multi:!0,useExisting:qA}]]}}static forChild(n){return{ngModule:t,providers:[{provide:vc,multi:!0,useValue:n}]}}static{this.\u0275fac=function(s){return new(s||t)(ce(HA,8))}}static{this.\u0275mod=la({type:t})}static{this.\u0275inj=lo({})}}return t})();function lW(t){return"guarded"}function dW(t){return["disabled"===t.initialNavigation?Fr(3,[{provide:Sy,multi:!0,useFactory:()=>{const e=O(nr);return()=>{e.setUpLocationChangeListener()}}},{provide:qv,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Fr(2,[{provide:qv,useValue:0},{provide:Sy,multi:!0,deps:[jn],useFactory:e=>{const n=e.get(b$,Promise.resolve());return()=>n.then(()=>new Promise(s=>{const r=e.get(nr),i=e.get(BA);FA(r,()=>{s(!0)}),e.get(ap).afterPreactivation=()=>(s(!0),i.closed?ae(void 0):i),r.initialNavigation()}))}}]).\u0275providers:[]]}const qA=new j("");let fW=(()=>{class t{static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275cmp=Es({type:t,selectors:[["app-navbar"]],standalone:!0,features:[Ms],decls:22,vars:0,consts:[[1,"navbar","navbar-expand-sm","navbar-dark","bg-dark","justify-content-between"],[1,"navbar-nav"],["routerLink","/",1,"navbar-brand"],[1,"navbar-nav","align-items-center"],[1,"nav-item"],["routerLink","#",1,"nav-link"],[1,"material-icons"],["routerLink","sketch",1,"nav-link"],["hidden","",1,"material-icons"],["routerLink","piano-roll",1,"nav-link"]],template:function(s,r){1&s&&(H(0,"nav",0)(1,"div",1)(2,"a",2),je(3,"Sketched"),Q()(),H(4,"ul",3)(5,"li",4)(6,"a",5)(7,"span",6),je(8,"queue_music"),Q()()(),H(9,"li",4)(10,"a",7)(11,"span",6),je(12,"add_circle"),Q(),H(13,"span",8),je(14,"add_circle_outline"),Q()()(),H(15,"li",4)(16,"a",9)(17,"span",6),je(18,"piano"),Q()()()(),H(19,"div",1)(20,"a",5),je(21,"new sketch"),Q()()())},dependencies:[Ar,$A,cp],styles:[".navbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{vertical-align:middle}.navbar[_ngcontent-%COMP%]:first-child, .navbar[_ngcontent-%COMP%]:last-child{padding-left:1rem;padding-right:1rem}.material-icons[_ngcontent-%COMP%]{font-size:24px}"]})}}return t})(),pW=(()=>{class t{constructor(){this.title="sketched-app"}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275cmp=Es({type:t,selectors:[["app-root"]],standalone:!0,features:[Ms],decls:4,vars:0,consts:[[1,"content"]],template:function(s,r){1&s&&(H(0,"div"),xr(1,"app-navbar"),H(2,"div",0),xr(3,"router-outlet"),Q()())},dependencies:[Ar,$A,Rv,fW],styles:[".content[_ngcontent-%COMP%]{padding:2rem}@media (max-width: 1000px){.content[_ngcontent-%COMP%]{padding:.5rem}}"]})}}return t})(),zA=(()=>{class t{constructor(n,s){this._renderer=n,this._elementRef=s,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,s){this._renderer.setProperty(this._elementRef.nativeElement,n,s)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(s){return new(s||t)(M(ti),M(ds))}}static{this.\u0275dir=fe({type:t})}}return t})(),Fo=(()=>{class t extends zA{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=dn(t)))(r||t)}})()}static{this.\u0275dir=fe({type:t,features:[Ke]})}}return t})();const Pr=new j(""),_W={provide:Pr,useExisting:it(()=>zv),multi:!0},vW=new j("");let zv=(()=>{class t extends zA{constructor(n,s,r){super(n,s),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yW(){const t=Vi()?Vi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(s){return new(s||t)(M(ti),M(ds),M(vW,8))}}static{this.\u0275dir=fe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(s,r){1&s&&et("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[bt([_W]),Ke]})}}return t})();const Mn=new j(""),Hi=new j("");function nN(t){return null!=t}function sN(t){return ll(t)?hn(t):t}function rN(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function iN(t,e){return e.map(n=>n(t))}function oN(t){return t.map(e=>function DW(t){return!t.validate}(e)?e:n=>e.validate(n))}function Gv(t){return null!=t?function aN(t){if(!t)return null;const e=t.filter(nN);return 0==e.length?null:function(n){return rN(iN(n,e))}}(oN(t)):null}function Wv(t){return null!=t?function cN(t){if(!t)return null;const e=t.filter(nN);return 0==e.length?null:function(n){return function gW(...t){const e=fv(t),{args:n,keys:s}=LM(t),r=new qt(i=>{const{length:o}=n;if(!o)return void i.complete();const a=new Array(o);let c=o,u=o;for(let l=0;l<o;l++){let d=!1;er(n[l]).subscribe(Pt(i,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||i.next(s?BM(s,a):a),i.complete())}))}});return e?r.pipe(jM(e)):r}(iN(n,e).map(sN)).pipe(Ne(rN))}}(oN(t)):null}function uN(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Qv(t){return t?Array.isArray(t)?t:[t]:[]}function lp(t,e){return Array.isArray(t)?t.includes(e):t===e}function hN(t,e){const n=Qv(e);return Qv(t).forEach(r=>{lp(n,r)||n.push(r)}),n}function fN(t,e){return Qv(e).filter(n=>!lp(t,n))}class pN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Gv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Wv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class $n extends pN{get formDirective(){return null}get path(){return null}}class $i extends pN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Zv=(()=>{class t extends gN{constructor(n){super(n)}static{this.\u0275fac=function(s){return new(s||t)(M($i,2))}}static{this.\u0275dir=fe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(s,r){2&s&&Io("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ke]})}}return t})();const Fl="VALID",hp="INVALID",wc="PENDING",Pl="DISABLED";function fp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class ew{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Fl}get invalid(){return this.status===hp}get pending(){return this.status==wc}get disabled(){return this.status===Pl}get enabled(){return this.status!==Pl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fN(e,this._rawAsyncValidators))}hasValidator(e){return lp(this._rawValidators,e)}hasAsyncValidator(e){return lp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=wc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Pl,this.errors=null,this._forEachChild(s=>{s.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(s=>s(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Fl,this._forEachChild(s=>{s.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fl||this.status===wc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pl:Fl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=wc,this._hasOwnPendingAsyncValidator=!0;const n=sN(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((s,r)=>s&&s._find(r),this)}getError(e,n){const s=n?this.get(n):this;return s&&s.errors?s.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new At,this.statusChanges=new At}_calculateStatus(){return this._allControlsDisabled()?Pl:this.errors?hp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wc)?wc:this._anyControlsHaveStatus(hp)?hp:Fl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function TW(t){return Array.isArray(t)?Gv(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function IW(t){return Array.isArray(t)?Wv(t):t||null}(this._rawAsyncValidators)}}const Dc=new j("CallSetDisabledState",{providedIn:"root",factory:()=>pp}),pp="always";function Vl(t,e,n=pp){(function nw(t,e){const n=function lN(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(uN(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const s=function dN(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(uN(s,e.asyncValidator)):"function"==typeof s&&t.setAsyncValidators([s]);const r=()=>t.updateValueAndValidity();_p(e._rawValidators,r),_p(e._rawAsyncValidators,r)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function AW(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&vN(t,e)})}(t,e),function OW(t,e){const n=(s,r)=>{e.valueAccessor.writeValue(s),r&&e.viewToModelUpdate(s)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function NW(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&vN(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function MW(t,e){if(e.valueAccessor.setDisabledState){const n=s=>{e.valueAccessor.setDisabledState(s)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function _p(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function vN(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function CN(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function bN(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}Promise.resolve();const SN=class extends ew{constructor(e=null,n,s){super(function Kv(t){return(fp(t)?t.validators:t)||null}(n),function Jv(t,e){return(fp(e)?e.asyncValidators:t)||null}(s,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=bN(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){CN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){CN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){bN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},BW={provide:$i,useExisting:it(()=>vp)},IN=Promise.resolve();let vp=(()=>{class t extends $i{constructor(n,s,r,i,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new SN,this._registered=!1,this.name="",this.update=new At,this._parent=n,this._setValidators(s),this._setAsyncValidators(r),this.valueAccessor=function iw(t,e){if(!e)return null;let n,s,r;return Array.isArray(e),e.forEach(i=>{i.constructor===zv?n=i:function FW(t){return Object.getPrototypeOf(t.constructor)===Fo}(i)?s=i:r=i}),r||s||n||null}(0,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const s=n.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function rw(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){IN.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const s=n.isDisabled.currentValue,r=0!==s&&sc(s);IN.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function gp(t,e){return[...e.path,t]}(n,this._parent):[n]}static{this.\u0275fac=function(s){return new(s||t)(M($n,9),M(Mn,10),M(Hi,10),M(Pr,10),M(dl,8),M(Dc,8))}}static{this.\u0275dir=fe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[yt.None,"disabled","isDisabled"],model:[yt.None,"ngModel","model"],options:[yt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[bt([BW]),Ke,Ts]})}}return t})();const XW={provide:Pr,useExisting:it(()=>jl),multi:!0};function FN(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let jl=(()=>{class t extends Fo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const r=FN(this._getOptionId(n),n);this.setProperty("value",r)}registerOnChange(n){this.onChange=s=>{this.value=this._getOptionValue(s),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const s of this._optionMap.keys())if(this._compareWith(this._optionMap.get(s),n))return s;return null}_getOptionValue(n){const s=function KW(t){return t.split(":")[0]}(n);return this._optionMap.has(s)?this._optionMap.get(s):n}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=dn(t)))(r||t)}})()}static{this.\u0275dir=fe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(s,r){1&s&&et("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[bt([XW]),Ke]})}}return t})(),lw=(()=>{class t{constructor(n,s,r){this._element=n,this._renderer=s,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(FN(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(s){return new(s||t)(M(ds),M(ti),M(jl,9))}}static{this.\u0275dir=fe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();const JW={provide:Pr,useExisting:it(()=>dw),multi:!0};function PN(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let dw=(()=>{class t extends Fo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let s;if(this.value=n,Array.isArray(n)){const r=n.map(i=>this._getOptionId(i));s=(i,o)=>{i._setSelected(r.indexOf(o.toString())>-1)}}else s=(r,i)=>{r._setSelected(!1)};this._optionMap.forEach(s)}registerOnChange(n){this.onChange=s=>{const r=[],i=s.selectedOptions;if(void 0!==i){const o=i;for(let a=0;a<o.length;a++){const u=this._getOptionValue(o[a].value);r.push(u)}}else{const o=s.options;for(let a=0;a<o.length;a++){const c=o[a];if(c.selected){const u=this._getOptionValue(c.value);r.push(u)}}}this.value=r,n(r)}}_registerOption(n){const s=(this._idCounter++).toString();return this._optionMap.set(s,n),s}_getOptionId(n){for(const s of this._optionMap.keys())if(this._compareWith(this._optionMap.get(s)._value,n))return s;return null}_getOptionValue(n){const s=function e8(t){return t.split(":")[0]}(n);return this._optionMap.has(s)?this._optionMap.get(s)._value:n}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=dn(t)))(r||t)}})()}static{this.\u0275dir=fe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(s,r){1&s&&et("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[bt([JW]),Ke]})}}return t})(),hw=(()=>{class t{constructor(n,s,r){this._element=n,this._renderer=s,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(PN(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(PN(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(s){return new(s||t)(M(ds),M(ti),M(dw,9))}}static{this.\u0275dir=fe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),u8=(()=>{class t{static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275mod=la({type:t})}static{this.\u0275inj=lo({})}}return t})(),wp=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Dc,useValue:n.callSetDisabledState??pp}]}}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275mod=la({type:t})}static{this.\u0275inj=lo({imports:[u8]})}}return t})();var ft=function(t){return t.C="C",t.C_SHARP="C_SHARP",t.D="D",t.D_SHARP="D_SHARP",t.E="E",t.F="F",t.F_SHARP="F_SHARP",t.G="G",t.G_SHARP="G_SHARP",t.A="A",t.A_SHARP="A_SHARP",t.B="B",t}(ft||{});const qi=t=>({position:t.position+12,name:t.name,frequency:2*t.frequency,octave:t.octave+1}),GN=[{position:0,name:ft.C,frequency:16.35,octave:0},{position:1,name:ft.C_SHARP,frequency:17.32,octave:0},{position:2,name:ft.D,frequency:18.35,octave:0},{position:3,name:ft.D_SHARP,frequency:19.45,octave:0},{position:4,name:ft.E,frequency:20.6,octave:0},{position:5,name:ft.F,frequency:21.83,octave:0},{position:6,name:ft.F_SHARP,frequency:23.12,octave:0},{position:7,name:ft.G,frequency:24.5,octave:0},{position:8,name:ft.G_SHARP,frequency:25.96,octave:0},{position:9,name:ft.A,frequency:27.5,octave:0},{position:10,name:ft.A_SHARP,frequency:29.14,octave:0},{position:11,name:ft.B,frequency:30.87,octave:0}],WN=GN.map(t=>qi(t)),QN=WN.map(t=>qi(t)),ZN=QN.map(t=>qi(t)),YN=ZN.map(t=>qi(t)),XN=YN.map(t=>qi(t)),KN=XN.map(t=>qi(t)),JN=KN.map(t=>qi(t)),d8=JN.map(t=>qi(t)),Vo=[...GN,...WN,...QN,...ZN,...YN,...XN,...KN,...JN,...d8];var ne=function(t){return t.FIFTH="FIFTH",t.TRIAD="TRIAD",t.SEVENTH="SEVENTH",t.NINTH="NINTH",t.ELEVENTH="ELEVENTH",t.THIRTEENTH="THIRTEENTH",t.ADDED_NINTH="ADDED_NINTH",t.SUS="SUS",t.SUS_SEVENTH="SUS_SEVENTH",t.SIXTH="SIXTH",t.SIXTH_NINTH="SIXTH_NINTH",t.ADDED_ELEVENTH="ADDED_ELEVENTH",t}(ne||{});let h8=(()=>{class t{constructor(){this.chordTypeMap={[ne.FIFTH]:"Fifth",[ne.TRIAD]:"Triad",[ne.SEVENTH]:"Seventh",[ne.NINTH]:"Ninth",[ne.ELEVENTH]:"Eleventh",[ne.THIRTEENTH]:"Thirteenth",[ne.ADDED_NINTH]:"Added Ninth",[ne.SUS]:"Suspended",[ne.SUS_SEVENTH]:"Suspended Seventh",[ne.SIXTH]:"Sixth",[ne.SIXTH_NINTH]:"Sixth/Ninth",[ne.ADDED_ELEVENTH]:"Added Eleventh"}}transform(n){return this.chordTypeMap[n]}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275pipe=gn({name:"chordtype",type:t,pure:!0,standalone:!0})}}return t})(),f8=(()=>{class t{constructor(){this.degreeMap={0:"I",1:"II",2:"III",3:"IV",4:"V",5:"VI",6:"VII"}}transform(n){return this.degreeMap[n]}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275pipe=gn({name:"degree",type:t,pure:!0,standalone:!0})}}return t})(),pw=(()=>{class t{constructor(){this.nameMap={[ft.A]:"A",[ft.A_SHARP]:"A\u266f",[ft.B]:"B",[ft.C]:"C",[ft.C_SHARP]:"C\u266f",[ft.D]:"D",[ft.D_SHARP]:"D\u266f",[ft.E]:"E",[ft.F]:"F",[ft.F_SHARP]:"F\u266f",[ft.G]:"G",[ft.G_SHARP]:"G\u266f"}}transform(n,s){return this.nameMap[n.name]+(s?.toString()??"")}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275pipe=gn({name:"note",type:t,pure:!0,standalone:!0})}}return t})();var qn=function(t){return t[t.I=1]="I",t[t.II=2]="II",t[t.III=3]="III",t[t.IV=4]="IV",t[t.V=5]="V",t[t.VI=6]="VI",t[t.VII=7]="VII",t}(qn||{}),Vr=function(t){return t.IONIAN="Ionian",t.AEOLIAN="Aeolian",t.DORIAN="Dorian",t.PHRYGIAN="Phrygian",t.LYDIAN="Lydian",t.MIXOLYDIAN="Mixolydian",t.LOCRIAN="Locrian",t}(Vr||{}),e1=function(t){return t.WHOLE="WHOLE",t.HALF="HALF",t}(e1||{});const gw={[Vr.IONIAN]:[0,2,4,5,7,9,11],[Vr.AEOLIAN]:[0,2,3,5,7,8,10],[Vr.DORIAN]:[0,2,3,5,7,9,10],[Vr.PHRYGIAN]:[0,1,3,5,7,8,10],[Vr.LYDIAN]:[0,2,4,6,7,9,11],[Vr.MIXOLYDIAN]:[0,2,4,5,7,9,10],[Vr.LOCRIAN]:[0,1,3,5,6,8,10]},p8={[qn.I]:0,[qn.II]:1,[qn.III]:2,[qn.IV]:3,[qn.V]:4,[qn.VI]:5,[qn.VII]:6},g8={[ne.FIFTH]:[0,4],[ne.TRIAD]:[0,2,4],[ne.SEVENTH]:[0,2,4,6],[ne.NINTH]:[0,2,4,6,8],[ne.ELEVENTH]:[0,2,4,6,8,10],[ne.THIRTEENTH]:[0,2,4,6,8,10,12],[ne.ADDED_NINTH]:[0,2,4,8],[ne.SUS]:[0,3,4],[ne.SUS_SEVENTH]:[0,3,4,6],[ne.SIXTH]:[0,2,4,5],[ne.SIXTH_NINTH]:[0,2,4,5,8],[ne.ADDED_ELEVENTH]:[0,2,4,10]};let Cc=(()=>{class t{constructor(){this._currentScaleMode=new zt(Vr.IONIAN),this._currentRootNote=new zt(Vo.find(n=>36===n.position)),this.currentScaleMode$=this._currentScaleMode.asObservable(),this.currentRootNote$=this._currentRootNote.asObservable(),this.currentScale$=Oo([this.currentRootNote$,this.currentScaleMode$]).pipe(Ne(([n,s])=>this.generateScale(n.position,s))),this.currentChords$=this.currentScale$.pipe(Ne(n=>this.generateChords(n))),this.allChords$=this.currentScale$.pipe(Ne(n=>this.generateAllChords(n))),this.octaveThreeAndFourNotes=Vo.filter(n=>3===n.octave||4===n.octave)}get currentScaleMode(){return this._currentScaleMode.getValue()}get currentRootNote(){return this._currentRootNote.getValue()}setCurrentScaleMode(n){this._currentScaleMode.next(n)}setCurrentRootNote(n){this._currentRootNote.next(n)}getNextStep(n,s){const r=s===e1.HALF?1:2;return Vo.find(i=>i.position===n.position+r)??{position:-1,name:ft.C,frequency:0,octave:0}}generateScale(n,s){const r=Vo,i=[];for(const o of gw[s])i.push(r[n+o]);for(const o of gw[s])i.push(r[n+12+o]);for(const o of gw[s])i.push(r[n+24+o]);return i}generateAllChords(n){return{[ne.FIFTH]:this.generateChords(n,ne.FIFTH),[ne.TRIAD]:this.generateChords(n,ne.TRIAD),[ne.SEVENTH]:this.generateChords(n,ne.SEVENTH),[ne.NINTH]:this.generateChords(n,ne.NINTH),[ne.ELEVENTH]:this.generateChords(n,ne.ELEVENTH),[ne.THIRTEENTH]:this.generateChords(n,ne.THIRTEENTH),[ne.ADDED_NINTH]:this.generateChords(n,ne.ADDED_NINTH),[ne.SUS]:this.generateChords(n,ne.SUS),[ne.SUS_SEVENTH]:this.generateChords(n,ne.SUS_SEVENTH),[ne.SIXTH]:this.generateChords(n,ne.SIXTH),[ne.SIXTH_NINTH]:this.generateChords(n,ne.SIXTH_NINTH),[ne.ADDED_ELEVENTH]:this.generateChords(n,ne.ADDED_ELEVENTH)}}generateChords(n,s=ne.TRIAD){return[this.getChord(qn.I,n,s),this.getChord(qn.II,n,s),this.getChord(qn.III,n,s),this.getChord(qn.IV,n,s),this.getChord(qn.V,n,s),this.getChord(qn.VI,n,s),this.getChord(qn.VII,n,s)]}getChord(n,s,r){if(!s.length)return[];const i=g8[r],o=p8[n];let a=[];for(const c of i)a.push(s[(c+o)%21]);return a}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const mw="14.7.77";var zi=ke(582);const bc=new WeakSet,t1=new WeakMap,_w=new WeakMap,n1=new WeakMap,yw=new WeakMap,Dp=new WeakMap,s1=new WeakMap,vw=new WeakMap,ww=new WeakMap,Dw=new WeakMap,r1={construct:()=>r1},i1=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,o1=(t,e)=>{const n=[];let s=t.replace(/^[\s]+/,""),r=s.match(i1);for(;null!==r;){const i=r[1].slice(1,-1),o=r[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(o),s=s.slice(r[0].length).replace(/^[\s]+/,""),r=s.match(i1)}return[n.join(";"),s]},a1=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},c1=t=>{if(!(t=>{try{new new Proxy(t,r1)}catch{return!1}return!0})(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!=typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},sr=(t,e)=>{const n=t.get(e);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},Cp=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[s]=n;return t.delete(s),s},u1=(t,e,n,s)=>{const r=sr(t,e),i=Cp(r,o=>o[0]===n&&o[1]===s);return 0===r.size&&t.delete(e),i},Bl=t=>sr(s1,t),Sc=t=>{if(bc.has(t))throw new Error("The AudioNode is already stored.");bc.add(t),Bl(t).forEach(e=>e(!0))},l1=t=>"port"in t,Ul=t=>{if(!bc.has(t))throw new Error("The AudioNode is not stored.");bc.delete(t),Bl(t).forEach(e=>e(!1))},Cw=(t,e)=>{!l1(t)&&e.every(n=>0===n.size)&&Ul(t)},T8={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},An=(t,e)=>t.context===e,bp=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Lr=()=>new DOMException("","IndexSizeError"),bw=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(s){throw 12===s.code?Lr():s}})(t.getChannelData)},M8={numberOfChannels:1},ns=-34028234663852886e22,zn=-ns,ui=t=>bc.has(t),N8={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Gn=t=>sr(t1,t),Hl=t=>sr(n1,t),Sw=(t,e)=>{const{activeInputs:n}=Gn(t);n.forEach(r=>r.forEach(([i])=>{e.includes(t)||Sw(i,[...e,t])}));const s=(t=>"playbackRate"in t)(t)?[t.playbackRate]:l1(t)?Array.from(t.parameters.values()):(t=>"frequency"in t&&"gain"in t)(t)?[t.Q,t.detune,t.frequency,t.gain]:(t=>"offset"in t)(t)?[t.offset]:(t=>!("frequency"in t)&&"gain"in t)(t)?[t.gain]:(t=>"detune"in t&&"frequency"in t)(t)?[t.detune,t.frequency]:(t=>"pan"in t)(t)?[t.pan]:[];for(const r of s){const i=Hl(r);void 0!==i&&i.activeInputs.forEach(([o])=>Sw(o,e))}ui(t)&&Ul(t)},Sp=t=>{Sw(t.destination,[])},Ep=t=>"context"in t,$l=t=>Ep(t[0]),Lo=(t,e,n,s)=>{for(const r of t)if(n(r)){if(s)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},h1=(t,e,[n,s],r)=>{Lo(t,[e,n,s],i=>i[0]===e&&i[1]===n,r)},f1=(t,[e,n,s],r)=>{const i=t.get(e);void 0===i?t.set(e,new Set([[n,s]])):Lo(i,[n,s],o=>o[0]===n,r)},Ec=t=>"inputs"in t,Tp=(t,e,n,s)=>{if(Ec(e)){const r=e.inputs[s];return t.connect(r,n,0),[r,n,0]}return t.connect(e,n,s),[e,n,s]},p1=(t,e,n)=>{for(const s of t)if(s[0]===e&&s[1]===n)return t.delete(s),s;return null},g1=(t,e)=>{if(!Bl(t).delete(e))throw new Error("Missing the expected event listener.")},m1=(t,e,n)=>{const s=sr(t,e),r=Cp(s,i=>i[0]===n);return 0===s.size&&t.delete(e),r},Ip=(t,e,n,s)=>{Ec(e)?t.disconnect(e.inputs[s],n,0):t.disconnect(e,n,s)},wt=t=>sr(_w,t),ql=t=>sr(yw,t),jo=t=>vw.has(t),xp=t=>!bc.has(t),_1=(t,e)=>new Promise(n=>{if(null!==e)n(!0);else{const s=t.createScriptProcessor(256,1,1),r=t.createGain(),i=t.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const a=t.createBufferSource();a.buffer=i,a.loop=!0,a.connect(s).connect(t.destination),a.connect(r),a.disconnect(r),s.onaudioprocess=c=>{const u=c.inputBuffer.getChannelData(0);Array.prototype.some.call(u,l=>1===l)?n(!0):n(!1),a.stop(),s.onaudioprocess=null,a.disconnect(s),s.disconnect(t.destination)},a.start()}}),Ew=(t,e)=>{const n=new Map;for(const s of t)for(const r of s){const i=n.get(r);n.set(r,void 0===i?1:i+1)}n.forEach((s,r)=>e(r,s))},Mp=t=>"context"in t,Tw=(t,e,n,s,r)=>{const[i,o]=((t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=Gn(e),o=p1(r[s],t,n);return null===o?[u1(i,t,n,s)[2],!1]:[o[2],!0]})(t,n,s,r);if(null!==i&&(g1(t,i),o&&!e&&!jo(t)&&Ip(wt(t),wt(n),s,r)),ui(n)){const{activeInputs:a}=Gn(n);Cw(n,a)}},Iw=(t,e,n,s)=>{const[r,i]=((t,e,n)=>{const{activeInputs:s,passiveInputs:r}=Hl(e),i=p1(s,t,n);return null===i?[m1(r,t,n)[1],!1]:[i[2],!0]})(t,n,s);null!==r&&(g1(t,r),i&&!e&&!jo(t)&&wt(t).disconnect(ql(n),s))};class y1{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((s,r)=>e.call(n,s,r,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const t5={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function Ap(t,e,n,s,r){if("function"==typeof t.copyFromChannel)0===e[n].byteLength&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],s,r);else{const i=t.getChannelData(s);if(0===e[n].byteLength)e[n]=i.slice(r,r+128);else{const o=new Float32Array(i.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}const v1=(t,e,n,s,r)=>{"function"==typeof t.copyToChannel?0!==e[n].byteLength&&t.copyToChannel(e[n],s,r):0!==e[n].byteLength&&t.getChannelData(s).set(e[n],r)},Np=(t,e)=>{const n=[];for(let s=0;s<t;s+=1){const r=[],i="number"==typeof e?e:e[s];for(let o=0;o<i;o+=1)r.push(new Float32Array(128));n.push(r)}return n},r5=function(){var t=G(function*(e,n,s,r,i,o,a){const c=null===n?128*Math.ceil(e.context.length/128):n.length,u=r.channelCount*r.numberOfInputs,l=i.reduce((m,y)=>m+y,0),d=0===l?null:s.createBuffer(l,c,s.sampleRate);if(void 0===o)throw new Error("Missing the processor constructor.");const h=Gn(e),f=yield((t,e)=>{const n=sr(Dw,t),s=wt(e);return sr(n,s)})(s,e),p=Np(r.numberOfInputs,r.channelCount),g=Np(r.numberOfOutputs,i),_=Array.from(e.parameters.keys()).reduce((m,y)=>({...m,[y]:new Float32Array(128)}),{});for(let m=0;m<c;m+=128){if(r.numberOfInputs>0&&null!==n)for(let y=0;y<r.numberOfInputs;y+=1)for(let D=0;D<r.channelCount;D+=1)Ap(n,p[y],D,D,m);void 0!==o.parameterDescriptors&&null!==n&&o.parameterDescriptors.forEach(({name:y},D)=>{Ap(n,_,y,u+D,m)});for(let y=0;y<r.numberOfInputs;y+=1)for(let D=0;D<i[y];D+=1)0===g[y][D].byteLength&&(g[y][D]=new Float32Array(128));try{const y=p.map((b,v)=>0===h.activeInputs[v].size?[]:b),D=a(m/s.sampleRate,s.sampleRate,()=>f.process(y,g,_));if(null!==d)for(let b=0,v=0;b<r.numberOfOutputs;b+=1){for(let S=0;S<i[b];S+=1)v1(d,g[b],S,v+S,m);v+=i[b]}if(!D)break}catch(y){e.dispatchEvent(new ErrorEvent("processorerror",{colno:y.colno,filename:y.filename,lineno:y.lineno,message:y.message}));break}}return d});return function(n,s,r,i,o,a,c){return t.apply(this,arguments)}}(),a5={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},d5={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},p5={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},w5={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},S5={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},w1=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(s=>{const r=()=>{n.onmessage=null,e.close(),n.close(),s()};n.onmessage=()=>r();try{e.postMessage(t,[t])}finally{r()}})},N5={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Op=(t,e,n)=>{const s=e[n];if(void 0===s)throw t();return s},j5={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},W5={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Yt=()=>new DOMException("","InvalidStateError"),Rp=()=>new DOMException("","InvalidAccessError"),i6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},D1=(t,e,n,s,r,i,o,a,c,u,l)=>{const d=u.length;let h=a;for(let f=0;f<d;f+=1){let p=n[0]*u[f];for(let g=1;g<r;g+=1){const _=h-g&c-1;p+=n[g]*i[_],p-=t[g]*o[_]}for(let g=r;g<s;g+=1)p+=n[g]*i[h-g&c-1];for(let g=r;g<e;g+=1)p-=t[g]*o[h-g&c-1];i[h]=u[f],o[h]=p,h=h+1&c-1,l[f]=p}return h},D6={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Bo=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return void 0!==n&&(n.catch(()=>{}),!0)}catch{}return!1},St=(t,e,n)=>{const s=e[n];void 0!==s&&s!==t[n]&&(t[n]=s)},sn=(t,e)=>{St(t,e,"channelCount"),St(t,e,"channelCountMode"),St(t,e,"channelInterpretation")},C1=t=>"function"==typeof t.getFloatTimeDomainData,Ot=(t,e,n)=>{const s=e[n];void 0!==s&&s!==t[n].value&&(t[n].value=s)},xw=t=>{t.start=(e=>(n=0,s=0,r)=>{if("number"==typeof r&&r<0||s<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,s,r)})(t.start)},Mw=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},b1=(t,e)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),U6=function(){var t=G(function*(e,n){const s=yield(t=>new Promise((e,n)=>{const{port1:s,port2:r}=new MessageChannel;s.onmessage=({data:i})=>{s.close(),r.close(),e(i)},s.onmessageerror=({data:i})=>{s.close(),r.close(),n(i)},r.postMessage(t)}))(n);return new e(s)});return function(n,s){return t.apply(this,arguments)}}(),S1=(t,e)=>{const n=t.createBiquadFilter();return sn(n,e),Ot(n,e,"Q"),Ot(n,e,"detune"),Ot(n,e,"frequency"),Ot(n,e,"gain"),St(n,e,"type"),n},zl=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return sn(n,e),(t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Yt()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if("explicit"!==n)throw Yt()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if("discrete"!==n)throw Yt()}})})(n),n},Tc=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),E1=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return sn(n,e),Ot(n,e,"delayTime"),n},ss=(t,e)=>{const n=t.createGain();return sn(n,e),Ot(n,e,"gain"),n};function X6(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function K6(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function T1(t,e){let n=[0,0];for(let s=t.length-1;s>=0;s-=1)n=K6(n,e),n[0]+=t[s];return n}const Gl=(t,e,n,s)=>t.createScriptProcessor(e,n,s),Nn=()=>new DOMException("","NotSupportedError"),f9={numberOfChannels:1},g9={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},y9={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},D9={disableNormalization:!1},A9={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},I1=()=>new DOMException("","UnknownError"),P9={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},x1=(t,e,n)=>void 0===t.copyFromChannel?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),M1=t=>{if(null===t)return!1;const e=t.length;return e%2!=0?0!==t[Math.floor(e/2)]:t[e/2-1]+t[e/2]!==0},Wl=(t,e,n,s)=>{let r=t;for(;!r.hasOwnProperty(e);)r=Object.getPrototypeOf(r);const{get:i,set:o}=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,{get:n(i),set:s(o)})},A1=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(s){if(9!==s.code)throw s;A1(t,e,n+1e-7)}},Aw=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},N1=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Nw=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},O1=(t,e)=>{const n=e.createGain();t.connect(n);const s=(r=>()=>{r.call(t,n),t.removeEventListener("ended",s)})(t.disconnect);t.addEventListener("ended",s),Tc(t,n),t.stop=(r=>{let i=!1;return(o=0)=>{if(i)try{r.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else r.call(t,o),i=!0}})(t.stop)},Ic=(t,e)=>n=>{const s={value:t};return Object.defineProperties(n,{currentTarget:s,target:s}),"function"==typeof e?e.call(t,n):e.handleEvent.call(t,n)},K9=(t=Lo,(e,n,[s,r,i],o)=>{t(e[r],[n,s,i],a=>a[0]===n&&a[1]===s,o)}),J9=(t=>(e,n,[s,r,i],o)=>{const a=e.get(s);void 0===a?e.set(s,new Set([[r,n,i]])):t(a,[r,n,i],c=>c[0]===r&&c[1]===n,o)})(Lo),e7=(t=>(e,n,s,r)=>t(e[r],i=>i[0]===n&&i[1]===s))(Cp),R1=new WeakMap,t7=(t=>e=>{var n;return null!==(n=t.get(e))&&void 0!==n?n:0})(R1),ms=((t,e)=>(n,s)=>{const r=e.get(n);if(void 0!==r)return r;const i=t.get(n);if(void 0!==i)return i;try{const o=s();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}})(new Map,new WeakMap),rr=typeof window>"u"?null:window,k1=((t,e)=>(n,s)=>{const r=n.createAnalyser();if(sn(r,s),!(s.maxDecibels>s.minDecibels))throw e();return St(r,s,"fftSize"),St(r,s,"maxDecibels"),St(r,s,"minDecibels"),St(r,s,"smoothingTimeConstant"),t(C1,()=>C1(r))||(t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const s=Math.max(n.length,t.fftSize);for(let r=0;r<s;r+=1)e[r]=.0078125*(n[r]-128);return e}})(r),r})(ms,Lr),Ow=(t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})(Gn),_n=((t,e,n)=>function(){var s=G(function*(r,i,o){const a=t(r);yield Promise.all(a.activeInputs.map((c,u)=>Array.from(c).map(function(){var l=G(function*([d,h]){const p=yield e(d).render(d,i),g=r.context.destination;!n(d)&&(r!==g||!n(r))&&p.connect(o,h,u)});return function(d){return l.apply(this,arguments)}}())).reduce((c,u)=>[...c,...u],[]))});return function(r,i,o){return s.apply(this,arguments)}}())(Gn,Ow,jo),n7=((t,e,n)=>()=>{const s=new WeakMap,r=function(){var i=G(function*(o,a){let c=e(o);return An(c,a)||(c=t(a,{channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant})),s.set(a,c),yield n(o,a,c),c});return function(a,c){return i.apply(this,arguments)}}();return{render(i,o){const a=s.get(o);return void 0!==a?Promise.resolve(a):r(i,o)}}})(k1,wt,_n),pt=(t=>e=>{const n=t.get(e);if(void 0===n)throw Yt();return n})(Dp),fn=(t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null)(rr),st=(t=>e=>null!==t&&e instanceof t)(fn),F1=new WeakMap,P1=(t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,s,r){if(null!==s){let i=this._listeners.get(s);void 0===i&&(i=t(this,s),"function"==typeof s&&this._listeners.set(s,i)),this._nativeEventTarget.addEventListener(n,i,r)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,s,r){const i=null===s?void 0:this._listeners.get(s);this._nativeEventTarget.removeEventListener(n,void 0===i?null:i,r)}})(Ic),li=(t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null)(rr),Rw=(t=>e=>null!==t&&e instanceof t)(li),kw=(t=>e=>null!==t&&"function"==typeof t.AudioNode&&e instanceof t.AudioNode)(rr),V1=(t=>e=>null!==t&&"function"==typeof t.AudioParam&&e instanceof t.AudioParam)(rr),xc=(t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null)(rr),Ht=((t,e,n,s,r,i,o,a,c,u,l,d,h,f,p,g)=>class extends u{constructor(m,y,D,b){super(D),this._context=m,this._nativeAudioNode=D;const v=l(m);d(v)&&!0!==n(_1,()=>_1(v,g))&&(t=>{const e=new Map;t.connect=(n=>(s,r=0,i=0)=>{const o=Mp(s)?n(s,r,i):n(s,r),a=e.get(s);return void 0===a?e.set(s,[{input:i,output:r}]):a.every(c=>c.input!==i||c.output!==r)&&a.push({input:i,output:r}),o})(t.connect.bind(t)),t.disconnect=(n=>(s,r,i)=>{if(n.apply(t),void 0===s)e.clear();else if("number"==typeof s)for(const[o,a]of e){const c=a.filter(u=>u.output!==s);0===c.length?e.delete(o):e.set(o,c)}else if(e.has(s))if(void 0===r)e.delete(s);else{const o=e.get(s);if(void 0!==o){const a=o.filter(c=>c.output!==r&&(c.input!==i||void 0===i));0===a.length?e.delete(s):e.set(s,a)}}for(const[o,a]of e)a.forEach(c=>{Mp(o)?t.connect(o,c.output,c.input):t.connect(o,c.output)})})(t.disconnect)})(D),_w.set(this,D),s1.set(this,new Set),"closed"!==m.state&&y&&Sc(this),t(this,b,D)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(m){this._nativeAudioNode.channelCount=m}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(m){this._nativeAudioNode.channelCountMode=m}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(m){this._nativeAudioNode.channelInterpretation=m}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(m,y=0,D=0){if(y<0||y>=this._nativeAudioNode.numberOfOutputs)throw r();const b=l(this._context),v=p(b);if(h(m)||f(m))throw i();if(Ep(m)){const E=wt(m);try{const N=Tp(this._nativeAudioNode,E,y,D),F=xp(this);(v||F)&&this._nativeAudioNode.disconnect(...N),"closed"!==this.context.state&&!F&&xp(m)&&Sc(m)}catch(N){throw 12===N.code?i():N}if(e(this,m,y,D,v)){const N=c([this],m);Ew(N,s(v))}return m}const S=ql(m);if("playbackRate"===S.name&&1024===S.maxValue)throw o();try{this._nativeAudioNode.connect(S,y),(v||xp(this))&&this._nativeAudioNode.disconnect(S,y)}catch(E){throw 12===E.code?i():E}if(((t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=Hl(e),{outputs:o}=Gn(t),a=Bl(t),c=u=>{const l=wt(t),d=ql(e);if(u){const h=m1(i,t,n);h1(r,t,h,!1),!s&&!jo(t)&&l.connect(d,n)}else{const h=((t,e,n)=>Cp(t,s=>s[0]===e&&s[1]===n))(r,t,n);f1(i,h,!1),!s&&!jo(t)&&l.disconnect(d,n)}};return!!Lo(o,[e,n],u=>u[0]===e&&u[1]===n,!0)&&(a.add(c),ui(t)?h1(r,t,[n,c],!0):f1(i,[t,n,c],!0),!0)})(this,m,y,v)){const E=c([this],m);Ew(E,s(v))}}disconnect(m,y,D){let b;const v=l(this._context),S=p(v);if(void 0===m)b=((t,e)=>{const n=Gn(t),s=[];for(const r of n.outputs)$l(r)?Tw(t,e,...r):Iw(t,e,...r),s.push(r[0]);return n.outputs.clear(),s})(this,S);else if("number"==typeof m){if(m<0||m>=this.numberOfOutputs)throw r();b=((t,e,n)=>{const s=Gn(t),r=[];for(const i of s.outputs)i[1]===n&&($l(i)?Tw(t,e,...i):Iw(t,e,...i),r.push(i[0]),s.outputs.delete(i));return r})(this,S,m)}else{if(void 0!==y&&(y<0||y>=this.numberOfOutputs)||Ep(m)&&void 0!==D&&(D<0||D>=m.numberOfInputs))throw r();if(b=((t,e,n,s,r)=>{const i=Gn(t);return Array.from(i.outputs).filter(o=>!(o[0]!==n||void 0!==s&&o[1]!==s||void 0!==r&&o[2]!==r)).map(o=>($l(o)?Tw(t,e,...o):Iw(t,e,...o),i.outputs.delete(o),o[0]))})(this,S,m,y,D),0===b.length)throw i()}for(const C of b){const E=c([this],C);Ew(E,a)}}})((t=>(e,n,s)=>{const r=[];for(let i=0;i<s.numberOfInputs;i+=1)r.push(new Set);t.set(e,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:n})})(t1),((t,e,n,s,r,i,o,a,c,u,l,d,h)=>{const f=new WeakMap;return(p,g,_,m,y)=>{const{activeInputs:D,passiveInputs:b}=i(g),{outputs:v}=i(p),S=a(p),C=E=>{const R=c(g),N=c(p);if(E){const F=u1(b,p,_,m);t(D,p,F,!1),!y&&!d(p)&&n(N,R,_,m),h(g)&&Sc(g)}else{const F=s(D,p,_,m);e(b,m,F,!1),!y&&!d(p)&&r(N,R,_,m);const I=o(g);if(0===I)l(g)&&Cw(g,D);else{const B=f.get(g);void 0!==B&&clearTimeout(B),f.set(g,setTimeout(()=>{l(g)&&Cw(g,D)},1e3*I))}}};return!!u(v,[g,_,m],E=>E[0]===g&&E[1]===_&&E[2]===m,!0)&&(S.add(C),l(p)?t(D,p,[_,m,C],!0):e(b,m,[p,_,C],!0),!0)}})(K9,J9,Tp,e7,Ip,Gn,t7,Bl,wt,Lo,ui,jo,xp),ms,((t,e,n,s,r,i)=>o=>(a,c)=>{const u=t.get(a);if(void 0===u){if(!o&&i(a)){const l=s(a),{outputs:d}=n(a);for(const h of d)if($l(h)){const f=s(h[0]);e(l,f,h[1],h[2])}else{const f=r(h[0]);l.disconnect(f,h[1])}}t.set(a,c)}else t.set(a,u+c)})(vw,Ip,Gn,wt,ql,ui),Lr,Rp,Nn,((t,e,n,s,r,i,o,a)=>(c,u)=>{const l=e.get(c);if(void 0===l)throw new Error("Missing the expected cycle count.");const d=i(c.context),h=a(d);if(l===u){if(e.delete(c),!h&&o(c)){const f=s(c),{outputs:p}=n(c);for(const g of p)if($l(g)){const _=s(g[0]);t(f,_,g[1],g[2])}else{const _=r(g[0]);f.connect(_,g[1])}}}else e.set(c,l-u)})(Tp,vw,Gn,wt,ql,pt,ui,st),((t,e,n)=>function s(r,i){const o=Ep(i)?i:n(t,i);if((t=>"delayTime"in t)(o))return[];if(r[0]===o)return[r];if(r.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(c=>s([...r,o],c[0])).reduce((c,u)=>c.concat(u),[])})(F1,Gn,sr),P1,pt,Rw,kw,V1,st,xc),s7=((t,e,n,s,r,i)=>class extends t{constructor(a,c){const u=r(a),l={...T8,...c},d=s(u,l);super(a,!1,d,i(u)?e():null),this._nativeAnalyserNode=d}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const c=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=c,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const c=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=c,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}})(Ht,n7,Lr,k1,pt,st),Fw=new WeakSet,L1=(t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null)(rr),j1=(t=>e=>(t[0]=e,t[0]))(new Uint32Array(1)),Pw=((t,e)=>n=>{n.copyFromChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const c=n.length,u=n.getChannelData(a),l=s.length;for(let d=o<0?-o:0;d+o<c&&d<l;d+=1)s[d]=u[d+o]},n.copyToChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const c=n.length,u=n.getChannelData(a),l=s.length;for(let d=o<0?-o:0;d+o<c&&d<l;d+=1)u[d+o]=s[d]}})(j1,Lr),Vw=(t=>e=>{e.copyFromChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyToChannel)})(j1),r7=((t,e,n,s,r,i,o,a)=>{let c=null;return class LO{constructor(l){if(null===r)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:d,numberOfChannels:h,sampleRate:f}={...M8,...l};null===c&&(c=new r(1,1,44100));const p=null!==s&&e(i,i)?new s({length:d,numberOfChannels:h,sampleRate:f}):c.createBuffer(h,d,f);if(0===p.numberOfChannels)throw n();return"function"!=typeof p.copyFromChannel?(o(p),bw(p)):e(bp,()=>bp(p))||a(p),t.add(p),p}static[Symbol.hasInstance](l){return null!==l&&"object"==typeof l&&Object.getPrototypeOf(l)===LO.prototype||t.has(l)}}})(Fw,ms,Nn,L1,fn,(t=>()=>{if(null===t)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0})(L1),Pw,Vw),kp=(t=>(e,n)=>{const s=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(s).connect(e.destination);const r=()=>{n.removeEventListener("ended",r),n.disconnect(s),s.disconnect()};n.addEventListener("ended",r)})(ss),B1=((t,e,n)=>function(){var s=G(function*(r,i,o){const a=e(r);yield Promise.all(Array.from(a.activeInputs).map(function(){var c=G(function*([u,l]){const h=yield t(u).render(u,i);n(u)||h.connect(o,l)});return function(u){return c.apply(this,arguments)}}()))});return function(r,i,o){return s.apply(this,arguments)}}())(Ow,Hl,jo),jr=(t=>(e,n,s)=>t(n,e,s))(B1),Mc=((t,e,n,s,r,i,o,a,c,u,l)=>(d,h)=>{const f=d.createBufferSource();return sn(f,h),Ot(f,h,"playbackRate"),St(f,h,"buffer"),St(f,h,"loop"),St(f,h,"loopEnd"),St(f,h,"loopStart"),e(n,()=>n(d))||(t=>{t.start=(e=>{let n=!1;return(s=0,r=0,i)=>{if(n)throw Yt();e.call(t,s,r,i),n=!0}})(t.start)})(f),e(s,()=>s(d))||(t=>{t.start=(e=>(n=0,s=0,r)=>{const i=t.buffer,o=null===i?s:Math.min(i.duration,s);null!==i&&o>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,r)})(t.start)})(f),e(r,()=>r(d))||u(f,d),e(i,()=>i(d))||xw(f),e(o,()=>o(d))||l(f,d),e(a,()=>a(d))||Mw(f),t(d,f),f})(kp,ms,t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Aw,N1,Nw,0,(t=>(e,n)=>{const s=n.createBuffer(1,1,44100);null===e.buffer&&(e.buffer=s),t(e,"buffer",r=>()=>{const i=r.call(e);return i===s?null:i},r=>i=>r.call(e,null===i?s:i))})(Wl),O1),Br=((t,e)=>(n,s,r)=>(t(s).replay(r),e(s,n,r)))((t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(Hl),B1),i7=((t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;const c=function(){var u=G(function*(l,d){let h=n(l);const f=An(h,d);return f||(h=e(d,{buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value}),null!==o&&h.start(...o),null!==a&&h.stop(a)),i.set(d,h),f?yield t(d,l.playbackRate,h.playbackRate):yield s(d,l.playbackRate,h.playbackRate),yield r(l,d,h),h});return function(d,h){return u.apply(this,arguments)}}();return{set start(u){o=u},set stop(u){a=u},render(u,l){const d=i.get(l);return void 0!==d?Promise.resolve(d):c(u,l)}}})(jr,Mc,wt,Br,_n),ir=((t,e,n,s,r,i,o,a,c,u,l,d,h)=>(f,p,g,_=null,m=null)=>{const y=new zi.AutomationEventList(g.defaultValue),D=p?(t=>({replay(e){for(const n of t)if("exponentialRampToValue"===n.type){const{endTime:s,value:r}=n;e.exponentialRampToValueAtTime(r,s)}else if("linearRampToValue"===n.type){const{endTime:s,value:r}=n;e.linearRampToValueAtTime(r,s)}else if("setTarget"===n.type){const{startTime:s,target:r,timeConstant:i}=n;e.setTargetAtTime(r,s,i)}else if("setValue"===n.type){const{startTime:s,value:r}=n;e.setValueAtTime(r,s)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:s,startTime:r,values:i}=n;e.setValueCurveAtTime(i,r,s)}}}}))(y):null,b={get defaultValue(){return g.defaultValue},get maxValue(){return null===_?g.maxValue:_},get minValue(){return null===m?g.minValue:m},get value(){return g.value},set value(v){g.value=v,b.setValueAtTime(v,f.context.currentTime)},cancelAndHoldAtTime(v){if("function"==typeof g.cancelAndHoldAtTime)null===D&&y.flush(f.context.currentTime),y.add(r(v)),g.cancelAndHoldAtTime(v);else{const S=Array.from(y).pop();null===D&&y.flush(f.context.currentTime),y.add(r(v));const C=Array.from(y).pop();g.cancelScheduledValues(v),S!==C&&void 0!==C&&("exponentialRampToValue"===C.type?g.exponentialRampToValueAtTime(C.value,C.endTime):"linearRampToValue"===C.type?g.linearRampToValueAtTime(C.value,C.endTime):"setValue"===C.type?g.setValueAtTime(C.value,C.startTime):"setValueCurve"===C.type&&g.setValueCurveAtTime(C.values,C.startTime,C.duration))}return b},cancelScheduledValues:v=>(null===D&&y.flush(f.context.currentTime),y.add(i(v)),g.cancelScheduledValues(v),b),exponentialRampToValueAtTime(v,S){if(0===v)throw new RangeError;if(!Number.isFinite(S)||S<0)throw new RangeError;return null===D&&y.flush(f.context.currentTime),y.add(o(v,S)),g.exponentialRampToValueAtTime(v,S),b},linearRampToValueAtTime:(v,S)=>(null===D&&y.flush(f.context.currentTime),y.add(a(v,S)),g.linearRampToValueAtTime(v,S),b),setTargetAtTime:(v,S,C)=>(null===D&&y.flush(f.context.currentTime),y.add(c(v,S,C)),g.setTargetAtTime(v,S,C),b),setValueAtTime:(v,S)=>(null===D&&y.flush(f.context.currentTime),y.add(u(v,S)),g.setValueAtTime(v,S),b),setValueCurveAtTime(v,S,C){const E=v instanceof Float32Array?v:new Float32Array(v);if(null!==d&&"webkitAudioContext"===d.name){const R=S+C,N=f.context.sampleRate,F=Math.ceil(S*N),I=Math.floor(R*N),B=I-F,z=new Float32Array(B);for(let $=0;$<B;$+=1){const ee=(E.length-1)/C*((F+$)/N-S),pe=Math.floor(ee),re=Math.ceil(ee);z[$]=pe===re?E[pe]:(1-(ee-pe))*E[pe]+(1-(re-ee))*E[re]}null===D&&y.flush(f.context.currentTime),y.add(l(z,S,C)),g.setValueCurveAtTime(z,S,C);const X=I/N;X<R&&h(b,z[z.length-1],X),h(b,E[E.length-1],R)}else null===D&&y.flush(f.context.currentTime),y.add(l(E,S,C)),g.setValueCurveAtTime(E,S,C);return b}};return n.set(b,g),e.set(b,f),t(b,D),b})((t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})})(n1),F1,yw,0,zi.createCancelAndHoldAutomationEvent,zi.createCancelScheduledValuesAutomationEvent,zi.createExponentialRampToValueAutomationEvent,zi.createLinearRampToValueAutomationEvent,zi.createSetTargetAutomationEvent,zi.createSetValueAutomationEvent,zi.createSetValueCurveAutomationEvent,li,A1),o7=((t,e,n,s,r,i,o,a)=>class extends t{constructor(u,l){const d=i(u),h={...N8,...l},f=r(d,h),p=o(d),g=p?e():null;super(u,!1,f,g),this._audioBufferSourceNodeRenderer=g,this._isBufferNullified=!1,this._isBufferSet=null!==h.buffer,this._nativeAudioBufferSourceNode=f,this._onended=null,this._playbackRate=n(this,p,f.playbackRate,zn,ns)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,null!==u){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){const l="function"==typeof u?a(this,u):null;this._nativeAudioBufferSourceNode.onended=l;const d=this._nativeAudioBufferSourceNode.onended;this._onended=null!==d&&d===l?u:d}get playbackRate(){return this._playbackRate}start(u=0,l=0,d){if(this._nativeAudioBufferSourceNode.start(u,l,d),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===d?[u,l]:[u,l,d]),"closed"!==this.context.state){Sc(this);const h=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",h),ui(this)&&Ul(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",h)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=u)}})(Ht,i7,ir,Yt,Mc,pt,st,Ic),a7=((t,e,n,s,r,i,o,a)=>class extends t{constructor(u,l){const d=i(u),h=o(d),f=r(d,l,h);super(u,!1,f,h?e(a):null),this._isNodeOfNativeOfflineAudioContext=h,this._nativeAudioDestinationNode=f}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(Ht,t=>{const e=new WeakMap,n=function(){var s=G(function*(r,i){const o=i.destination;return e.set(i,o),yield t(r,i,o),o});return function(i,o){return s.apply(this,arguments)}}();return{render(s,r){const i=e.get(r);return void 0!==i?Promise.resolve(i):n(s,r)}}},Lr,Yt,((t,e)=>(n,s,r)=>{const i=n.destination;if(i.channelCount!==s)try{i.channelCount=s}catch{}r&&"explicit"!==i.channelCountMode&&(i.channelCountMode="explicit"),0===i.maxChannelCount&&Object.defineProperty(i,"maxChannelCount",{value:s});const o=t(n,{channelCount:s,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>c=>{a.call(o,c);try{i.channelCount=c}catch(u){if(c>i.maxChannelCount)throw u}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>c=>{a.call(o,c),i.channelCountMode=c}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>c=>{a.call(o,c),i.channelInterpretation=c}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o})(ss,Wl),pt,st,_n),c7=((t,e,n,s,r)=>()=>{const i=new WeakMap,o=function(){var a=G(function*(c,u){let l=n(c);const d=An(l,u);return d||(l=e(u,{Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type})),i.set(u,l),d?(yield t(u,c.Q,l.Q),yield t(u,c.detune,l.detune),yield t(u,c.frequency,l.frequency),yield t(u,c.gain,l.gain)):(yield s(u,c.Q,l.Q),yield s(u,c.detune,l.detune),yield s(u,c.frequency,l.frequency),yield s(u,c.gain,l.gain)),yield r(c,u,l),l});return function(u,l){return a.apply(this,arguments)}}();return{render(a,c){const u=i.get(c);return void 0!==u?Promise.resolve(u):o(a,c)}}})(jr,S1,wt,Br,_n),Uo=(t=>(e,n)=>t.set(e,n))(R1),u7=((t,e,n,s,r,i,o,a)=>class extends t{constructor(u,l){const d=i(u),h={...a5,...l},f=r(d,h),p=o(d);super(u,!1,f,p?n():null),this._Q=e(this,p,f.Q,zn,ns),this._detune=e(this,p,f.detune,1200*Math.log2(zn),-1200*Math.log2(zn)),this._frequency=e(this,p,f.frequency,u.sampleRate/2,0),this._gain=e(this,p,f.gain,40*Math.log10(zn),ns),this._nativeBiquadFilterNode=f,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,l,d){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,l,d)}catch(h){throw 11===h.code?s():h}if(u.length!==l.length||l.length!==d.length)throw s()}})(Ht,ir,c7,Rp,S1,pt,st,Uo),Gi=((t,e)=>(n,s,r)=>{const i=new Set;return n.connect=(o=>(a,c=0,u=0)=>{const l=0===i.size;if(e(a))return o.call(n,a,c,u),t(i,[a,c,u],d=>d[0]===a&&d[1]===c&&d[2]===u,!0),l&&s(),a;o.call(n,a,c),t(i,[a,c],d=>d[0]===a&&d[1]===c,!0),l&&s()})(n.connect),n.disconnect=(o=>(a,c,u)=>{const l=i.size>0;if(void 0===a)o.apply(n),i.clear();else if("number"==typeof a){o.call(n,a);for(const h of i)h[1]===a&&i.delete(h)}else{e(a)?o.call(n,a,c,u):o.call(n,a,c);for(const h of i)h[0]===a&&(void 0===c||h[1]===c)&&(void 0===u||h[2]===u)&&i.delete(h)}l&&0===i.size&&r()})(n.disconnect),n})(Lo,kw),l7=((t,e)=>(n,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const r=n.createBufferSource();e(s,()=>{const a=s.numberOfInputs;for(let c=0;c<a;c+=1)r.connect(s,0,c)},()=>r.disconnect(s))})(Yt,Gi),Wi=((t,e)=>(n,s)=>{const r=n.createChannelMerger(s.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&e(n,r),sn(r,s),r})(li,l7),d7=((t,e,n)=>()=>{const s=new WeakMap,r=function(){var i=G(function*(o,a){let c=e(o);return An(c,a)||(c=t(a,{channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs})),s.set(a,c),yield n(o,a,c),c});return function(a,c){return i.apply(this,arguments)}}();return{render(i,o){const a=s.get(o);return void 0!==a?Promise.resolve(a):r(i,o)}}})(Wi,wt,_n),h7=((t,e,n,s,r)=>class extends t{constructor(o,a){const c=s(o),u={...d5,...a};super(o,!1,n(c,u),r(c)?e():null)}})(Ht,d7,Wi,pt,st),f7=((t,e,n)=>()=>{const s=new WeakMap,r=function(){var i=G(function*(o,a){let c=e(o);return An(c,a)||(c=t(a,{channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs})),s.set(a,c),yield n(o,a,c),c});return function(a,c){return i.apply(this,arguments)}}();return{render(i,o){const a=s.get(o);return void 0!==a?Promise.resolve(a):r(i,o)}}})(zl,wt,_n),p7=((t,e,n,s,r,i)=>class extends t{constructor(a,c){const u=s(a),l=(t=>({...t,channelCount:t.numberOfOutputs}))({...p5,...c});super(a,!1,n(u,l),r(u)?e():null)}})(Ht,f7,zl,pt,st),g7=((t,e,n,s)=>(r,{offset:i,...o})=>{const a=r.createBuffer(1,2,44100),c=e(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(r,{...o,gain:i}),l=a.getChannelData(0);l[0]=1,l[1]=1,c.buffer=a,c.loop=!0;const d={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(p){u.channelCount=p},get channelCountMode(){return u.channelCountMode},set channelCountMode(p){u.channelCountMode=p},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(p){u.channelInterpretation=p},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return c.onended},set onended(p){c.onended=p},addEventListener:(...p)=>c.addEventListener(p[0],p[1],p[2]),dispatchEvent:(...p)=>c.dispatchEvent(p[0]),removeEventListener:(...p)=>c.removeEventListener(p[0],p[1],p[2]),start(p=0){c.start.call(c,p)},stop(p=0){c.stop.call(c,p)}};return t(r,c),s(Tc(d,u),()=>c.connect(u),()=>c.disconnect(u))})(kp,Mc,ss,Gi),Ac=((t,e,n,s,r)=>(i,o)=>{if(void 0===i.createConstantSource)return n(i,o);const a=i.createConstantSource();return sn(a,o),Ot(a,o,"offset"),e(s,()=>s(i))||xw(a),e(r,()=>r(i))||Mw(a),t(i,a),a})(kp,ms,g7,Aw,Nw),m7=((t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;const c=function(){var u=G(function*(l,d){let h=n(l);const f=An(h,d);return f||(h=e(d,{channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value}),null!==o&&h.start(o),null!==a&&h.stop(a)),i.set(d,h),f?yield t(d,l.offset,h.offset):yield s(d,l.offset,h.offset),yield r(l,d,h),h});return function(d,h){return u.apply(this,arguments)}}();return{set start(u){o=u},set stop(u){a=u},render(u,l){const d=i.get(l);return void 0!==d?Promise.resolve(d):c(u,l)}}})(jr,Ac,wt,Br,_n),_7=((t,e,n,s,r,i,o)=>class extends t{constructor(c,u){const l=r(c),d={...w5,...u},h=s(l,d),f=i(l),p=f?n():null;super(c,!1,h,p),this._constantSourceNodeRenderer=p,this._nativeConstantSourceNode=h,this._offset=e(this,f,h.offset,zn,ns),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(c){const u="function"==typeof c?o(this,c):null;this._nativeConstantSourceNode.onended=u;const l=this._nativeConstantSourceNode.onended;this._onended=null!==l&&l===u?c:l}start(c=0){if(this._nativeConstantSourceNode.start(c),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=c),"closed"!==this.context.state){Sc(this);const u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),ui(this)&&Ul(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(c=0){this._nativeConstantSourceNode.stop(c),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=c)}})(Ht,ir,m7,Ac,pt,st,Ic),U1=((t,e)=>(n,s)=>{const r=n.createConvolver();if(sn(r,s),s.disableNormalization===r.normalize&&(r.normalize=!s.disableNormalization),St(r,s,"buffer"),s.channelCount>2||(e(r,"channelCount",i=>()=>i.call(r),i=>o=>{if(o>2)throw t();return i.call(r,o)}),"max"===s.channelCountMode))throw t();return e(r,"channelCountMode",i=>()=>i.call(r),i=>o=>{if("max"===o)throw t();return i.call(r,o)}),r})(Nn,Wl),y7=((t,e,n)=>()=>{const s=new WeakMap,r=function(){var i=G(function*(o,a){let c=e(o);return An(c,a)||(c=t(a,{buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize})),s.set(a,c),Ec(c)?yield n(o,a,c.inputs[0]):yield n(o,a,c),c});return function(a,c){return i.apply(this,arguments)}}();return{render(i,o){const a=s.get(o);return void 0!==a?Promise.resolve(a):r(i,o)}}})(U1,wt,_n),v7=((t,e,n,s,r,i)=>class extends t{constructor(a,c){const u=s(a),l={...S5,...c},d=n(u,l);super(a,!1,d,r(u)?e():null),this._isBufferNullified=!1,this._nativeConvolverNode=d,null!==l.buffer&&i(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,null===a&&null!==this._nativeConvolverNode.buffer){const c=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=c.createBuffer(1,1,c.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}})(Ht,y7,U1,pt,st,Uo),w7=((t,e,n,s,r)=>i=>{const o=new WeakMap,a=function(){var c=G(function*(u,l){let d=n(u);const h=An(d,l);return h||(d=e(l,{channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,delayTime:d.delayTime.value,maxDelayTime:i})),o.set(l,d),h?yield t(l,u.delayTime,d.delayTime):yield s(l,u.delayTime,d.delayTime),yield r(u,l,d),d});return function(l,d){return c.apply(this,arguments)}}();return{render(c,u){const l=o.get(u);return void 0!==l?Promise.resolve(l):a(c,u)}}})(jr,E1,wt,Br,_n),D7=((t,e,n,s,r,i,o)=>class extends t{constructor(c,u){const l=r(c),d={...N5,...u},h=s(l,d),f=i(l);super(c,!1,h,f?n(d.maxDelayTime):null),this._delayTime=e(this,f,h.delayTime),o(this,d.maxDelayTime)}get delayTime(){return this._delayTime}})(Ht,ir,w7,E1,pt,st,Uo),H1=(t=>(e,n)=>{const s=e.createDynamicsCompressor();if(sn(s,n),n.channelCount>2||"max"===n.channelCountMode)throw t();return Ot(s,n,"attack"),Ot(s,n,"knee"),Ot(s,n,"ratio"),Ot(s,n,"release"),Ot(s,n,"threshold"),s})(Nn),C7=((t,e,n,s,r)=>()=>{const i=new WeakMap,o=function(){var a=G(function*(c,u){let l=n(c);const d=An(l,u);return d||(l=e(u,{attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value})),i.set(u,l),d?(yield t(u,c.attack,l.attack),yield t(u,c.knee,l.knee),yield t(u,c.ratio,l.ratio),yield t(u,c.release,l.release),yield t(u,c.threshold,l.threshold)):(yield s(u,c.attack,l.attack),yield s(u,c.knee,l.knee),yield s(u,c.ratio,l.ratio),yield s(u,c.release,l.release),yield s(u,c.threshold,l.threshold)),yield r(c,u,l),l});return function(u,l){return a.apply(this,arguments)}}();return{render(a,c){const u=i.get(c);return void 0!==u?Promise.resolve(u):o(a,c)}}})(jr,H1,wt,Br,_n),b7=((t,e,n,s,r,i,o,a)=>class extends t{constructor(u,l){const d=i(u),h={...j5,...l},f=s(d,h),p=o(d);super(u,!1,f,p?n():null),this._attack=e(this,p,f.attack),this._knee=e(this,p,f.knee),this._nativeDynamicsCompressorNode=f,this._ratio=e(this,p,f.ratio),this._release=e(this,p,f.release),this._threshold=e(this,p,f.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){const l=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=l,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){const l=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,"max"===u)throw this._nativeDynamicsCompressorNode.channelCountMode=l,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(Ht,ir,C7,H1,Nn,pt,st,Uo),S7=((t,e,n,s,r)=>()=>{const i=new WeakMap,o=function(){var a=G(function*(c,u){let l=n(c);const d=An(l,u);return d||(l=e(u,{channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value})),i.set(u,l),d?yield t(u,c.gain,l.gain):yield s(u,c.gain,l.gain),yield r(c,u,l),l});return function(u,l){return a.apply(this,arguments)}}();return{render(a,c){const u=i.get(c);return void 0!==u?Promise.resolve(u):o(a,c)}}})(jr,ss,wt,Br,_n),E7=((t,e,n,s,r,i)=>class extends t{constructor(a,c){const u=r(a),l={...W5,...c},d=s(u,l),h=i(u);super(a,!1,d,h?n():null),this._gain=e(this,h,d.gain,zn,ns)}get gain(){return this._gain}})(Ht,ir,S7,ss,pt,st),T7=((t,e,n,s)=>(r,i,{channelCount:o,channelCountMode:a,channelInterpretation:c,feedback:u,feedforward:l})=>{const d=b1(i,r.sampleRate),h=u instanceof Float64Array?u:new Float64Array(u),f=l instanceof Float64Array?l:new Float64Array(l),p=h.length,g=f.length,_=Math.min(p,g);if(0===p||p>20)throw s();if(0===h[0])throw e();if(0===g||g>20)throw s();if(0===f[0])throw e();if(1!==h[0]){for(let E=0;E<g;E+=1)f[E]/=h[0];for(let E=1;E<p;E+=1)h[E]/=h[0]}const m=n(r,d,o,o);m.channelCount=o,m.channelCountMode=a,m.channelInterpretation=c;const D=[],b=[],v=[];for(let E=0;E<o;E+=1){D.push(0);const R=new Float32Array(32),N=new Float32Array(32);R.fill(0),N.fill(0),b.push(R),v.push(N)}m.onaudioprocess=E=>{const R=E.inputBuffer,N=E.outputBuffer,F=R.numberOfChannels;for(let I=0;I<F;I+=1){const B=R.getChannelData(I),z=N.getChannelData(I);D[I]=D1(h,p,f,g,_,b[I],v[I],D[I],32,B,z)}};const S=r.sampleRate/2;return Tc({get bufferSize(){return d},get channelCount(){return m.channelCount},set channelCount(E){m.channelCount=E},get channelCountMode(){return m.channelCountMode},set channelCountMode(E){m.channelCountMode=E},get channelInterpretation(){return m.channelInterpretation},set channelInterpretation(E){m.channelInterpretation=E},get context(){return m.context},get inputs(){return[m]},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},addEventListener:(...E)=>m.addEventListener(E[0],E[1],E[2]),dispatchEvent:(...E)=>m.dispatchEvent(E[0]),getFrequencyResponse(E,R,N){if(E.length!==R.length||R.length!==N.length)throw t();const F=E.length;for(let I=0;I<F;I+=1){const B=-Math.PI*(E[I]/S),z=[Math.cos(B),Math.sin(B)],ee=X6(T1(f,z),T1(h,z));R[I]=Math.sqrt(ee[0]*ee[0]+ee[1]*ee[1]),N[I]=Math.atan2(ee[1],ee[0])}},removeEventListener:(...E)=>m.removeEventListener(E[0],E[1],E[2])},m)})(Rp,Yt,Gl,Nn),Fp=((t,e,n,s)=>r=>t(Bo,()=>Bo(r))?Promise.resolve(t(s,s)).then(i=>{if(!i){const o=n(r,512,0,1);r.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>r.currentTime,o.connect(r.destination)}return r.startRendering()}):new Promise(i=>{const o=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=a=>{o.disconnect(),i(a.renderedBuffer)},o.connect(r.destination),r.startRendering()}))(ms,ss,Gl,((t,e)=>()=>{if(null===e)return Promise.resolve(!1);const n=new e(1,1,44100),s=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(r=>{n.oncomplete=()=>{s.disconnect(),r(0!==n.currentTime)},n.startRendering()})})(ss,fn)),I7=((t,e,n,s,r)=>(i,o)=>{const a=new WeakMap;let c=null;const u=function(){var l=G(function*(d,h){let f=null,p=e(d);const g=An(p,h);if(void 0===h.createIIRFilter?f=t(h,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):g||(p=h.createIIRFilter(o,i)),a.set(h,null===f?p:f),null!==f){if(null===c){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const m=new n(d.context.destination.channelCount,d.context.length,h.sampleRate);c=G(function*(){return yield s(d,m,m.destination),((t,e,n,s)=>{const r=n instanceof Float64Array?n:new Float64Array(n),i=s instanceof Float64Array?s:new Float64Array(s),o=r.length,a=i.length,c=Math.min(o,a);if(1!==r[0]){for(let p=0;p<o;p+=1)i[p]/=r[0];for(let p=1;p<a;p+=1)r[p]/=r[0]}const l=new Float32Array(32),d=new Float32Array(32),h=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),f=t.numberOfChannels;for(let p=0;p<f;p+=1){const g=t.getChannelData(p),_=h.getChannelData(p);l.fill(0),d.fill(0),D1(r,o,i,a,c,l,d,0,32,g,_)}return h})(yield r(m),h,i,o)})()}const _=yield c;return f.buffer=_,f.start(0),f}return yield s(d,h,p),p});return function(h,f){return l.apply(this,arguments)}}();return{render(l,d){const h=a.get(d);return void 0!==h?Promise.resolve(h):u(l,d)}}})(Mc,wt,fn,_n,Fp),x7=(t=>(e,n,s)=>{if(void 0===e.createIIRFilter)return t(e,n,s);const r=e.createIIRFilter(s.feedforward,s.feedback);return sn(r,s),r})(T7),M7=((t,e,n,s,r,i)=>class extends t{constructor(a,c){const u=s(a),l=r(u),d={...i6,...c},h=e(u,l?null:a.baseLatency,d);super(a,!1,h,l?n(d.feedback,d.feedforward):null),(t=>{t.getFrequencyResponse=(e=>(n,s,r)=>{if(n.length!==s.length||s.length!==r.length)throw Rp();return e.call(t,n,s,r)})(t.getFrequencyResponse)})(h),this._nativeIIRFilterNode=h,i(this,1)}getFrequencyResponse(a,c,u){return this._nativeIIRFilterNode.getFrequencyResponse(a,c,u)}})(Ht,x7,I7,pt,st,Uo),A7=((t,e,n,s,r,i,o,a)=>(c,u)=>{const l=u.listener,{forwardX:h,forwardY:f,forwardZ:p,positionX:g,positionY:_,positionZ:m,upX:y,upY:D,upZ:b}=void 0===l.forwardX?(()=>{const v=new Float32Array(1),S=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),C=o(u);let E=!1,R=[0,0,-1,0,1,0],N=[0,0,0];const F=()=>{if(E)return;E=!0;const X=s(u,256,9,0);X.onaudioprocess=({inputBuffer:$})=>{const ee=[i($,v,0),i($,v,1),i($,v,2),i($,v,3),i($,v,4),i($,v,5)];ee.some((re,Ae)=>re!==R[Ae])&&(l.setOrientation(...ee),R=ee);const pe=[i($,v,6),i($,v,7),i($,v,8)];pe.some((re,Ae)=>re!==N[Ae])&&(l.setPosition(...pe),N=pe)},S.connect(X)},I=X=>$=>{$!==R[X]&&(R[X]=$,l.setOrientation(...R))},B=X=>$=>{$!==N[X]&&(N[X]=$,l.setPosition(...N))},z=(X,$,ee)=>{const pe=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:$});pe.connect(S,0,X),pe.start(),Object.defineProperty(pe.offset,"defaultValue",{get:()=>$});const re=t({context:c},C,pe.offset,zn,ns);return a(re,"value",Ae=>()=>Ae.call(re),Ae=>Te=>{try{Ae.call(re,Te)}catch(mt){if(9!==mt.code)throw mt}F(),C&&ee(Te)}),re.cancelAndHoldAtTime=(Ae=>C?()=>{throw r()}:(...Te)=>{const mt=Ae.apply(re,Te);return F(),mt})(re.cancelAndHoldAtTime),re.cancelScheduledValues=(Ae=>C?()=>{throw r()}:(...Te)=>{const mt=Ae.apply(re,Te);return F(),mt})(re.cancelScheduledValues),re.exponentialRampToValueAtTime=(Ae=>C?()=>{throw r()}:(...Te)=>{const mt=Ae.apply(re,Te);return F(),mt})(re.exponentialRampToValueAtTime),re.linearRampToValueAtTime=(Ae=>C?()=>{throw r()}:(...Te)=>{const mt=Ae.apply(re,Te);return F(),mt})(re.linearRampToValueAtTime),re.setTargetAtTime=(Ae=>C?()=>{throw r()}:(...Te)=>{const mt=Ae.apply(re,Te);return F(),mt})(re.setTargetAtTime),re.setValueAtTime=(Ae=>C?()=>{throw r()}:(...Te)=>{const mt=Ae.apply(re,Te);return F(),mt})(re.setValueAtTime),re.setValueCurveAtTime=(Ae=>C?()=>{throw r()}:(...Te)=>{const mt=Ae.apply(re,Te);return F(),mt})(re.setValueCurveAtTime),re};return{forwardX:z(0,0,I(0)),forwardY:z(1,0,I(1)),forwardZ:z(2,-1,I(2)),positionX:z(6,0,B(0)),positionY:z(7,0,B(1)),positionZ:z(8,0,B(2)),upX:z(3,0,I(3)),upY:z(4,1,I(4)),upZ:z(5,0,I(5))}})():l;return{get forwardX(){return h},get forwardY(){return f},get forwardZ(){return p},get positionX(){return g},get positionY(){return _},get positionZ(){return m},get upX(){return y},get upY(){return D},get upZ(){return b}}})(ir,Wi,Ac,Gl,Nn,x1,st,Wl),$1=new WeakMap,Lw=((t,e,n,s,r,i)=>class extends n{constructor(a,c){super(a),this._nativeContext=a,Dp.set(this,a),s(a)&&r.set(a,new Set),this._destination=new t(this,c),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const c="function"==typeof a?i(this,a):null;this._nativeContext.onstatechange=c;const u=this._nativeContext.onstatechange;this._onstatechange=null!==u&&u===c?a:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(a7,A7,P1,st,$1,Ic),q1=((t,e,n,s,r,i)=>(o,a)=>{const c=o.createOscillator();return sn(c,a),Ot(c,a,"detune"),Ot(c,a,"frequency"),void 0!==a.periodicWave?c.setPeriodicWave(a.periodicWave):St(c,a,"type"),e(n,()=>n(o))||xw(c),e(s,()=>s(o))||i(c,o),e(r,()=>r(o))||Mw(c),t(o,c),c})(kp,ms,Aw,N1,Nw,O1),N7=((t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null,c=null;const u=function(){var l=G(function*(d,h){let f=n(d);const p=An(f,h);return p||(f=e(h,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,detune:f.detune.value,frequency:f.frequency.value,periodicWave:null===o?void 0:o,type:f.type}),null!==a&&f.start(a),null!==c&&f.stop(c)),i.set(h,f),p?(yield t(h,d.detune,f.detune),yield t(h,d.frequency,f.frequency)):(yield s(h,d.detune,f.detune),yield s(h,d.frequency,f.frequency)),yield r(d,h,f),f});return function(h,f){return l.apply(this,arguments)}}();return{set periodicWave(l){o=l},set start(l){a=l},set stop(l){c=l},render(l,d){const h=i.get(d);return void 0!==h?Promise.resolve(h):u(l,d)}}})(jr,q1,wt,Br,_n),O7=((t,e,n,s,r,i,o)=>class extends t{constructor(c,u){const l=r(c),d={...g9,...u},h=n(l,d),f=i(l),p=f?s():null,g=c.sampleRate/2;super(c,!1,h,p),this._detune=e(this,f,h.detune,153600,-153600),this._frequency=e(this,f,h.frequency,g,-g),this._nativeOscillatorNode=h,this._onended=null,this._oscillatorNodeRenderer=p,null!==this._oscillatorNodeRenderer&&void 0!==d.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=d.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(c){const u="function"==typeof c?o(this,c):null;this._nativeOscillatorNode.onended=u;const l=this._nativeOscillatorNode.onended;this._onended=null!==l&&l===u?c:l}get type(){return this._nativeOscillatorNode.type}set type(c){this._nativeOscillatorNode.type=c,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(c){this._nativeOscillatorNode.setPeriodicWave(c),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=c)}start(c=0){if(this._nativeOscillatorNode.start(c),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=c),"closed"!==this.context.state){Sc(this);const u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),ui(this)&&Ul(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(c=0){this._nativeOscillatorNode.stop(c),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=c)}})(Ht,ir,q1,N7,pt,st,Ic),z1=(t=>(e,n)=>{const s=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),r=e.createBuffer(1,2,44100);return s.buffer=r,s.loop=!0,s.connect(n),s.start(),()=>{s.stop(),s.disconnect(n)}})(Mc),R7=((t,e,n,s,r)=>(i,{curve:o,oversample:a,...c})=>{const u=i.createWaveShaper(),l=i.createWaveShaper();sn(u,c),sn(l,c);const d=n(i,{...c,gain:1}),h=n(i,{...c,gain:-1}),f=n(i,{...c,gain:1}),p=n(i,{...c,gain:-1});let g=null,_=!1,m=null;const y={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(v){d.channelCount=v,h.channelCount=v,u.channelCount=v,f.channelCount=v,l.channelCount=v,p.channelCount=v},get channelCountMode(){return u.channelCountMode},set channelCountMode(v){d.channelCountMode=v,h.channelCountMode=v,u.channelCountMode=v,f.channelCountMode=v,l.channelCountMode=v,p.channelCountMode=v},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(v){d.channelInterpretation=v,h.channelInterpretation=v,u.channelInterpretation=v,f.channelInterpretation=v,l.channelInterpretation=v,p.channelInterpretation=v},get context(){return u.context},get curve(){return m},set curve(v){if(null!==v&&v.length<2)throw e();if(null===v)u.curve=v,l.curve=v;else{const S=v.length,C=new Float32Array(S+2-S%2),E=new Float32Array(S+2-S%2);C[0]=v[0],E[0]=-v[S-1];const R=Math.ceil((S+1)/2),N=(S+1)/2-1;for(let F=1;F<R;F+=1){const I=F/R*N,B=Math.floor(I),z=Math.ceil(I);C[F]=B===z?v[B]:(1-(I-B))*v[B]+(1-(z-I))*v[z],E[F]=B===z?-v[S-1-B]:-(1-(I-B))*v[S-1-B]-(1-(z-I))*v[S-1-z]}C[R]=S%2==1?v[R-1]:(v[R-2]+v[R-1])/2,u.curve=C,l.curve=E}m=v,_&&(s(m)&&null===g?g=t(i,d):null!==g&&(g(),g=null))},get inputs(){return[d]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(v){u.oversample=v,l.oversample=v},addEventListener:(...v)=>d.addEventListener(v[0],v[1],v[2]),dispatchEvent:(...v)=>d.dispatchEvent(v[0]),removeEventListener:(...v)=>d.removeEventListener(v[0],v[1],v[2])};return null!==o&&(y.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==y.oversample&&(y.oversample=a),r(Tc(y,f),()=>{d.connect(u).connect(f),d.connect(h).connect(l).connect(p).connect(f),_=!0,s(m)&&(g=t(i,d))},()=>{d.disconnect(u),u.disconnect(f),d.disconnect(h),h.disconnect(l),l.disconnect(p),p.disconnect(f),_=!1,null!==g&&(g(),g=null)})})(z1,Yt,ss,M1,Gi),Pp=((t,e,n,s,r,i,o)=>(a,c)=>{const u=a.createWaveShaper();if(null!==i&&"webkitAudioContext"===i.name&&void 0===a.createGain().gain.automationRate)return n(a,c);sn(u,c);const l=null===c.curve||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(null!==l&&l.length<2)throw e();St(u,{curve:l},"curve"),St(u,c,"oversample");let d=null,h=!1;return o(u,"curve",g=>()=>g.call(u),g=>_=>(g.call(u,_),h&&(s(_)&&null===d?d=t(a,u):!s(_)&&null!==d&&(d(),d=null)),_)),r(u,()=>{h=!0,s(u.curve)&&(d=t(a,u))},()=>{h=!1,null!==d&&(d(),d=null)})})(z1,Yt,R7,M1,Gi,li,Wl),k7=((t,e,n,s,r,i,o,a,c,u)=>(l,{coneInnerAngle:d,coneOuterAngle:h,coneOuterGain:f,distanceModel:p,maxDistance:g,orientationX:_,orientationY:m,orientationZ:y,panningModel:D,positionX:b,positionY:v,positionZ:S,refDistance:C,rolloffFactor:E,...R})=>{const N=l.createPanner();if(R.channelCount>2||"max"===R.channelCountMode)throw o();sn(N,R);const F={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},I=n(l,{...F,channelInterpretation:"speakers",numberOfInputs:6}),B=s(l,{...R,gain:1}),z=s(l,{...F,gain:1}),X=s(l,{...F,gain:0}),$=s(l,{...F,gain:0}),ee=s(l,{...F,gain:0}),pe=s(l,{...F,gain:0}),re=s(l,{...F,gain:0}),Ae=r(l,256,6,1),Te=i(l,{...F,curve:new Float32Array([1,1]),oversample:"none"});let mt=[_,m,y],an=[b,v,S];const Zn=new Float32Array(1);Ae.onaudioprocess=({inputBuffer:V})=>{const cn=[c(V,Zn,0),c(V,Zn,1),c(V,Zn,2)];cn.some((zc,Gc)=>zc!==mt[Gc])&&(N.setOrientation(...cn),mt=cn);const qr=[c(V,Zn,3),c(V,Zn,4),c(V,Zn,5)];qr.some((zc,Gc)=>zc!==an[Gc])&&(N.setPosition(...qr),an=qr)},Object.defineProperty(X.gain,"defaultValue",{get:()=>0}),Object.defineProperty($.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ee.gain,"defaultValue",{get:()=>0}),Object.defineProperty(pe.gain,"defaultValue",{get:()=>0}),Object.defineProperty(re.gain,"defaultValue",{get:()=>0});const Pe={get bufferSize(){},get channelCount(){return N.channelCount},set channelCount(V){if(V>2)throw o();B.channelCount=V,N.channelCount=V},get channelCountMode(){return N.channelCountMode},set channelCountMode(V){if("max"===V)throw o();B.channelCountMode=V,N.channelCountMode=V},get channelInterpretation(){return N.channelInterpretation},set channelInterpretation(V){B.channelInterpretation=V,N.channelInterpretation=V},get coneInnerAngle(){return N.coneInnerAngle},set coneInnerAngle(V){N.coneInnerAngle=V},get coneOuterAngle(){return N.coneOuterAngle},set coneOuterAngle(V){N.coneOuterAngle=V},get coneOuterGain(){return N.coneOuterGain},set coneOuterGain(V){if(V<0||V>1)throw e();N.coneOuterGain=V},get context(){return N.context},get distanceModel(){return N.distanceModel},set distanceModel(V){N.distanceModel=V},get inputs(){return[B]},get maxDistance(){return N.maxDistance},set maxDistance(V){if(V<0)throw new RangeError;N.maxDistance=V},get numberOfInputs(){return N.numberOfInputs},get numberOfOutputs(){return N.numberOfOutputs},get orientationX(){return z.gain},get orientationY(){return X.gain},get orientationZ(){return $.gain},get panningModel(){return N.panningModel},set panningModel(V){N.panningModel=V},get positionX(){return ee.gain},get positionY(){return pe.gain},get positionZ(){return re.gain},get refDistance(){return N.refDistance},set refDistance(V){if(V<0)throw new RangeError;N.refDistance=V},get rolloffFactor(){return N.rolloffFactor},set rolloffFactor(V){if(V<0)throw new RangeError;N.rolloffFactor=V},addEventListener:(...V)=>B.addEventListener(V[0],V[1],V[2]),dispatchEvent:(...V)=>B.dispatchEvent(V[0]),removeEventListener:(...V)=>B.removeEventListener(V[0],V[1],V[2])};return d!==Pe.coneInnerAngle&&(Pe.coneInnerAngle=d),h!==Pe.coneOuterAngle&&(Pe.coneOuterAngle=h),f!==Pe.coneOuterGain&&(Pe.coneOuterGain=f),p!==Pe.distanceModel&&(Pe.distanceModel=p),g!==Pe.maxDistance&&(Pe.maxDistance=g),_!==Pe.orientationX.value&&(Pe.orientationX.value=_),m!==Pe.orientationY.value&&(Pe.orientationY.value=m),y!==Pe.orientationZ.value&&(Pe.orientationZ.value=y),D!==Pe.panningModel&&(Pe.panningModel=D),b!==Pe.positionX.value&&(Pe.positionX.value=b),v!==Pe.positionY.value&&(Pe.positionY.value=v),S!==Pe.positionZ.value&&(Pe.positionZ.value=S),C!==Pe.refDistance&&(Pe.refDistance=C),E!==Pe.rolloffFactor&&(Pe.rolloffFactor=E),(1!==mt[0]||0!==mt[1]||0!==mt[2])&&N.setOrientation(...mt),(0!==an[0]||0!==an[1]||0!==an[2])&&N.setPosition(...an),u(Tc(Pe,N),()=>{B.connect(N),t(B,Te,0,0),Te.connect(z).connect(I,0,0),Te.connect(X).connect(I,0,1),Te.connect($).connect(I,0,2),Te.connect(ee).connect(I,0,3),Te.connect(pe).connect(I,0,4),Te.connect(re).connect(I,0,5),I.connect(Ae).connect(l.destination)},()=>{B.disconnect(N),a(B,Te,0,0),Te.disconnect(z),z.disconnect(I),Te.disconnect(X),X.disconnect(I),Te.disconnect($),$.disconnect(I),Te.disconnect(ee),ee.disconnect(I),Te.disconnect(pe),pe.disconnect(I),Te.disconnect(re),re.disconnect(I),I.disconnect(Ae),Ae.disconnect(l.destination)})})(Tp,Yt,Wi,ss,Gl,Pp,Nn,Ip,x1,Gi),G1=(t=>(e,n)=>{const s=e.createPanner();return void 0===s.orientationX?t(e,n):(sn(s,n),Ot(s,n,"orientationX"),Ot(s,n,"orientationY"),Ot(s,n,"orientationZ"),Ot(s,n,"positionX"),Ot(s,n,"positionY"),Ot(s,n,"positionZ"),St(s,n,"coneInnerAngle"),St(s,n,"coneOuterAngle"),St(s,n,"coneOuterGain"),St(s,n,"distanceModel"),St(s,n,"maxDistance"),St(s,n,"panningModel"),St(s,n,"refDistance"),St(s,n,"rolloffFactor"),s)})(k7),F7=((t,e,n,s,r,i,o,a,c,u)=>()=>{const l=new WeakMap;let d=null;const h=function(){var f=G(function*(p,g){let _=null,m=i(p);const y={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},D={...y,coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor},b=An(m,g);if("bufferSize"in m)_=s(g,{...y,gain:1});else if(!b){const v={...D,orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value};m=r(g,v)}if(l.set(g,null===_?m:_),null!==_){if(null===d){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const I=new o(6,p.context.length,g.sampleRate),B=e(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});B.connect(I.destination),d=G(function*(){const z=yield Promise.all([p.orientationX,p.orientationY,p.orientationZ,p.positionX,p.positionY,p.positionZ].map(function(){var X=G(function*($,ee){const pe=n(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===ee?1:0});return yield a(I,$,pe.offset),pe});return function($,ee){return X.apply(this,arguments)}}()));for(let X=0;X<6;X+=1)z[X].connect(B,0,X),z[X].start(0);return u(I)})()}const v=yield d,S=s(g,{...y,gain:1});yield c(p,g,S);const C=[];for(let I=0;I<v.numberOfChannels;I+=1)C.push(v.getChannelData(I));let E=[C[0][0],C[1][0],C[2][0]],R=[C[3][0],C[4][0],C[5][0]],N=s(g,{...y,gain:1}),F=r(g,{...D,orientationX:E[0],orientationY:E[1],orientationZ:E[2],positionX:R[0],positionY:R[1],positionZ:R[2]});S.connect(N).connect(F.inputs[0]),F.connect(_);for(let I=128;I<v.length;I+=128){const B=[C[0][I],C[1][I],C[2][I]],z=[C[3][I],C[4][I],C[5][I]];if(B.some((X,$)=>X!==E[$])||z.some((X,$)=>X!==R[$])){E=B,R=z;const X=I/g.sampleRate;N.gain.setValueAtTime(0,X),N=s(g,{...y,gain:0}),F=r(g,{...D,orientationX:E[0],orientationY:E[1],orientationZ:E[2],positionX:R[0],positionY:R[1],positionZ:R[2]}),N.gain.setValueAtTime(1,X),S.connect(N).connect(F.inputs[0]),F.connect(_)}}return _}return b?(yield t(g,p.orientationX,m.orientationX),yield t(g,p.orientationY,m.orientationY),yield t(g,p.orientationZ,m.orientationZ),yield t(g,p.positionX,m.positionX),yield t(g,p.positionY,m.positionY),yield t(g,p.positionZ,m.positionZ)):(yield a(g,p.orientationX,m.orientationX),yield a(g,p.orientationY,m.orientationY),yield a(g,p.orientationZ,m.orientationZ),yield a(g,p.positionX,m.positionX),yield a(g,p.positionY,m.positionY),yield a(g,p.positionZ,m.positionZ)),Ec(m)?yield c(p,g,m.inputs[0]):yield c(p,g,m),m});return function(g,_){return f.apply(this,arguments)}}();return{render(f,p){const g=l.get(p);return void 0!==g?Promise.resolve(g):h(f,p)}}})(jr,Wi,Ac,ss,G1,wt,fn,Br,_n,Fp),P7=((t,e,n,s,r,i,o)=>class extends t{constructor(c,u){const l=r(c),d={...y9,...u},h=n(l,d),f=i(l);super(c,!1,h,f?s():null),this._nativePannerNode=h,this._orientationX=e(this,f,h.orientationX,zn,ns),this._orientationY=e(this,f,h.orientationY,zn,ns),this._orientationZ=e(this,f,h.orientationZ,zn,ns),this._positionX=e(this,f,h.positionX,zn,ns),this._positionY=e(this,f,h.positionY,zn,ns),this._positionZ=e(this,f,h.positionZ,zn,ns),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(c){this._nativePannerNode.coneInnerAngle=c}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(c){this._nativePannerNode.coneOuterAngle=c}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(c){this._nativePannerNode.coneOuterGain=c}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(c){this._nativePannerNode.distanceModel=c}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(c){this._nativePannerNode.maxDistance=c}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(c){this._nativePannerNode.panningModel=c}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(c){this._nativePannerNode.refDistance=c}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(c){this._nativePannerNode.rolloffFactor=c}})(Ht,ir,G1,F7,pt,st,Uo),V7=(t=>(e,{disableNormalization:n,imag:s,real:r})=>{const i=s instanceof Float32Array?s:new Float32Array(s),o=r instanceof Float32Array?r:new Float32Array(r),a=e.createPeriodicWave(o,i,{disableNormalization:n});if(Array.from(s).length<2)throw t();return a})(Lr),L7=((t,e,n,s)=>class jO{constructor(i,o){const a=e(i),c=(t=>{const{imag:e,real:n}=t;return void 0===e?void 0===n?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:void 0===n?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}})({...D9,...o}),u=t(a,c);return n.add(u),u}static[Symbol.hasInstance](i){return null!==i&&"object"==typeof i&&Object.getPrototypeOf(i)===jO.prototype||n.has(i)}})(V7,pt,new WeakSet),j7=((t,e,n,s,r,i)=>{const a=new Float32Array([1,1]),c=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},l={...u,oversample:"none"},f=(p,g,_,m,y)=>{if(1===g)return((p,g,_,m)=>{const y=new Float32Array(16385),D=new Float32Array(16385);for(let R=0;R<16385;R+=1){const N=R/16384*c;y[R]=Math.cos(N),D[R]=Math.sin(N)}const b=n(p,{...u,gain:0}),v=s(p,{...l,curve:y}),S=s(p,{...l,curve:a}),C=n(p,{...u,gain:0}),E=s(p,{...l,curve:D});return{connectGraph(){g.connect(b),g.connect(void 0===S.inputs?S:S.inputs[0]),g.connect(C),S.connect(_),_.connect(void 0===v.inputs?v:v.inputs[0]),_.connect(void 0===E.inputs?E:E.inputs[0]),v.connect(b.gain),E.connect(C.gain),b.connect(m,0,0),C.connect(m,0,1)},disconnectGraph(){g.disconnect(b),g.disconnect(void 0===S.inputs?S:S.inputs[0]),g.disconnect(C),S.disconnect(_),_.disconnect(void 0===v.inputs?v:v.inputs[0]),_.disconnect(void 0===E.inputs?E:E.inputs[0]),v.disconnect(b.gain),E.disconnect(C.gain),b.disconnect(m,0,0),C.disconnect(m,0,1)}}})(p,_,m,y);if(2===g)return((p,g,_,m)=>{const y=new Float32Array(16385),D=new Float32Array(16385),b=new Float32Array(16385),v=new Float32Array(16385),S=Math.floor(8192.5);for(let ee=0;ee<16385;ee+=1)if(ee>S){const pe=(ee-S)/(16384-S)*c;y[ee]=Math.cos(pe),D[ee]=Math.sin(pe),b[ee]=0,v[ee]=1}else{const pe=ee/(16384-S)*c;y[ee]=1,D[ee]=0,b[ee]=Math.cos(pe),v[ee]=Math.sin(pe)}const C=e(p,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),E=n(p,{...u,gain:0}),R=s(p,{...l,curve:y}),N=n(p,{...u,gain:0}),F=s(p,{...l,curve:D}),I=s(p,{...l,curve:a}),B=n(p,{...u,gain:0}),z=s(p,{...l,curve:b}),X=n(p,{...u,gain:0}),$=s(p,{...l,curve:v});return{connectGraph(){g.connect(C),g.connect(void 0===I.inputs?I:I.inputs[0]),C.connect(E,0),C.connect(N,0),C.connect(B,1),C.connect(X,1),I.connect(_),_.connect(void 0===R.inputs?R:R.inputs[0]),_.connect(void 0===F.inputs?F:F.inputs[0]),_.connect(void 0===z.inputs?z:z.inputs[0]),_.connect(void 0===$.inputs?$:$.inputs[0]),R.connect(E.gain),F.connect(N.gain),z.connect(B.gain),$.connect(X.gain),E.connect(m,0,0),B.connect(m,0,0),N.connect(m,0,1),X.connect(m,0,1)},disconnectGraph(){g.disconnect(C),g.disconnect(void 0===I.inputs?I:I.inputs[0]),C.disconnect(E,0),C.disconnect(N,0),C.disconnect(B,1),C.disconnect(X,1),I.disconnect(_),_.disconnect(void 0===R.inputs?R:R.inputs[0]),_.disconnect(void 0===F.inputs?F:F.inputs[0]),_.disconnect(void 0===z.inputs?z:z.inputs[0]),_.disconnect(void 0===$.inputs?$:$.inputs[0]),R.disconnect(E.gain),F.disconnect(N.gain),z.disconnect(B.gain),$.disconnect(X.gain),E.disconnect(m,0,0),B.disconnect(m,0,0),N.disconnect(m,0,1),X.disconnect(m,0,1)}}})(p,_,m,y);throw r()};return(p,{channelCount:g,channelCountMode:_,pan:m,...y})=>{if("max"===_)throw r();const D=t(p,{...y,channelCount:1,channelCountMode:_,numberOfInputs:2}),b=n(p,{...y,channelCount:g,channelCountMode:_,gain:1}),v=n(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:m});let{connectGraph:S,disconnectGraph:C}=f(p,g,b,v,D);Object.defineProperty(v.gain,"defaultValue",{get:()=>0}),Object.defineProperty(v.gain,"maxValue",{get:()=>1}),Object.defineProperty(v.gain,"minValue",{get:()=>-1});const E={get bufferSize(){},get channelCount(){return b.channelCount},set channelCount(I){b.channelCount!==I&&(R&&C(),({connectGraph:S,disconnectGraph:C}=f(p,I,b,v,D)),R&&S()),b.channelCount=I},get channelCountMode(){return b.channelCountMode},set channelCountMode(I){if("clamped-max"===I||"max"===I)throw r();b.channelCountMode=I},get channelInterpretation(){return b.channelInterpretation},set channelInterpretation(I){b.channelInterpretation=I},get context(){return b.context},get inputs(){return[b]},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},get pan(){return v.gain},addEventListener:(...I)=>b.addEventListener(I[0],I[1],I[2]),dispatchEvent:(...I)=>b.dispatchEvent(I[0]),removeEventListener:(...I)=>b.removeEventListener(I[0],I[1],I[2])};let R=!1;return i(Tc(E,D),()=>{S(),R=!0},()=>{C(),R=!1})}})(Wi,zl,ss,Pp,Nn,Gi),W1=((t,e)=>(n,s)=>{const r=s.channelCountMode;if("clamped-max"===r)throw e();if(void 0===n.createStereoPanner)return t(n,s);const i=n.createStereoPanner();return sn(i,s),Ot(i,s,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>r,set:o=>{if(o!==r)throw e()}}),i})(j7,Nn),B7=((t,e,n,s,r)=>()=>{const i=new WeakMap,o=function(){var a=G(function*(c,u){let l=n(c);const d=An(l,u);return d||(l=e(u,{channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value})),i.set(u,l),d?yield t(u,c.pan,l.pan):yield s(u,c.pan,l.pan),Ec(l)?yield r(c,u,l.inputs[0]):yield r(c,u,l),l});return function(u,l){return a.apply(this,arguments)}}();return{render(a,c){const u=i.get(c);return void 0!==u?Promise.resolve(u):o(a,c)}}})(jr,W1,wt,Br,_n),U7=((t,e,n,s,r,i)=>class extends t{constructor(a,c){const u=r(a),l={...A9,...c},d=n(u,l),h=i(u);super(a,!1,d,h?s():null),this._pan=e(this,h,d.pan)}get pan(){return this._pan}})(Ht,ir,W1,B7,pt,st),H7=((t,e,n)=>()=>{const s=new WeakMap,r=function(){var i=G(function*(o,a){let c=e(o);return An(c,a)||(c=t(a,{channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample})),s.set(a,c),Ec(c)?yield n(o,a,c.inputs[0]):yield n(o,a,c),c});return function(a,c){return i.apply(this,arguments)}}();return{render(i,o){const a=s.get(o);return void 0!==a?Promise.resolve(a):r(i,o)}}})(Pp,wt,_n),$7=((t,e,n,s,r,i,o)=>class extends t{constructor(c,u){const l=r(c),d={...P9,...u},h=n(l,d);super(c,!0,h,i(l)?s():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=h,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(c){if(null===c)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(c.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=c}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(c){this._nativeWaveShaperNode.oversample=c}})(Ht,Yt,Pp,H7,pt,st,Uo),Q1=(t=>null!==t&&t.isSecureContext)(rr),jw=(t=>(e,n,s)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get:()=>Math.round(e*n)},currentTime:{configurable:!0,get:()=>e}});try{return s()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}})(rr),Z1=new WeakMap,q7=((t,e)=>n=>{let s=t.get(n);if(void 0!==s)return s;if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),t.set(n,s),s})(Z1,fn),z7=Q1?((t,e,n,s,r,i,o,a,c,u,l,d,h)=>{let f=0;return(p,g,_={credentials:"omit"})=>{const m=l.get(p);if(void 0!==m&&m.has(g))return Promise.resolve();const y=u.get(p);if(void 0!==y){const v=y.get(g);if(void 0!==v)return v}const D=i(p),b=void 0===D.audioWorklet?r(g).then(([v,S])=>{const[C,E]=o1(v,S);return n(`${C};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${E}\n})})(window,'_AWGS')`)}).then(()=>{const v=h._AWGS.pop();if(void 0===v)throw new SyntaxError;s(D.currentTime,D.sampleRate,()=>v(class{},void 0,(S,C)=>{if(""===S.trim())throw e();const E=ww.get(D);if(void 0!==E){if(E.has(S))throw e();c1(C),a1(C.parameterDescriptors),E.set(S,C)}else c1(C),a1(C.parameterDescriptors),ww.set(D,new Map([[S,C]]))},D.sampleRate,void 0,void 0))}):Promise.all([r(g),Promise.resolve(t(d,d))]).then(([[v,S],C])=>{const E=f+1;f=E;const[R,N]=o1(v,S),X=new Blob([`${R};((AudioWorkletProcessor,registerProcessor)=>{${N}\n})(${C?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${C?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${C?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${E}',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),$=URL.createObjectURL(X);return D.audioWorklet.addModule($,_).then(()=>{if(a(D))return D;const ee=o(D);return ee.audioWorklet.addModule($,_).then(()=>ee)}).then(ee=>{if(null===c)throw new SyntaxError;try{new c(ee,`__sac${E}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL($))});return void 0===y?u.set(p,new Map([[g,b]])):y.set(g,b),b.then(()=>{const v=l.get(p);void 0===v?l.set(p,new Set([g])):v.add(g)}).finally(()=>{const v=u.get(p);void 0!==v&&v.delete(g)}),b}})(ms,Nn,(t=>e=>new Promise((n,s)=>{if(null===t)return void s(new SyntaxError);const r=t.document.head;if(null===r)s(new SyntaxError);else{const i=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),c=t.onerror,u=()=>{t.onerror=c,URL.revokeObjectURL(a)};t.onerror=(l,d,h,f,p)=>d===a||d===t.location.href&&1===h&&1===f?(u(),s(p),!1):null!==c?c(l,d,h,f,p):void 0,i.onerror=()=>{u(),s(new SyntaxError)},i.onload=()=>{u(),n()},i.src=a,i.type="module",r.appendChild(i)}}))(rr),jw,function(){var e=G(function*(n){try{const s=yield fetch(n);if(s.ok)return[yield s.text(),s.url]}catch{}throw new DOMException("","AbortError")});return function(n){return e.apply(this,arguments)}}(),pt,q7,st,xc,new WeakMap,new WeakMap,((t,e)=>G(function*(){if(null===t)return!0;if(null===e)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),r=URL.createObjectURL(n);let i=!1,o=!1;try{yield s.audioWorklet.addModule(r);const a=new t(s,"a",{numberOfOutputs:0}),c=s.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>o=!0,c.connect(a),c.start(0),yield s.startRendering()}catch{}finally{URL.revokeObjectURL(r)}return i&&!o}))(xc,fn),rr):void 0,G7=((t,e)=>n=>t(n)||e(n))(Rw,st),W7=((t,e,n,s,r,i,o,a,c,u,l)=>(d,h)=>{const f=o(d)?d:i(d);if(r.has(h)){const p=new DOMException("","DataCloneError");return Promise.reject(p)}try{r.add(h)}catch{}return e(c,()=>c(f))?f.decodeAudioData(h).then(p=>(w1(h).catch(()=>{}),e(a,()=>a(p))||l(p),t.add(p),p)):new Promise((p,g)=>{const _=function(){var y=G(function*(){try{yield w1(h)}catch{}});return function(){return y.apply(this,arguments)}}(),m=y=>{g(y),_()};try{f.decodeAudioData(h,y=>{"function"!=typeof y.copyFromChannel&&(u(y),bw(y)),t.add(y),_().then(()=>p(y))},y=>{m(null===y?new DOMException("","EncodingError"):y)})}catch(y){m(y)}})})(Fw,ms,0,0,new WeakSet,pt,G7,bp,Bo,Pw,Vw),Y1=((t,e,n,s,r,i,o,a,c,u,l,d,h,f,p,g,_,m,y,D)=>class extends p{constructor(v,S){super(v,S),this._nativeContext=v,this._audioWorklet=void 0===t?void 0:{addModule:(C,E)=>t(this,C,E)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new r(this)}createBuffer(v,S,C){return new n({length:S,numberOfChannels:v,sampleRate:C})}createBufferSource(){return new s(this)}createChannelMerger(v=6){return new i(this,{numberOfInputs:v})}createChannelSplitter(v=6){return new o(this,{numberOfOutputs:v})}createConstantSource(){return new a(this)}createConvolver(){return new c(this)}createDelay(v=1){return new l(this,{maxDelayTime:v})}createDynamicsCompressor(){return new d(this)}createGain(){return new h(this)}createIIRFilter(v,S){return new f(this,{feedback:S,feedforward:v})}createOscillator(){return new g(this)}createPanner(){return new _(this)}createPeriodicWave(v,S,C={disableNormalization:!1}){return new m(this,{...C,imag:S,real:v})}createStereoPanner(){return new y(this)}createWaveShaper(){return new D(this)}decodeAudioData(v,S,C){return u(this._nativeContext,v).then(E=>("function"==typeof S&&S(E),E),E=>{throw"function"==typeof C&&C(E),E})}})(z7,s7,r7,o7,u7,h7,p7,_7,v7,W7,D7,b7,E7,M7,Lw,O7,P7,L7,U7,$7),Q7=((t,e,n,s)=>class extends t{constructor(i,o){const a=n(i),c=((t,e)=>t.createMediaElementSource(e.mediaElement))(a,o);if(s(a))throw TypeError();super(i,!0,c,null),this._nativeMediaElementAudioSourceNode=c}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(Ht,0,pt,st),Z7=((t,e,n,s)=>class extends t{constructor(i,o){const a=n(i);if(s(a))throw new TypeError;const u=((t,e)=>{const n=t.createMediaStreamDestination();return sn(n,e),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n})(a,{...D6,...o});super(i,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(Ht,0,pt,st),Y7=((t,e,n,s)=>class extends t{constructor(i,o){const a=n(i),c=((t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,o)=>i.id<o.id?-1:i.id>o.id?1:0);const s=n.slice(0,1),r=t.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(r,"mediaStream",{value:e}),r})(a,o);if(s(a))throw new TypeError;super(i,!0,c,null),this._nativeMediaStreamAudioSourceNode=c}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(Ht,0,pt,st),X7=((t,e)=>(n,{mediaStreamTrack:s})=>{if("function"==typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(s);const r=new MediaStream([s]),i=n.createMediaStreamSource(r);if("audio"!==s.kind)throw t();if(e(n))throw new TypeError;return i})(Yt,st),K7=((t,e,n)=>class extends t{constructor(r,i){const o=n(r);super(r,!0,e(o,i),null)}})(Ht,X7,pt),J7=((t,e,n,s,r,i,o,a,c)=>class extends t{constructor(l={}){if(null===c)throw new Error("Missing the native AudioContext constructor.");let d;try{d=new c(l)}catch(p){throw 12===p.code&&"sampleRate is not in range"===p.message?n():p}if(null===d)throw s();if(!(t=>void 0===t||"number"==typeof t||"string"==typeof t&&("balanced"===t||"interactive"===t||"playback"===t))(l.latencyHint))throw new TypeError(`The provided value '${l.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==l.sampleRate&&d.sampleRate!==l.sampleRate)throw n();super(d,2);const{latencyHint:h}=l,{sampleRate:f}=d;if(this._baseLatency="number"==typeof d.baseLatency?d.baseLatency:"balanced"===h?512/f:"interactive"===h||void 0===h?256/f:"playback"===h?1024/f:128*Math.max(2,Math.min(128,Math.round(h*f/128)))/f,this._nativeAudioContext=d,"webkitAudioContext"===c.name?(this._nativeGainNode=d.createGain(),this._nativeOscillatorNode=d.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(d.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===d.state){this._state="suspended";const p=()=>{"suspended"===this._state&&(this._state=null),d.removeEventListener("statechange",p)};d.addEventListener("statechange",p)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then(()=>{throw e()}):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then(()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Sp(this)}))}createMediaElementSource(l){return new r(this,{mediaElement:l})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(l){return new o(this,{mediaStream:l})}createMediaStreamTrackSource(l){return new a(this,{mediaStreamTrack:l})}resume(){return"suspended"===this._state?new Promise((l,d)=>{const h=()=>{this._nativeAudioContext.removeEventListener("statechange",h),"running"===this._nativeAudioContext.state?l():this.resume().then(l,d)};this._nativeAudioContext.addEventListener("statechange",h)}):this._nativeAudioContext.resume().catch(l=>{throw void 0===l||15===l.code?e():l})}suspend(){return this._nativeAudioContext.suspend().catch(l=>{throw void 0===l?e():l})}})(Y1,Yt,Nn,I1,Q7,Z7,Y7,K7,li),Bw=(t=>e=>{const n=t.get(e);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})($1),eQ=(t=>(e,n)=>{t(e).add(n)})(Bw),X1=(t=>(e,n,s=0,r=0)=>{const i=e[s];if(void 0===i)throw t();return Mp(n)?i.connect(n,0,r):i.connect(n,0)})(Lr),tQ=(t=>(e,n)=>{t(e).delete(n)})(Bw),K1=(t=>(e,n=void 0,s=void 0,r=0)=>void 0===n?e.forEach(i=>i.disconnect()):"number"==typeof n?Op(t,e,n).disconnect():Mp(n)?void 0===s?e.forEach(i=>i.disconnect(n)):void 0===r?Op(t,e,s).disconnect(n,0):Op(t,e,s).disconnect(n,0,r):void 0===s?e.forEach(i=>i.disconnect(n)):Op(t,e,s).disconnect(n,0))(Lr),J1=new WeakMap,nQ=((t,e)=>n=>e(t,n))(J1,sr),sQ=((t,e,n,s,r,i,o,a,c,u,l,d,h)=>(f,p,g,_)=>{if(0===_.numberOfInputs&&0===_.numberOfOutputs)throw c();const m=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(m.some(L=>L<1))throw c();if(m.length!==_.numberOfOutputs)throw e();if("explicit"!==_.channelCountMode)throw c();const y=_.channelCount*_.numberOfInputs,D=m.reduce((L,ge)=>L+ge,0),b=void 0===g.parameterDescriptors?0:g.parameterDescriptors.length;if(y+b>6||D>6)throw c();const v=new MessageChannel,S=[],C=[];for(let L=0;L<_.numberOfInputs;L+=1)S.push(o(f,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),C.push(r(f,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));const E=[];if(void 0!==g.parameterDescriptors)for(const{defaultValue:L,maxValue:ge,minValue:un,name:Mt}of g.parameterDescriptors){const qe=i(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==_.parameterData[Mt]?_.parameterData[Mt]:void 0===L?0:L});Object.defineProperties(qe.offset,{defaultValue:{get:()=>void 0===L?0:L},maxValue:{get:()=>void 0===ge?zn:ge},minValue:{get:()=>void 0===un?ns:un}}),E.push(qe)}const R=s(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,y+b)}),N=b1(p,f.sampleRate),F=a(f,N,y+b,Math.max(1,D)),I=r(f,{channelCount:Math.max(1,D),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,D)}),B=[];for(let L=0;L<_.numberOfOutputs;L+=1)B.push(s(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:m[L]}));for(let L=0;L<_.numberOfInputs;L+=1){S[L].connect(C[L]);for(let ge=0;ge<_.channelCount;ge+=1)C[L].connect(R,ge,L*_.channelCount+ge)}const z=new y1(void 0===g.parameterDescriptors?[]:g.parameterDescriptors.map(({name:L},ge)=>{const un=E[ge];return un.connect(R,0,y+ge),un.start(0),[L,un.offset]}));R.connect(F);let X=_.channelInterpretation,$=null;const ee=0===_.numberOfOutputs?[F]:B,pe={get bufferSize(){return N},get channelCount(){return _.channelCount},set channelCount(L){throw n()},get channelCountMode(){return _.channelCountMode},set channelCountMode(L){throw n()},get channelInterpretation(){return X},set channelInterpretation(L){for(const ge of S)ge.channelInterpretation=L;X=L},get context(){return F.context},get inputs(){return S},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},get onprocessorerror(){return $},set onprocessorerror(L){"function"==typeof $&&pe.removeEventListener("processorerror",$),$="function"==typeof L?L:null,"function"==typeof $&&pe.addEventListener("processorerror",$)},get parameters(){return z},get port(){return v.port2},addEventListener:(...L)=>F.addEventListener(L[0],L[1],L[2]),connect:t.bind(null,ee),disconnect:u.bind(null,ee),dispatchEvent:(...L)=>F.dispatchEvent(L[0]),removeEventListener:(...L)=>F.removeEventListener(L[0],L[1],L[2])},re=new Map;v.port1.addEventListener=(L=>(...ge)=>{if("message"===ge[0]){const un="function"==typeof ge[1]?ge[1]:"object"==typeof ge[1]&&null!==ge[1]&&"function"==typeof ge[1].handleEvent?ge[1].handleEvent:null;if(null!==un){const Mt=re.get(ge[1]);void 0!==Mt?ge[1]=Mt:(ge[1]=qe=>{l(f.currentTime,f.sampleRate,()=>un(qe))},re.set(un,ge[1]))}}return L.call(v.port1,ge[0],ge[1],ge[2])})(v.port1.addEventListener),v.port1.removeEventListener=(L=>(...ge)=>{if("message"===ge[0]){const un=re.get(ge[1]);void 0!==un&&(re.delete(ge[1]),ge[1]=un)}return L.call(v.port1,ge[0],ge[1],ge[2])})(v.port1.removeEventListener);let Ae=null;Object.defineProperty(v.port1,"onmessage",{get:()=>Ae,set:L=>{"function"==typeof Ae&&v.port1.removeEventListener("message",Ae),Ae="function"==typeof L?L:null,"function"==typeof Ae&&(v.port1.addEventListener("message",Ae),v.port1.start())}}),g.prototype.port=v.port1;let Te=null;((t,e,n,s)=>{let r=Dw.get(t);void 0===r&&(r=new WeakMap,Dw.set(t,r));const i=U6(n,s);return r.set(e,i),i})(f,pe,g,_).then(L=>Te=L);const an=Np(_.numberOfInputs,_.channelCount),Zn=Np(_.numberOfOutputs,m),Pe=void 0===g.parameterDescriptors?[]:g.parameterDescriptors.reduce((L,{name:ge})=>({...L,[ge]:new Float32Array(128)}),{});let yi=!0;const to=()=>{_.numberOfOutputs>0&&F.disconnect(I);for(let L=0,ge=0;L<_.numberOfOutputs;L+=1){const un=B[L];for(let Mt=0;Mt<m[L];Mt+=1)I.disconnect(un,ge+Mt,Mt);ge+=m[L]}},V=new Map;F.onaudioprocess=({inputBuffer:L,outputBuffer:ge})=>{if(null!==Te){const un=d(pe);for(let Mt=0;Mt<N;Mt+=128){for(let qe=0;qe<_.numberOfInputs;qe+=1)for(let Ft=0;Ft<_.channelCount;Ft+=1)Ap(L,an[qe],Ft,Ft,Mt);void 0!==g.parameterDescriptors&&g.parameterDescriptors.forEach(({name:qe},Ft)=>{Ap(L,Pe,qe,y+Ft,Mt)});for(let qe=0;qe<_.numberOfInputs;qe+=1)for(let Ft=0;Ft<m[qe];Ft+=1)0===Zn[qe][Ft].byteLength&&(Zn[qe][Ft]=new Float32Array(128));try{const qe=an.map((js,no)=>{if(un[no].size>0)return V.set(no,N/128),js;const HD=V.get(no);return void 0===HD?[]:(js.every(RZ=>RZ.every(kZ=>0===kZ))&&(1===HD?V.delete(no):V.set(no,HD-1)),js)});yi=l(f.currentTime+Mt/f.sampleRate,f.sampleRate,()=>Te.process(qe,Zn,Pe));for(let js=0,no=0;js<_.numberOfOutputs;js+=1){for(let Td=0;Td<m[js];Td+=1)v1(ge,Zn[js],Td,no+Td,Mt);no+=m[js]}}catch(qe){yi=!1,pe.dispatchEvent(new ErrorEvent("processorerror",{colno:qe.colno,filename:qe.filename,lineno:qe.lineno,message:qe.message}))}if(!yi){for(let qe=0;qe<_.numberOfInputs;qe+=1){S[qe].disconnect(C[qe]);for(let Ft=0;Ft<_.channelCount;Ft+=1)C[Mt].disconnect(R,Ft,qe*_.channelCount+Ft)}if(void 0!==g.parameterDescriptors){const qe=g.parameterDescriptors.length;for(let Ft=0;Ft<qe;Ft+=1){const js=E[Ft];js.disconnect(R,0,y+Ft),js.stop()}}R.disconnect(F),F.onaudioprocess=null,cn?to():Gc();break}}}};let cn=!1;const qr=o(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),zc=()=>F.connect(qr).connect(f.destination),Gc=()=>{F.disconnect(qr),qr.disconnect()};return zc(),h(pe,()=>{if(yi){Gc(),_.numberOfOutputs>0&&F.connect(I);for(let L=0,ge=0;L<_.numberOfOutputs;L+=1){const un=B[L];for(let Mt=0;Mt<m[L];Mt+=1)I.connect(un,ge+Mt,Mt);ge+=m[L]}}cn=!0},()=>{yi&&(zc(),to()),cn=!1})})(X1,Lr,Yt,Wi,zl,Ac,ss,Gl,Nn,K1,jw,nQ,Gi),rQ=((t,e,n,s,r)=>(i,o,a,c,u,l)=>{if(null!==a)try{const d=new a(i,c,l),h=new Map;let f=null;if(Object.defineProperties(d,{channelCount:{get:()=>l.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>f,set:p=>{"function"==typeof f&&d.removeEventListener("processorerror",f),f="function"==typeof p?p:null,"function"==typeof f&&d.addEventListener("processorerror",f)}}}),d.addEventListener=(p=>(...g)=>{if("processorerror"===g[0]){const _="function"==typeof g[1]?g[1]:"object"==typeof g[1]&&null!==g[1]&&"function"==typeof g[1].handleEvent?g[1].handleEvent:null;if(null!==_){const m=h.get(g[1]);void 0!==m?g[1]=m:(g[1]=y=>{"error"===y.type?(Object.defineProperties(y,{type:{value:"processorerror"}}),_(y)):_(new ErrorEvent(g[0],{...y}))},h.set(_,g[1]))}}return p.call(d,"error",g[1],g[2]),p.call(d,...g)})(d.addEventListener),d.removeEventListener=(p=>(...g)=>{if("processorerror"===g[0]){const _=h.get(g[1]);void 0!==_&&(h.delete(g[1]),g[1]=_)}return p.call(d,"error",g[1],g[2]),p.call(d,g[0],g[1],g[2])})(d.removeEventListener),0!==l.numberOfOutputs){const p=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return d.connect(p).connect(i.destination),r(d,()=>p.disconnect(),()=>p.connect(i.destination))}return d}catch(d){throw 11===d.code?s():d}if(void 0===u)throw s();return(t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}})(l),e(i,o,u,l)})(Yt,sQ,ss,Nn,Gi),iQ=((t,e,n,s,r,i,o,a,c,u,l,d,h,f,p,g)=>(_,m,y)=>{const D=new WeakMap;let b=null;const v=function(){var S=G(function*(C,E){let R=l(C),N=null;const F=An(R,E),I=Array.isArray(m.outputChannelCount)?m.outputChannelCount:Array.from(m.outputChannelCount);if(null===d){const B=I.reduce((ee,pe)=>ee+pe,0),z=r(E,{channelCount:Math.max(1,B),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,B)}),X=[];for(let ee=0;ee<C.numberOfOutputs;ee+=1)X.push(s(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:I[ee]}));const $=o(E,{channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:1});$.connect=e.bind(null,X),$.disconnect=c.bind(null,X),N=[z,X,$]}else F||(R=new d(E,_));if(D.set(E,null===N?R:N[2]),null!==N){if(null===b){if(void 0===y)throw new Error("Missing the processor constructor.");if(null===h)throw new Error("Missing the native OfflineAudioContext constructor.");const pe=C.channelCount*C.numberOfInputs,re=void 0===y.parameterDescriptors?0:y.parameterDescriptors.length,Ae=pe+re;b=r5(C,0===Ae?null:yield function(){var mt=G(function*(){const an=new h(Ae,128*Math.ceil(C.context.length/128),E.sampleRate),Zn=[],Pe=[];for(let V=0;V<m.numberOfInputs;V+=1)Zn.push(o(an,{channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:1})),Pe.push(r(an,{channelCount:m.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:m.channelCount}));const yi=yield Promise.all(Array.from(C.parameters.values()).map(function(){var V=G(function*(cn){const qr=i(an,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:cn.value});return yield f(an,cn,qr.offset),qr});return function(cn){return V.apply(this,arguments)}}())),to=s(an,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,pe+re)});for(let V=0;V<m.numberOfInputs;V+=1){Zn[V].connect(Pe[V]);for(let cn=0;cn<m.channelCount;cn+=1)Pe[V].connect(to,cn,V*m.channelCount+cn)}for(const[V,cn]of yi.entries())cn.connect(to,0,pe+V),cn.start(0);return to.connect(an.destination),yield Promise.all(Zn.map(V=>p(C,an,V))),g(an)});return function(){return mt.apply(this,arguments)}}()(),E,m,I,y,u)}const B=yield b,z=n(E,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[X,$,ee]=N;null!==B&&(z.buffer=B,z.start(0)),z.connect(X);for(let pe=0,re=0;pe<C.numberOfOutputs;pe+=1){const Ae=$[pe];for(let Te=0;Te<I[pe];Te+=1)X.connect(Ae,re+Te,Te);re+=I[pe]}return ee}if(F)for(const[B,z]of C.parameters.entries())yield t(E,z,R.parameters.get(B));else for(const[B,z]of C.parameters.entries())yield f(E,z,R.parameters.get(B));return yield p(C,E,R),R});return function(E,R){return S.apply(this,arguments)}}();return{render(S,C){a(C,S);const E=D.get(C);return void 0!==E?Promise.resolve(E):v(S,C)}}})(jr,X1,Mc,Wi,zl,Ac,ss,tQ,K1,jw,wt,xc,fn,Br,_n,Fp),oQ=(t=>e=>t.get(e))(Z1),aQ=(t=>(e,n)=>{t.set(e,n)})(J1),eO=Q1?((t,e,n,s,r,i,o,a,c,u,l,d,h,f)=>class extends e{constructor(g,_,m){var y;const D=a(g),b=c(D),v=(t=>({...t,outputChannelCount:void 0!==t.outputChannelCount?t.outputChannelCount:1===t.numberOfInputs&&1===t.numberOfOutputs?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}))({...t5,...m});(t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}})(v);const S=ww.get(D),C=S?.get(_),E=b||"closed"!==D.state?D:null!==(y=o(D))&&void 0!==y?y:D,R=r(E,b?null:g.baseLatency,u,_,C,v);super(g,!0,R,b?s(_,v,C):null);const F=[];R.parameters.forEach((B,z)=>{const X=n(this,b,B);F.push([z,X])}),this._nativeAudioWorkletNode=R,this._onprocessorerror=null,this._parameters=new y1(F),b&&t(D,this);const{activeInputs:I}=i(this);d(R,I)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(g){const _="function"==typeof g?f(this,g):null;this._nativeAudioWorkletNode.onprocessorerror=_;const m=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==m&&m===_?g:m}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(eQ,Ht,ir,iQ,rQ,Gn,oQ,pt,st,xc,0,aQ,0,Ic):void 0,tO=((t,e)=>(n,s,r)=>{if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,s,r)}catch(i){throw"SyntaxError"===i.name?t():i}})(Nn,fn),nO=((t,e,n,s,r,i,o,a)=>(c,u)=>n(c).render(c,u).then(()=>Promise.all(Array.from(s(u)).map(l=>n(l).render(l,u)))).then(()=>r(u)).then(l=>("function"!=typeof l.copyFromChannel?(o(l),bw(l)):e(i,()=>i(l))||a(l),t.add(l),l)))(Fw,ms,Ow,Bw,Fp,bp,Pw,Vw),cQ=((t,e,n,s,r)=>class extends t{constructor(o,a,c){let u;if("number"==typeof o&&void 0!==a&&void 0!==c)u={length:a,numberOfChannels:o,sampleRate:c};else{if("object"!=typeof o)throw new Error("The given parameters are not valid.");u=o}const{length:l,numberOfChannels:d,sampleRate:h}={...f9,...u},f=s(d,l,h);e(Bo,()=>Bo(f))||f.addEventListener("statechange",(()=>{let p=0;const g=_=>{"running"===this._state&&(p>0?(f.removeEventListener("statechange",g),_.stopImmediatePropagation(),this._waitForThePromiseToSettle(_)):p+=1)};return g})()),super(f,d),this._length=l,this._nativeOfflineAudioContext=f,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Sp(this)}))}_waitForThePromiseToSettle(o){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}})(Y1,ms,Yt,tO,nO),uQ=((t,e)=>n=>{const s=t.get(n);return e(s)||e(n)})(Dp,Rw),lQ=((t,e)=>n=>t.has(n)||e(n))(_w,kw),dQ=((t,e)=>n=>t.has(n)||e(n))(yw,V1),hQ=((t,e)=>n=>{const s=t.get(n);return e(s)||e(n)})(Dp,st);var t;function Y(t,e){if(!t)throw new Error(e)}function On(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function sO(t){!t.isOffline&&"running"!==t.state&&Vp('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Uw=console;function Vp(...t){Uw.warn(...t)}function _s(t){return typeof t>"u"}function be(t){return!_s(t)}function ks(t){return"number"==typeof t}function Qi(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}function Rn(t){return Array.isArray(t)}function or(t){return"string"==typeof t}function Lp(t){return or(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function mQ(t,e,n){return new cQ(t,e,n)}const di="object"==typeof self?self:null,_Q=di&&(di.hasOwnProperty("AudioContext")||di.hasOwnProperty("webkitAudioContext"));class vQ{constructor(e,n,s){this._callback=e,this._type=n,this._updateInterval=s,this._createClock()}_createWorker(){const e=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),n=URL.createObjectURL(e),s=new Worker(n);s.onmessage=this._callback.bind(this),this._worker=s}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch{this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){this._updateInterval=Math.max(e,128/44100),"worker"===this._type&&this._worker.postMessage(Math.max(1e3*e,1))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Ho(t){return dQ(t)}function Zi(t){return lQ(t)}function jp(t){return hQ(t)}function Nc(t){return uQ(t)}function iO(t){return t instanceof AudioBuffer}function wQ(t,e){return"value"===t||Ho(e)||Zi(e)||iO(e)}function Fs(t,...e){if(!e.length)return t;const n=e.shift();if(Qi(t)&&Qi(n))for(const s in n)wQ(s,n[s])?t[s]=n[s]:Qi(n[s])?(t[s]||Object.assign(t,{[s]:{}}),Fs(t[s],n[s])):Object.assign(t,{[s]:n[s]});return Fs(t,...e)}function w(t,e,n=[],s){const r={},i=Array.from(e);if(Qi(i[0])&&s&&!Reflect.has(i[0],s)&&(Object.keys(i[0]).some(a=>Reflect.has(t,a))||(Fs(r,{[s]:i[0]}),n.splice(n.indexOf(s),1),i.shift())),1===i.length&&Qi(i[0]))Fs(r,i[0]);else for(let o=0;o<n.length;o++)be(i[o])&&(r[n[o]]=i[o]);return Fs(t,r)}function ar(t,e){return _s(t)?e:t}function yn(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}let Yi=(()=>{class t{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...n){(this.debug||di&&this.toString()===di.TONE_DEBUG_CLASS)&&function fQ(...t){Uw.log(...t)}(this,...n)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}return t.version=mw,t})();const Hw=1e-6;function Bp(t,e){return t>e+Hw}function $w(t,e){return Bp(t,e)||cr(t,e)}function oO(t,e){return t+Hw<e}function cr(t,e){return Math.abs(t-e)<Hw}class Ur extends Yi{constructor(){super(),this.name="Timeline",this._timeline=[];const e=w(Ur.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Y(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length)Y($w(e.time,this._timeline[this.length-1].time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e);else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}return this.length>this.memory&&this._timeline.splice(0,this.length-this.memory),this}remove(e){const n=this._timeline.indexOf(e);return-1!==n&&this._timeline.splice(n,1),this}get(e,n="time"){const s=this._search(e,n);return-1!==s?this._timeline[s]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const s=this._search(e,n);return s+1<this._timeline.length?this._timeline[s+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const s=this._search(e);return s-1>=0?this._timeline[s-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(cr(this._timeline[n].time,e)){for(let s=n;s>=0&&cr(this._timeline[s].time,e);s--)n=s;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else 1===this._timeline.length&&$w(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(0===this._timeline.length)return-1;let s=0;const r=this._timeline.length;let i=r;if(r>0&&this._timeline[r-1][n]<=e)return r-1;for(;s<i;){let o=Math.floor(s+(i-s)/2);const a=this._timeline[o],c=this._timeline[o+1];if(cr(a[n],e)){for(let u=o;u<this._timeline.length&&cr(this._timeline[u][n],e);u++)o=u;return o}if(oO(a[n],e)&&Bp(c[n],e))return o;Bp(a[n],e)?i=o:s=o+1}return-1}_iterate(e,n=0,s=this._timeline.length-1){this._timeline.slice(n,s+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const s=this._search(e);return-1!==s&&this._iterate(n,0,s),this}forEachAfter(e,n){const s=this._search(e);return this._iterate(n,s+1),this}forEachBetween(e,n,s){let r=this._search(e),i=this._search(n);return-1!==r&&-1!==i?(this._timeline[r].time!==e&&(r+=1),this._timeline[i].time===n&&(i-=1),this._iterate(s,r,i)):-1===r&&this._iterate(s,0,i),this}forEachFrom(e,n){let s=this._search(e);for(;s>=0&&this._timeline[s].time>=e;)s--;return this._iterate(n,s+1),this}forEachAtTime(e,n){const s=this._search(e);if(-1!==s&&cr(this._timeline[s].time,e)){let r=s;for(let i=s;i>=0&&cr(this._timeline[i].time,e);i--)r=i;this._iterate(i=>{n(i)},r,s)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const cO=[];function Up(t){cO.push(t)}const uO=[];function Hp(t){uO.push(t)}class Ql extends Yi{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(r=>{_s(this._events)&&(this._events={}),this._events.hasOwnProperty(r)||(this._events[r]=[]),this._events[r].push(n)}),this}once(e,n){const s=(...r)=>{n(...r),this.off(e,s)};return this.on(e,s),this}off(e,n){return e.split(/\W+/).forEach(r=>{if(_s(this._events)&&(this._events={}),this._events.hasOwnProperty(e))if(_s(n))this._events[e]=[];else{const i=this._events[e];for(let o=i.length-1;o>=0;o--)i[o]===n&&i.splice(o,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const s=this._events[e].slice(0);for(let r=0,i=s.length;r<i;r++)s[r].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const s=Object.getOwnPropertyDescriptor(Ql.prototype,n);Object.defineProperty(e.prototype,n,s)})}dispose(){return super.dispose(),this._events=void 0,this}}class lO extends Ql{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Zl extends lO{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new Ur,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const e=w(Zl.getDefaults(),arguments,["context"]);this._context=e.context?e.context:function gQ(t){return new J7(t)}({latencyHint:e.latencyHint}),this._ticker=new vQ(this.emit.bind(this,"tick"),e.clockSource,e.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(e.latencyHint),this.lookAhead=e.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(function bQ(t){cO.forEach(e=>e(t))}(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,s){return this._context.createBuffer(e,n,s)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,s){return this._context.createPeriodicWave(e,n,s)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return Y(Nc(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return Y(Nc(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return Y(Nc(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Y(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Y(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Y(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Y(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return function yQ(t,e,n){return Y(be(eO),"This node only works in a secure context (https or localhost)"),new eO(t,e,n)}(this.rawContext,e,n)}addAudioWorkletModule(e,n){return tt(this,void 0,void 0,function*(){Y(be(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(n)||this._workletModules.set(n,this.rawContext.audioWorklet.addModule(e)),yield this._workletModules.get(n)})}workletsAreReady(){return tt(this,void 0,void 0,function*(){const e=[];this._workletModules.forEach(n=>e.push(n)),yield Promise.all(e)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get latencyHint(){return this._latencyHint}_setLatencyHint(e){let n=0;if(this._latencyHint=e,or(e))switch(e){case"interactive":n=.1;break;case"playback":n=.5;break;case"balanced":n=.25}this.lookAhead=n,this.updateInterval=n/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Nc(this._context)?this._context.resume():Promise.resolve()}close(){return tt(this,void 0,void 0,function*(){Nc(this._context)&&(yield this._context.close()),this._initialized&&function SQ(t){uO.forEach(e=>e(t))}(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),s=n.getChannelData(0);for(let i=0;i<s.length;i++)s[i]=e;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=n,r.loop=!0,r.start(0),this._constants.set(e,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const s=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:s+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const s=++this._timeoutIds,r=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),r()},id:s,time:i+n})};return r(),s}}function J(t,e){Rn(e)?e.forEach(n=>J(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Yl(t,e){Rn(e)?e.forEach(n=>Yl(t,n)):Object.defineProperty(t,e,{writable:!0})}const Me=()=>{};let ur=(()=>{class t extends Yi{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Me;const n=w(t.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=n.reverse,this.onload=n.onload,n.url&&iO(n.url)||n.url instanceof t?this.set(n.url):or(n.url)&&this.load(n.url).catch(n.onerror)}static getDefaults(){return{onerror:Me,onload:Me,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Ps().sampleRate}set(n){return n instanceof t?n.loaded?this._buffer=n.get():n.onload=()=>{this.set(n),this.onload(this)}:this._buffer=n,this._reversed&&this._reverse(),this}get(){return this._buffer}load(n){return tt(this,void 0,void 0,function*(){const s=t.load(n).then(r=>{this.set(r),this.onload(this)});t.downloads.push(s);try{yield s}finally{const r=t.downloads.indexOf(s);t.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(n){const s=Rn(n)&&n[0].length>0,r=s?n.length:1,i=s?n[0].length:n.length,o=Ps(),a=o.createBuffer(r,i,o.sampleRate),c=s||1!==r?n:[n];for(let u=0;u<r;u++)a.copyToChannel(c[u],u);return this._buffer=a,this}toMono(n){if(ks(n))this.fromArray(this.toArray(n));else{let s=new Float32Array(this.length);const r=this.numberOfChannels;for(let i=0;i<r;i++){const o=this.toArray(i);for(let a=0;a<o.length;a++)s[a]+=o[a]}s=s.map(i=>i/r),this.fromArray(s)}return this}toArray(n){if(ks(n))return this.getChannelData(n);if(1===this.numberOfChannels)return this.toArray(0);{const s=[];for(let r=0;r<this.numberOfChannels;r++)s[r]=this.getChannelData(r);return s}}getChannelData(n){return this._buffer?this._buffer.getChannelData(n):new Float32Array(0)}slice(n,s=this.duration){const r=Math.floor(n*this.sampleRate),i=Math.floor(s*this.sampleRate);Y(r<i,"The start time must be less than the end time");const o=i-r,a=Ps().createBuffer(this.numberOfChannels,o,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)a.copyToChannel(this.getChannelData(c).subarray(r,i),c);return new t(a)}_reverse(){if(this.loaded)for(let n=0;n<this.numberOfChannels;n++)this.getChannelData(n).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(n){this._reversed!==n&&(this._reversed=n,this._reverse())}static fromArray(n){return(new t).fromArray(n)}static fromUrl(n){return tt(this,void 0,void 0,function*(){return yield(new t).load(n)})}static load(n){return tt(this,void 0,void 0,function*(){const s=n.match(/\[([^\]\[]+\|.+)\]$/);if(s){const c=s[1].split("|");let u=c[0];for(const l of c)if(t.supportsType(l)){u=l;break}n=n.replace(s[0],u)}const r=""===t.baseUrl||t.baseUrl.endsWith("/")?t.baseUrl:t.baseUrl+"/",i=yield fetch(r+n);if(!i.ok)throw new Error(`could not load url: ${n}`);const o=yield i.arrayBuffer();return yield Ps().decodeAudioData(o)})}static supportsType(n){const s=n.split("."),r=s[s.length-1];return""!==document.createElement("audio").canPlayType("audio/"+r)}static loaded(){return tt(this,void 0,void 0,function*(){for(yield Promise.resolve();t.downloads.length;)yield t.downloads[0]})}}return t.baseUrl="",t.downloads=[],t})();class $p extends Zl{constructor(){super({clockSource:"offline",context:jp(arguments[0])?arguments[0]:mQ(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:jp(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=jp(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return tt(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const s=Math.floor(this.sampleRate/128);e&&n%s==0&&(yield new Promise(r=>setTimeout(r,1)))}})}render(e=!0){return tt(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new ur(n)})}close(){return Promise.resolve()}}const dO=new class EQ extends lO{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,s){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,s){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e,n){return tt(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}};let Oc=dO;function Ps(){return Oc===dO&&_Q&&function TQ(t){Oc=Nc(t)?new Zl(t):jp(t)?new $p(t):t}(new Zl),Oc}if(di&&!di.TONE_SILENCE_LOGGING){console.log(`%c * Tone.js ${"v"}${mw} * `,"background: #000; color: #fff")}function Kl(t){return Math.pow(2,t/12)}let zp=440;function $o(t){return Math.round(hO(t))}function hO(t){return 69+12*Math.log2(t/zp)}function fO(t){return zp*Math.pow(2,(t-69)/12)}class qw extends Yi{constructor(e,n,s){super(),this.defaultUnits="s",this._val=n,this._units=s,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const s=parseInt(e,10),r="."===n?1.5:1;return 1===s?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/s)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(3*Math.floor(n)))},regexp:/^(\d+)t$/i},tr:{method:(e,n,s)=>{let r=0;return e&&"0"!==e&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&"0"!==n&&(r+=this._beatsToUnits(parseFloat(n))),s&&"0"!==s&&(r+=this._beatsToUnits(parseFloat(s)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof qw&&this.fromType(this._val),_s(this._val))return this._noArg();if(or(this._val)&&_s(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Qi(this._val)){let e=0;for(const n in this._val)if(be(this._val[n])){const s=this._val[n];e+=new this.constructor(this.context,n).valueOf()*s}return e}if(be(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}return or(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class Vs extends qw{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new Vs(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const s=new this.constructor(this.context,e).valueOf(),r=this.valueOf();return r+(Math.round(r/s)*s-r)*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const o=Math.pow(2,i);n.push(o+"n."),n.push(o+"n"),n.push(o+"t")}n.push("0");let s=n[0],r=new Vs(this.context,n[0]).toSeconds();return n.forEach(i=>{const o=new Vs(this.context,i).toSeconds();Math.abs(o-e)<Math.abs(r-e)&&(s=i,r=o)}),s}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const s=Math.floor(n/this._getTimeSignature());let r=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=r.toString();return i.length>3&&(r=parseFloat(parseFloat(i).toFixed(3))),[s,n,r].join(":")}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.round(n*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return $o(this.toFrequency())}_now(){return this.context.now()}}class rs extends Vs{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return function IQ(){return zp}()}static set A4(e){!function xQ(t){zp=t}(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return"midi"===this.defaultUnits?e:rs.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(e,n){const r=MQ[e.toLowerCase()]+12*(parseInt(n,10)+1);return"midi"===this.defaultUnits?r:rs.mtof(r)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,s){let r=1;return e&&"0"!==e&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&"0"!==n&&(r*=this._beatsToUnits(parseFloat(n))),s&&"0"!==s&&(r*=this._beatsToUnits(parseFloat(s)/4)),r}}})}transpose(e){return new rs(this.context,this.valueOf()*Kl(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return $o(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/rs.A4);let s=Math.round(12*n)+57;const r=Math.floor(s/12);return r<0&&(s+=-12*r),AQ[s%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(60*e/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return fO(e)}static ftom(e){return $o(e)}}const MQ={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},AQ=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class rn extends Vs{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class pn extends Yi{constructor(){super();const e=w(pn.getDefaults(),arguments,["context"]);this.context=this.defaultContext?this.defaultContext:e.context}static getDefaults(){return{context:Ps()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return new Vs(this.context,e).toSeconds()}toFrequency(e){return new rs(this.context,e).toFrequency()}toTicks(e){return new rn(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(s=>{_s(e[s])&&delete n[s]}),n}get(){const e=function CQ(t){return t.constructor.getDefaults()}(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const s=this[n];be(s)&&be(s.value)&&be(s.setValueAtTime)?e[n]=s.value:s instanceof pn?e[n]=s._getPartialProperties(e[n]):Rn(s)||ks(s)||or(s)||function rO(t){return"boolean"==typeof t}(s)?e[n]=s:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&be(this[n])&&(this[n]&&be(this[n].value)&&be(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof pn?this[n].set(e[n]):this[n]=e[n])}),this}}class Jl extends Ur{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return null!==n?n.state:this._initial}setStateAtTime(e,n,s){return On(n,0),this.add(Object.assign({},s,{state:e,time:n})),this}getLastState(e,n){for(let r=this._search(n);r>=0;r--){const i=this._timeline[r];if(i.state===e)return i}}getNextState(e,n){const s=this._search(n);if(-1!==s)for(let r=s;r<this._timeline.length;r++){const i=this._timeline[r];if(i.state===e)return i}}}class de extends pn{constructor(){super(w(de.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=w(de.getDefaults(),arguments,["param","units","convert"]);for(Y(be(e.param)&&(Ho(e.param)||e.param instanceof de),"param must be an AudioParam");!Ho(e.param);)e.param=e.param._param;this._swappable=!!be(e.swappable)&&e.swappable,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Ur(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,be(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(pn.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return be(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return be(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return be(this.maxValue)&&be(this.minValue)&&On(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?function Xl(t){return Math.pow(10,t/20)}(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&"decibels"===this.units?function qp(t){return Math.log(t)/Math.LN10*20}(e):e}setValueAtTime(e,n){const s=this.toSeconds(n),r=this._fromType(e);return Y(isFinite(r)&&isFinite(s),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this.log(this.units,"setValueAtTime",e,s),this._events.add({time:s,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,s),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),s=this._events.getAfter(n),r=this._events.get(n);let i=this._initialValue;if(null===r)i=this._initialValue;else if("setTargetAtTime"!==r.type||null!==s&&"setValueAtTime"!==s.type)if(null===s)i=r.value;else if("linearRampToValueAtTime"===s.type||"exponentialRampToValueAtTime"===s.type){let o=r.value;if("setTargetAtTime"===r.type){const a=this._events.getBefore(r.time);o=null===a?this._initialValue:a.value}i="linearRampToValueAtTime"===s.type?this._linearInterpolate(r.time,o,s.time,s.value,n):this._exponentialInterpolate(r.time,o,s.time,s.value,n)}else i=r.value;else{const o=this._events.getBefore(r.time);let a;a=null===o?this._initialValue:o.value,"setTargetAtTime"===r.type&&(i=this._exponentialApproach(r.time,a,r.value,r.constant,n))}return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),0===this._fromType(n)&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const s=this._fromType(e),r=this.toSeconds(n);return Y(isFinite(s)&&isFinite(r),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this._events.add({time:r,type:"linearRampToValueAtTime",value:s}),this.log(this.units,"linearRampToValueAtTime",e,r),this._param.linearRampToValueAtTime(s,r),this}exponentialRampToValueAtTime(e,n){let s=this._fromType(e);s=cr(s,0)?this._minOutput:s,this._assertRange(s);const r=this.toSeconds(n);return Y(isFinite(s)&&isFinite(r),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:s}),this.log(this.units,"exponentialRampToValueAtTime",e,r),this._param.exponentialRampToValueAtTime(s,r),this}exponentialRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialRampToValueAtTime(e,s+this.toSeconds(n)),this}linearRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.linearRampToValueAtTime(e,s+this.toSeconds(n)),this}targetRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialApproachValueAtTime(e,s,n),this}exponentialApproachValueAtTime(e,n,s){n=this.toSeconds(n),s=this.toSeconds(s);const r=Math.log(s+1)/Math.log(200);return this.setTargetAtTime(e,n,r),this.cancelAndHoldAtTime(n+.9*s),this.linearRampToValueAtTime(e,n+s),this}setTargetAtTime(e,n,s){const r=this._fromType(e);Y(isFinite(s)&&s>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(r),Y(isFinite(r)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:s,time:i,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",e,i,s),this._param.setTargetAtTime(r,i,s),this}setValueCurveAtTime(e,n,s,r=1){s=this.toSeconds(s),n=this.toSeconds(n);const i=this._fromType(e[0])*r;this.setValueAtTime(this._toType(i),n);const o=s/(e.length-1);for(let a=1;a<e.length;a++){const c=this._fromType(e[a])*r;this.linearRampToValueAtTime(this._toType(c),n+a*o)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return Y(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),s=this._fromType(this.getValueAtTime(n));Y(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+s);const r=this._events.get(n),i=this._events.getAfter(n);return r&&cr(r.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),"linearRampToValueAtTime"===i.type?this.linearRampToValueAtTime(this._toType(s),n):"exponentialRampToValueAtTime"===i.type&&this.exponentialRampToValueAtTime(this._toType(s),n)),this._events.add({time:n,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,n),this}rampTo(e,n=.1,s){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(e,n,s):this.linearRampTo(e,n,s),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const s=this._events.get(n);if(s&&"setTargetAtTime"===s.type){const r=this._events.getAfter(s.time),i=r?r.time:n+2,o=(i-n)/10;for(let a=n;a<i;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,r=>{"cancelScheduledValues"===r.type?e.cancelScheduledValues(r.time):"setTargetAtTime"===r.type?e.setTargetAtTime(r.value,r.time,r.constant):e[r.type](r.value,r.time)}),this}setParam(e){Y(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,s,r,i){return s+(n-s)*Math.exp(-(i-e)/r)}_linearInterpolate(e,n,s,r,i){return n+(i-e)/(s-e)*(r-n)}_exponentialInterpolate(e,n,s,r,i){return n*Math.pow(r/n,(i-e)/(s-e))}}class A extends pn{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return be(this.input)?Ho(this.input)||this.input instanceof de?1:this.input.numberOfInputs:0}get numberOfOutputs(){return be(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return be(e)&&(e instanceof A||Zi(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(s=>{s.channelCount=e.channelCount,s.channelCountMode=e.channelCountMode,s.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();Y(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,s=0){return ys(this,e,n,s),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Vp("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,s=0){return function pO(t,e,n=0,s=0){if(be(e))for(;e instanceof A;)e=e.input;for(;!Zi(t);)be(t.output)&&(t=t.output);Ho(e)?t.disconnect(e,n):Zi(e)?t.disconnect(e,n,s):t.disconnect()}(this,e,n,s),this}chain(...e){return Ls(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),be(this.input)&&(this.input instanceof A?this.input.dispose():Zi(this.input)&&this.input.disconnect()),be(this.output)&&(this.output instanceof A?this.output.dispose():Zi(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Ls(...t){const e=t.shift();t.reduce((n,s)=>(n instanceof A?n.connect(s):Zi(n)&&ys(n,s),s),e)}function ys(t,e,n=0,s=0){for(Y(be(t),"Cannot connect from undefined node"),Y(be(e),"Cannot connect to undefined node"),(e instanceof A||Zi(e))&&Y(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Y(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof A||e instanceof de;)be(e.input)&&(e=e.input);for(;t instanceof A;)be(t.output)&&(t=t.output);Ho(e)?t.connect(e,n):t.connect(e,n,s)}class Z extends A{constructor(){super(w(Z.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=w(Z.getDefaults(),arguments,["gain","units"]);this.gain=new de({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),J(this,"gain")}static getDefaults(){return Object.assign(A.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Rc extends A{constructor(e){super(e),this.onended=Me,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Z({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const s=this.toSeconds(n);return-1!==this._startTime&&s>=this._startTime&&(-1===this._stopTime||s<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(A.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Me})}_startGain(e,n=1){Y(-1===this._startTime,"Source cannot be started more than once");const s=this.toSeconds(this._fadeIn);return this._startTime=e+s,this._startTime=Math.max(this._startTime,this.context.currentTime),s>0?(this._gainNode.gain.setValueAtTime(0,e),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(n,e+s):this._gainNode.gain.exponentialApproachValueAtTime(n,e,s)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Y(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.context.currentTime),n>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const s="exponential"===this._curve?2*n:0;this._stopSource(this.now()+s),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Me&&(this.onended(this),this.onended=Me,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Y(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class ed extends Rc{constructor(){super(w(ed.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=w(ed.getDefaults(),arguments,["offset"]);ys(this._source,this._gainNode),this.offset=new de({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Rc.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class te extends A{constructor(){super(w(te.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=w(te.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new ed({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(A.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,s=0){return Gp(this,e,n,s),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,s){return this._param.exponentialRampTo(e,n,s),this}linearRampTo(e,n,s){return this._param.linearRampTo(e,n,s),this}targetRampTo(e,n,s){return this._param.targetRampTo(e,n,s),this}exponentialApproachValueAtTime(e,n,s){return this._param.exponentialApproachValueAtTime(e,n,s),this}setTargetAtTime(e,n,s){return this._param.setTargetAtTime(e,n,s),this}setValueCurveAtTime(e,n,s,r){return this._param.setValueCurveAtTime(e,n,s,r),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,s){return this._param.rampTo(e,n,s),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Gp(t,e,n,s){(e instanceof de||Ho(e)||e instanceof te&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof te&&(e.overridden=!0)),ys(t,e,n,s)}class Wp extends de{constructor(){super(w(Wp.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Ur(1/0),this._multiplier=1;const e=w(Wp.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(de.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,s){n=this.toSeconds(n),this.setRampPoint(n);const r=this._fromType(e),i=this._events.get(n),o=Math.round(Math.max(1/s,1));for(let a=0;a<=o;a++){const c=s*a+n,u=this._exponentialApproach(i.time,i.value,r,s,c);this.linearRampToValueAtTime(this._toType(u),c)}return this}setValueAtTime(e,n){const s=this.toSeconds(n);super.setValueAtTime(e,n);const r=this._events.get(s),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,s);return r.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,n){const s=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const r=this._events.get(s),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,s);return r.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const s=this._fromType(e),r=this._events.get(n),i=Math.round(Math.max(10*(n-r.time),1)),o=(n-r.time)/i;for(let a=0;a<=i;a++){const c=o*a+r.time,u=this._exponentialInterpolate(r.time,r.value,n,s,c);this.linearRampToValueAtTime(this._toType(u),c)}return this}_getTicksUntilEvent(e,n){if(null===e)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(_s(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const s=this._fromType(this.getValueAtTime(e.time));let r=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&"setValueAtTime"===i.type&&(r=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(s+r)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),s=this._events.get(n);return Math.max(this._getTicksUntilEvent(s,n),0)}getDurationOfTicks(e,n){const s=this.toSeconds(n),r=this.getTicksAtTime(n);return this.getTimeOfTick(r+e)-s}getTimeOfTick(e){const n=this._events.get(e,"ticks"),s=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&s&&"linearRampToValueAtTime"===s.type&&n.value!==s.value){const r=this._fromType(this.getValueAtTime(n.time)),o=(this._fromType(this.getValueAtTime(s.time))-r)/(s.time-n.time),a=Math.sqrt(Math.pow(r,2)-2*o*(n.ticks-e)),c=(-r+a)/o;return(c>0?c:(-r-a)/o)+n.time}return n?0===n.value?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const s=this.toSeconds(n),r=this.toSeconds(e),i=this.getTicksAtTime(s);return this.getTicksAtTime(s+r)-i}_fromType(e){return"bpm"===this.units&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return"bpm"===this.units&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class Qp extends te{constructor(){super(w(Qp.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=w(Qp.getDefaults(),arguments,["value"]);this.input=this._param=new Wp({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(te.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Zp extends pn{constructor(){super(w(Zp.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Jl,this._tickOffset=new Ur;const e=w(Zp.getDefaults(),arguments,["frequency"]);this.frequency=new Qp({context:this.context,units:e.units,value:e.frequency}),J(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},pn.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const s=this.toSeconds(e);return"started"!==this._state.getValueAtTime(s)&&(this._state.setStateAtTime("started",s),be(n)&&this.setTicksAtTime(n,s)),this}stop(e){const n=this.toSeconds(e);if("stopped"===this._state.getValueAtTime(n)){const s=this._state.get(n);s&&s.time>0&&(this._tickOffset.cancel(s.time),this._state.cancel(s.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this}pause(e){const n=this.toSeconds(e);return"started"===this._state.getValueAtTime(n)&&this._state.setStateAtTime("paused",n),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),s=this._state.getLastState("stopped",n),r={state:"paused",time:n};this._state.add(r);let i=s,o=0;return this._state.forEachBetween(s.time,n+this.sampleTime,a=>{let c=i.time;const u=this._tickOffset.get(a.time);u&&u.time>=i.time&&(o=u.ticks,c=u.time),"started"===i.state&&"started"!==a.state&&(o+=this.frequency.getTicksAtTime(a.time)-this.frequency.getTicksAtTime(c)),i=a}),this._state.remove(r),o}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),s=this.frequency.timeToTicks(e,n);this.setTicksAtTime(s,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);let r=n,i=0;return this._state.forEachBetween(n.time,e+this.sampleTime,o=>{let a=r.time;const c=this._tickOffset.get(o.time);c&&c.time>=r.time&&(i=c.seconds,a=c.time),"started"===r.state&&"started"!==o.state&&(i+=o.time-a),r=o}),this._state.remove(s),i}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const s=this._tickOffset.get(n),r=this._state.get(n),i=Math.max(s.time,r.time),o=this.frequency.getTicksAtTime(i)+e-s.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,n,s){let r=this._state.get(e);this._state.forEachBetween(e,n,o=>{r&&"started"===r.state&&"started"!==o.state&&this.forEachTickBetween(Math.max(r.time,e),o.time-this.sampleTime,s),r=o});let i=null;if(r&&"started"===r.state){const o=Math.max(r.time,e),a=this.frequency.getTicksAtTime(o),u=a-this.frequency.getTicksAtTime(r.time);let l=Math.ceil(u)-u;l=cr(l,1)?0:l;let d=this.frequency.getTimeOfTick(a+l);for(;d<n;){try{s(d,Math.round(this.getTicksAtTime(d)))}catch(h){i=h;break}d+=this.frequency.getDurationOfTicks(1,d)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class kc extends pn{constructor(){super(w(kc.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=Me,this._lastUpdate=0,this._state=new Jl("stopped"),this._boundLoop=this._loop.bind(this);const e=w(kc.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new Zp({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,J(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(pn.getDefaults(),{callback:Me,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){sO(this.context);const s=this.toSeconds(e);return this.log("start",s),"started"!==this._state.getValueAtTime(s)&&(this._state.setStateAtTime("started",s),this._tickSource.start(s,n),s<this._lastUpdate&&this.emit("start",s,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return"started"===this._state.getValueAtTime(n)&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const s=this.toSeconds(n),r=this.getTicksAtTime(s);return this._tickSource.getTimeOfTick(r+e,s)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,s=>{switch(s.state){case"started":const r=this._tickSource.getTicksAtTime(s.time);this.emit("start",s.time,r);break;case"stopped":0!==s.time&&this.emit("stop",s.time);break;case"paused":this.emit("pause",s.time)}}),this._tickSource.forEachTickBetween(e,n,(s,r)=>{this.callback(s,r)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Ql.mixin(kc);class Yp extends Yi{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=w(Yp.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++,this.add(n,e.urls[n],this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Me,onload:Me,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Y(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,0===this._loadingCount&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,s=Me,r=Me){return or(n)?this._buffers.set(e.toString(),new ur(this.baseUrl+n,s,r)):this._buffers.set(e.toString(),new ur(n,s,r)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class td extends rs{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return $o(super._frequencyToUnits(e))}_ticksToUnits(e){return $o(super._ticksToUnits(e))}_beatsToUnits(e){return $o(super._beatsToUnits(e))}_secondsToUnits(e){return $o(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return fO(this.toMidi())}transpose(e){return new td(this.context,this.toMidi()+e)}}class gt extends rn{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class NQ extends pn{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Ur,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Up(t=>{t.draw=new NQ({context:t})}),Hp(t=>{t.draw.dispose()});class OQ extends Yi{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Y(be(e.time),"Events must have a time property"),Y(be(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new RQ(e.time,e.time+e.duration,e);for(null===this._root?this._root=n:this._root.insert(n),this._length++;null!==n;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(null!==this._root){const n=[];this._root.search(e.time,n);for(const s of n)if(s.event===e){this._removeNode(s),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(e,n){null!==e.parent?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(null===e.left&&null===e.right)this._replaceNodeInParent(e,null);else if(null===e.right)this._replaceNodeInParent(e,e.left);else if(null===e.left)this._replaceNodeInParent(e,e.right);else{let s,r=null;if(e.getBalance()>0)if(null===e.left.right)s=e.left,s.right=e.right,r=s;else{for(s=e.left.right;null!==s.right;)s=s.right;s.parent&&(s.parent.right=s.left,r=s.parent,s.left=e.left,s.right=e.right)}else if(null===e.right.left)s=e.right,s.left=e.left,r=s;else{for(s=e.right.left;null!==s.left;)s=s.left;s.parent&&(s.parent.left=s.right,r=s.parent,s.left=e.left,s.right=e.right)}null!==e.parent?e.isLeftChild()?e.parent.left=s:e.parent.right=s:this._setRoot(s),r&&this._rebalance(r)}e.dispose()}_rotateLeft(e){const n=e.parent,s=e.isLeftChild(),r=e.right;r&&(e.right=r.left,r.left=e),null!==n?s?n.left=r:n.right=r:this._setRoot(r)}_rotateRight(e){const n=e.parent,s=e.isLeftChild(),r=e.left;r&&(e.left=r.right,r.right=e),null!==n?s?n.left=r:n.right=r:this._setRoot(r)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(null!==this._root){const n=[];if(this._root.search(e,n),n.length>0){let s=n[0];for(let r=1;r<n.length;r++)n[r].low>s.low&&(s=n[r]);return s.event}}return null}forEach(e){if(null!==this._root){const n=[];this._root.traverse(s=>n.push(s)),n.forEach(s=>{s.event&&e(s.event)})}return this}forEachAtTime(e,n){if(null!==this._root){const s=[];this._root.search(e,s),s.forEach(r=>{r.event&&n(r.event)})}return this}forEachFrom(e,n){if(null!==this._root){const s=[];this._root.searchAfter(e,s),s.forEach(r=>{r.event&&n(r.event)})}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class RQ{constructor(e,n,s){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=s,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?null===this.left?this.left=e:this.left.insert(e):null===this.right?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(null!==this.left&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&null!==this.right&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),null!==this.left&&this.left.searchAfter(e,n)),null!==this.right&&this.right.searchAfter(e,n)}traverse(e){e(this),null!==this.left&&this.left.traverse(e),null!==this.right&&this.right.traverse(e)}updateHeight(){this.height=null!==this.left&&null!==this.right?Math.max(this.left.height,this.right.height)+1:null!==this.right?this.right.height+1:null!==this.left?this.left.height+1:0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return null!==this.left&&null!==this.right?e=this.left.height-this.right.height:null!==this.left?e=this.left.height+1:null!==this.right&&(e=-(this.right.height+1)),e}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,null!==e&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,null!==e&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class hi extends A{constructor(){super(w(hi.getDefaults(),arguments,["volume"])),this.name="Volume";const e=w(hi.getDefaults(),arguments,["volume"]);this.input=this.output=new Z({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,J(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(A.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Xp extends A{constructor(){super(w(Xp.getDefaults(),arguments)),this.name="Destination",this.input=new hi({context:this.context}),this.output=new Z({context:this.context}),this.volume=this.input.volume;const e=w(Xp.getDefaults(),arguments);Ls(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(A.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Ls(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Up(t=>{t.destination=new Xp({context:t})}),Hp(t=>{t.destination.dispose()});class kQ extends Yi{constructor(e){super(),this.name="TimelineValue",this._timeline=new Ur({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}let Kp=(()=>{class t{constructor(n,s){this.id=t._eventId++;const r=Object.assign(t.getDefaults(),s);this.transport=n,this.callback=r.callback,this._once=r.once,this.time=r.time}static getDefaults(){return{callback:Me,once:!1,time:0}}invoke(n){this.callback&&(this.callback(n),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}return t._eventId=0,t})();class zw extends Kp{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const s=Object.assign(zw.getDefaults(),n);this.duration=new gt(e.context,s.duration).valueOf(),this._interval=new gt(e.context,s.interval).valueOf(),this._nextTick=s.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Kp.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvents(e){const n=this.transport.getTicksAtTime(e);n>=this.time&&n>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new gt(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const n=this.transport.getTicksAtTime(e);n>this.time&&(this._nextTick=this.time+Math.ceil((n-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new gt(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new gt(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class nd extends pn{constructor(){super(w(nd.getDefaults(),arguments)),this.name="Transport",this._loop=new kQ(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Ur,this._repeatedEvents=new OQ,this._syncedSignals=[],this._swingAmount=0;const e=w(nd.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new kc({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),J(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(pn.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!=0&&n%(2*this._swingTicks)!=0){const r=Math.sin(n%(2*this._swingTicks)/(2*this._swingTicks)*Math.PI)*this._swingAmount;e+=new gt(this.context,2*this._swingTicks/3).toSeconds()*r}this._timeline.forEachAtTime(n,s=>s.invoke(e))}schedule(e,n){const s=new Kp(this,{callback:e,time:new rn(this.context,n).toTicks()});return this._addEvent(s,this._timeline)}scheduleRepeat(e,n,s,r=1/0){const i=new zw(this,{callback:e,duration:new Vs(this.context,r).toTicks(),interval:new Vs(this.context,n).toTicks(),time:new rn(this.context,s).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const s=new Kp(this,{callback:e,once:!0,time:new rn(this.context,n).toTicks()});return this._addEvent(s,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,s=>this.clear(s.id)),this._repeatedEvents.forEachFrom(n,s=>this.clear(s.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new gt(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){let s;return be(n)&&(s=this.toTicks(n)),this._clock.start(e,s),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),"started"!==this._clock.getStateAtTime(e)?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Rn(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Vs(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Vs(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new gt(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new gt(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),s=this._clock.frequency.timeToTicks(e,n);this.ticks=s}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if("started"===this.state){const s=this._clock.getTicksAtTime(n),i=n+this._clock.frequency.getDurationOfTicks(Math.ceil(s)-s,n);this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return Math.round(this._clock.getTicksAtTime(e))}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),"started"!==this.state)return 0;{const n=this.now(),s=this.getTicksAtTime(n);return this._clock.nextTickTime(e-s%e,n)}}syncSignal(e,n){if(!n){const r=this.now();if(0!==e.getValueAtTime(r)){const o=1/(60/this.bpm.getValueAtTime(r)/this.PPQ);n=e.getValueAtTime(r)/o}else n=0}const s=new Z(n);return this.bpm.connect(s),s.connect(e._param),this._syncedSignals.push({initial:e.value,ratio:s,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const s=this._syncedSignals[n];s.signal===e&&(s.ratio.dispose(),s.signal.value=s.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Yl(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Ql.mixin(nd),Up(t=>{t.transport=new nd({context:t})}),Hp(t=>{t.transport.dispose()});class Rt extends A{constructor(e){super(e),this.input=void 0,this._state=new Jl("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Me,this._syncedStop=Me,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new hi({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,J(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(A.getDefaults(),{mute:!1,onstop:Me,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,s){let r=_s(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(r=this._clampToCurrentTime(r),this._synced||"started"!==this._state.getValueAtTime(r))if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const i=this._state.get(r);i&&(i.offset=this.toSeconds(ar(n,0)),i.duration=s?this.toSeconds(s):void 0);const o=this.context.transport.schedule(a=>{this._start(a,n,s)},r);this._scheduled.push(o),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else sO(this.context),this._start(r,n,s);else Y(Bp(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,n,s);return this}stop(e){let n=_s(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),"started"===this._state.getValueAtTime(n)||be(this._state.getNextState("started",n))){if(this.log("stop",n),this._synced){const s=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(s)}else this._stop(n);this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,s){return e=this.toSeconds(e),"started"===this._state.getValueAtTime(e)&&(this._state.cancel(e),this._restart(e,n,s)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(n>0){const s=this._state.get(n);if(s&&"started"===s.state&&s.time!==n){const r=n-this.toSeconds(s.time);let i;s.duration&&(i=this.toSeconds(s.duration)-r),this._start(e,this.toSeconds(s.offset)+r,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));"started"===this._state.getValueAtTime(n)&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Me,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class qo extends Rc{constructor(){super(w(qo.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=w(qo.getDefaults(),arguments,["url","onload"]);ys(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new de({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new ur(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Rc.getDefaults(),{url:new ur,loop:!1,loopEnd:0,loopStart:0,onload:Me,onerror:Me,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,s,r=1){Y(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,r),n=ar(n,this.loop?this.loopStart:0);let o=Math.max(this.toSeconds(n),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,c=this.toSeconds(this.loopStart),u=a-c;$w(o,a)&&(o=(o-c)%u+c),cr(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,oO(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),be(s)){let a=this.toSeconds(s);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function zo(t,e){return tt(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,s=new $p(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)})}class rd extends Rc{constructor(){super(w(rd.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=w(rd.getDefaults(),arguments,["frequency","type"]);ys(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new de({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new de({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),J(this,["frequency","detune"])}static getDefaults(){return Object.assign(Rc.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}let Wn=(()=>{class t extends Rt{constructor(){super(w(t.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const n=w(t.getDefaults(),arguments,["frequency","type"]);this.frequency=new te({context:this.context,units:"frequency",value:n.frequency}),J(this,"frequency"),this.detune=new te({context:this.context,units:"cents",value:n.detune}),J(this,"detune"),this._partials=n.partials,this._partialCount=n.partialCount,this._type=n.type,n.partialCount&&"custom"!==n.type&&(this._type=this.baseType+n.partialCount.toString()),this.phase=n.phase}static getDefaults(){return Object.assign(Rt.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(n){const s=this.toSeconds(n),r=new rd({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(s)}_stop(n){const s=this.toSeconds(n);this._oscillator&&this._oscillator.stop(s)}_restart(n){const s=this.toSeconds(n);return this.log("restart",s),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(s),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type)return t._periodicWaveCache.find(s=>s.phase===this._phase&&function DQ(t,e){return t.length===e.length&&t.every((n,s)=>e[s]===n)}(s.partials,this._partials));{const n=t._periodicWaveCache.find(s=>s.type===this._type&&s.phase===this._phase);return this._partialCount=n?n.partialCount:this._partialCount,n}}get type(){return this._type}set type(n){this._type=n;const s=-1!==["sine","square","sawtooth","triangle"].indexOf(n);if(0===this._phase&&s)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=n);else{const r=this._getCachedPeriodicWave();if(be(r)){const{partials:i,wave:o}=r;this._wave=o,this._partials=i,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[i,o]=this._getRealImaginary(n,this._phase),a=this.context.createPeriodicWave(i,o);this._wave=a,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),t._periodicWaveCache.push({imag:o,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:i,type:this._type,wave:this._wave}),t._periodicWaveCache.length>100&&t._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(n){this.type=this.partialCount&&"custom"!==this._type&&"custom"!==n?n+this.partialCount:n}get partialCount(){return this._partialCount}set partialCount(n){On(n,0);let s=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(s=r[1]),"custom"!==this._type)this.type=0===n?s:s+n.toString();else{const i=new Float32Array(n);this._partials.forEach((o,a)=>i[a]=o),this._partials=Array.from(i),this.type=this._type}}_getRealImaginary(n,s){let i=2048;const o=new Float32Array(i),a=new Float32Array(i);let c=1;if("custom"===n){if(c=this._partials.length+1,this._partialCount=this._partials.length,i=c,0===this._partials.length)return[o,a]}else{const u=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(n);u?(c=parseInt(u[2],10)+1,this._partialCount=parseInt(u[2],10),n=u[1],c=Math.max(c,2),i=c):this._partialCount=0,this._partials=[]}for(let u=1;u<i;++u){const l=2/(u*Math.PI);let d;switch(n){case"sine":d=u<=c?1:0,this._partials[u-1]=d;break;case"square":d=1&u?2*l:0,this._partials[u-1]=d;break;case"sawtooth":d=l*(1&u?1:-1),this._partials[u-1]=d;break;case"triangle":d=1&u?l*l*2*(u-1>>1&1?-1:1):0,this._partials[u-1]=d;break;case"custom":d=this._partials[u-1];break;default:throw new TypeError("Oscillator: invalid type: "+n)}0!==d?(o[u]=-d*Math.sin(s*u),a[u]=d*Math.cos(s*u)):(o[u]=0,a[u]=0)}return[o,a]}_inverseFFT(n,s,r){let i=0;const o=n.length;for(let a=0;a<o;a++)i+=n[a]*Math.cos(a*r)+s[a]*Math.sin(a*r);return i}getInitialValue(){const[n,s]=this._getRealImaginary(this._type,0);let r=0;const i=2*Math.PI;for(let a=0;a<32;a++)r=Math.max(this._inverseFFT(n,s,a/32*i),r);return function aO(t,e,n){return Math.max(Math.min(t,n),e)}(-this._inverseFFT(n,s,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(n){this._phase=n*Math.PI/180,this.type=this._type}asArray(n=1024){return tt(this,void 0,void 0,function*(){return zo(this,n)})}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}return t._periodicWaveCache=[],t})();class ws extends A{constructor(){super(Object.assign(w(ws.getDefaults(),arguments,["context"])))}connect(e,n=0,s=0){return Gp(this,e,n,s),this}}class lr extends ws{constructor(){super(Object.assign(w(lr.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=w(lr.getDefaults(),arguments,["mapping","length"]);Rn(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):function pQ(t){return"function"==typeof t}(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(te.getDefaults(),{length:1024})}setMap(e,n=1024){const s=new Float32Array(n);for(let r=0,i=n;r<i;r++)s[r]=e(r/(i-1)*2-1,r);return this.curve=s,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){Y(["none","2x","4x"].some(s=>s.includes(e)),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Ww extends ws{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new lr({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Et extends te{constructor(){super(Object.assign(w(Et.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=w(Et.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Z({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(te.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class id extends Rt{constructor(){super(w(id.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new Ww({context:this.context}),this._modulationNode=new Z({context:this.context});const e=w(id.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Wn({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Wn({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Et({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),J(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Wn.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return tt(this,void 0,void 0,function*(){return zo(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Pc extends Rt{constructor(){super(w(Pc.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Z({context:this.context,gain:0});const e=w(Pc.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Wn({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new te({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Wn({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Et({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Et({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),J(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Wn.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return tt(this,void 0,void 0,function*(){return zo(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Vc extends Rt{constructor(){super(w(Vc.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Z({context:this.context,gain:0}),this._thresh=new lr({context:this.context,mapping:n=>n<=0?-1:1});const e=w(Vc.getDefaults(),arguments,["frequency","width"]);this.width=new te({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Wn({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),J(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Rt.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return tt(this,void 0,void 0,function*(){return zo(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class od extends Rt{constructor(){super(w(od.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=w(od.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new te({context:this.context,units:"frequency",value:e.frequency}),this.detune=new te({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,J(this,["frequency","detune"])}static getDefaults(){return Object.assign(Wn.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,s=e/(this._oscillators.length-1);this._forEach((r,i)=>r.detune.value=n+s*i)}}get count(){return this._oscillators.length}set count(e){if(On(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const s=new Wn({context:this.context,volume:-6-1.1*e,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:0===n?()=>this.onstop(this):Me});"custom"===this.type&&(s.partials=this._partials),this.frequency.connect(s.frequency),this.detune.connect(s.detune),s.detune.overridden=!1,s.connect(this.output),this._oscillators[n]=s}this.spread=this._spread,"started"===this.state&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,s)=>n.phase=this._phase+s/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return tt(this,void 0,void 0,function*(){return zo(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class ad extends Rt{constructor(){super(w(ad.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Et({context:this.context,value:2});const e=w(ad.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Vc({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Wn({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),J(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Rt.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return tt(this,void 0,void 0,function*(){return zo(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const mO={am:id,fat:od,fm:Pc,oscillator:Wn,pulse:Vc,pwm:ad};class pi extends Rt{constructor(){super(w(pi.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=w(pi.getDefaults(),arguments,["frequency","type"]);this.frequency=new te({context:this.context,units:"frequency",value:e.frequency}),this.detune=new te({context:this.context,units:"cents",value:e.detune}),J(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Wn.getDefaults(),Pc.getDefaults(),id.getDefaults(),od.getDefaults(),Vc.getDefaults(),ad.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){"fm"===e.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):"am"===e.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):"fat"===e.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):"pwm"===e?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===e?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=mO[e],s=this.now();if(this._oscillator){const r=this._oscillator;r.stop(s),this.context.setTimeout(()=>r.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(s)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(n=this._oscillator.type),"fm"===e?this.type="fm"+n:"am"===e?this.type="am"+n:"fat"===e?this.type="fat"+n:"oscillator"===e?this.type=n:"pulse"===e?this.type="pulse":"pwm"===e&&(this.type="pwm")}_getOscType(e,n){return e instanceof mO[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&"pulse"!==e&&"pwm"!==e&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&ks(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&ks(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&or(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return tt(this,void 0,void 0,function*(){return zo(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Lc extends te{constructor(){super(Object.assign(w(Lc.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new Z({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Ls(this._constantSource,this._sum)}static getDefaults(){return Object.assign(te.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class gi extends ws{constructor(){super(Object.assign(w(gi.getDefaults(),arguments,["min","max"]))),this.name="Scale";const e=w(gi.getDefaults(),arguments,["min","max"]);this._mult=this.input=new Et({context:this.context,value:e.max-e.min}),this._add=this.output=new Lc({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(ws.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}function _O(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){On(i,t,e),n.set(this,i)}})}}function mi(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){On(this.toSeconds(i),t,e),n.set(this,i)}})}}class dr extends Rt{constructor(){super(w(dr.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=w(dr.getDefaults(),arguments,["url","onload"]);this._buffer=new ur({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Rt.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Me,onerror:Me,playbackRate:1,reverse:!1})}load(e){return tt(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Me){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),0===this._activeSources.size&&!this._synced&&"started"===this._state.getValueAtTime(this.now())&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,s){return super.start(e,n,s),this}_start(e,n,s){n=ar(n,this._loop?this._loopStart:0);const r=this.toSeconds(n),i=s;s=ar(s,Math.max(this._buffer.duration-r,0));let o=this.toSeconds(s);o/=this._playbackRate,e=this.toSeconds(e);const a=new qo({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&_s(i)?a.start(e,r):a.start(e,r,o-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(s=>s.stop(n))}restart(e,n,s){return super.restart(e,n,s),this}_restart(e,n,s){this._stop(e),this._start(e,n,s)}seek(e,n){const s=this.toSeconds(n);if("started"===this._state.getValueAtTime(s)){const r=this.toSeconds(e);this._stop(s),this._start(s,r)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&On(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&On(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),s=this._state.getNextState("stopped",n);s&&s.implicitEnd&&(this._state.cancel(s.time),this._activeSources.forEach(r=>r.cancelStop())),this._activeSources.forEach(r=>{r.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Rs([mi(0)],dr.prototype,"fadeIn",void 0),Rs([mi(0)],dr.prototype,"fadeOut",void 0);class cd extends ws{constructor(){super(Object.assign(w(cd.getDefaults(),arguments,["value"]))),this.name="Pow";const e=w(cd.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new lr({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(ws.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class vn extends A{constructor(){super(w(vn.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new te({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=w(vn.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(A.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(or(e))return e;{let s;for(s in tg)if(tg[s][n]===e)return s;return e}}_setCurve(e,n,s){if(or(s)&&Reflect.has(tg,s)){const r=tg[s];Qi(r)?"_decayCurve"!==e&&(this[e]=r[n]):this[e]=r}else{if(!Rn(s)||"_decayCurve"===e)throw new Error("Envelope: invalid curve: "+s);this[e]=s}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._decayCurve}set decayCurve(e){Y(["linear","exponential"].some(n=>n===e),`Invalid envelope curve: ${e}`),this._decayCurve=e}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let r=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0&&(r=(1-o)/(1/r)),r<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if("linear"===this._attackCurve)this._sig.linearRampTo(n,r,e);else if("exponential"===this._attackCurve)this._sig.targetRampTo(n,r,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let c=1;c<a.length;c++)if(a[c-1]<=o&&o<=a[c]){a=this._attackCurve.slice(c),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,r,n)}if(i&&this.sustain<1){const a=n*this.sustain,c=e+r;this.log("decay",c),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(a,i+c):this._sig.exponentialApproachValueAtTime(a,c,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const s=this.toSeconds(this.release);s<this.sampleTime?this._sig.setValueAtTime(0,e):"linear"===this._releaseCurve?this._sig.linearRampTo(0,s,e):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,s,e):(Y(Rn(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,s,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,s=1){return n=this.toSeconds(n),this.triggerAttack(n,s),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,s=0){return Gp(this,e,n,s),this}asArray(e=1024){return tt(this,void 0,void 0,function*(){const n=e/this.context.sampleRate,s=new $p(1,n,this.context.sampleRate),r=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=r+this.toSeconds(this.release),o=.1*i,a=i+o,c=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:s}));return c._sig.toDestination(),c.triggerAttackRelease(n*(r+o)/a,0),(yield s.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Rs([mi(0)],vn.prototype,"attack",void 0),Rs([mi(0)],vn.prototype,"decay",void 0),Rs([_O(0,1)],vn.prototype,"sustain",void 0),Rs([mi(0)],vn.prototype,"release",void 0);const tg=(()=>{let e,n;const s=[];for(e=0;e<128;e++)s[e]=Math.sin(e/127*(Math.PI/2));const r=[];for(e=0;e<127;e++){n=e/127;const h=Math.sin(n*(2*Math.PI)*6.4-Math.PI/2)+1;r[e]=h/10+.83*n}r[127]=1;const o=[];for(e=0;e<128;e++)o[e]=Math.ceil(e/127*5)/5;const c=[];for(e=0;e<128;e++)n=e/127,c[e]=.5*(1-Math.cos(Math.PI*n));const u=[];for(e=0;e<128;e++){n=e/127;const h=4*Math.pow(n,3)+.2,f=Math.cos(h*Math.PI*2*n);u[e]=Math.abs(f*(1-n))}function l(h){const f=new Array(h.length);for(let p=0;p<h.length;p++)f[p]=1-h[p];return f}return{bounce:{In:l(u),Out:u},cosine:{In:s,Out:function d(h){return h.slice(0).reverse()}(s)},exponential:"exponential",linear:"linear",ripple:{In:r,Out:l(r)},sine:{In:c,Out:l(c)},step:{In:o,Out:l(o)}}})();class Ds extends A{constructor(){super(w(Ds.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const e=w(Ds.getDefaults(),arguments);this._volume=this.output=new hi({context:this.context,volume:e.volume}),this.volume=this._volume.volume,J(this,"volume")}static getDefaults(){return Object.assign(A.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const s=this["_original_"+e]=this[e];this[e]=(...r)=>{const o=this.context.transport.schedule(a=>{r[n]=a,s.apply(this,r)},r[n]);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(e,n,s,r){const i=this.toSeconds(s),o=this.toSeconds(n);return this.triggerAttack(e,i,r),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class wn extends Ds{constructor(){super(w(wn.getDefaults(),arguments));const e=w(wn.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Ds.getDefaults(),{detune:0,onsilence:Me,portamento:0})}triggerAttack(e,n,s=1){this.log("triggerAttack",e,n,s);const r=this.toSeconds(n);return this._triggerEnvelopeAttack(r,s),this.setNote(e,r),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const s=this.toSeconds(n),r=e instanceof rs?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(s)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,i,s)}else this.frequency.setValueAtTime(r,s);return this}}Rs([mi(0)],wn.prototype,"portamento",void 0);class ud extends vn{constructor(){super(w(ud.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Z({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class hr extends wn{constructor(){super(w(hr.getDefaults(),arguments)),this.name="Synth";const e=w(hr.getDefaults(),arguments);this.oscillator=new pi(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new ud(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),J(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(wn.getDefaults(),{envelope:Object.assign(yn(vn.getDefaults(),Object.keys(A.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(yn(pi.getDefaults(),[...Object.keys(Rt.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),0===this.envelope.sustain){const s=this.toSeconds(this.envelope.attack),r=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+r)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class ld extends A{constructor(){super(w(ld.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const e=w(ld.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new de({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new de({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new de({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new de({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(A.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){Y(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e),`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const n=new Float32Array(e);for(let o=0;o<e;o++){const c=19980*Math.pow(o/e,2)+20;n[o]=c}const s=new Float32Array(e),r=new Float32Array(e),i=this.context.createBiquadFilter();return i.type=this.type,i.Q.value=this.Q.value,i.frequency.value=this.frequency.value,i.gain.value=this.gain.value,i.getFrequencyResponse(n,s,r),s}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Cs extends A{constructor(){super(w(Cs.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new Z({context:this.context}),this.output=new Z({context:this.context}),this._filters=[];const e=w(Cs.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new te({context:this.context,units:"positive",value:e.Q}),this.frequency=new te({context:this.context,units:"frequency",value:e.frequency}),this.detune=new te({context:this.context,units:"cents",value:e.detune}),this.gain=new te({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,J(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(A.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){Y(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e),`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(s=>s.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const n=ks(e)?e:parseInt(e,10),s=[-12,-24,-48,-96];let r=s.indexOf(n);Y(-1!==r,`rolloff can only be ${s.join(", ")}`),r+=1,this._rolloff=n,this.input.disconnect(),this._filters.forEach(i=>i.disconnect()),this._filters=new Array(r);for(let i=0;i<r;i++){const o=new ld({context:this.context});o.type=this._type,this.frequency.connect(o.frequency),this.detune.connect(o.detune),this.Q.connect(o.Q),this.gain.connect(o.gain),this._filters[i]=o}this._internalChannels=this._filters,Ls(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const n=new ld({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),s=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{n.getFrequencyResponse(e).forEach((i,o)=>s[o]*=i)}),n.dispose(),s}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),Yl(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class dd extends vn{constructor(){super(w(dd.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="FrequencyEnvelope";const e=w(dd.getDefaults(),arguments,["attack","decay","sustain","release"]);this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new cd({context:this.context,value:e.exponent}),this._scale=this.output=new gi({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(vn.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const n=this.toFrequency(e);On(n,0),this._baseFrequency=n,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class fr extends wn{constructor(){super(w(fr.getDefaults(),arguments)),this.name="MonoSynth";const e=w(fr.getDefaults(),arguments);this.oscillator=new pi(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new Cs(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new dd(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new ud(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),J(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(wn.getDefaults(),{envelope:Object.assign(yn(vn.getDefaults(),Object.keys(A.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(yn(Cs.getDefaults(),Object.keys(A.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(yn(dd.getDefaults(),Object.keys(A.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(yn(pi.getDefaults(),Object.keys(Rt.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,n=1){if(this.envelope.triggerAttack(e,n),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),0===this.envelope.sustain){const s=this.toSeconds(this.envelope.attack),r=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+r)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class hd extends hr{constructor(){super(w(hd.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=w(hd.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,J(this,["oscillator","envelope"])}static getDefaults(){return Fs(wn.getDefaults(),hr.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const s=this.toSeconds(n),r=this.toFrequency(e instanceof rs?e.toFrequency():e);return this.oscillator.frequency.setValueAtTime(r*this.octaves,s),this.oscillator.frequency.exponentialRampToValueAtTime(r,s+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Rs([_O(0)],hd.prototype,"octaves",void 0),Rs([mi(0)],hd.prototype,"pitchDecay",void 0);const nD=new Set;function sD(t){nD.add(t)}function DO(t,e){nD.add(`registerProcessor("${t}", ${e})`)}sD('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n'),sD("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n"),sD("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n");DO("feedback-comb-filter",'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class Uc extends Ds{constructor(){super(w(Uc.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0;const e=w(Uc.getDefaults(),arguments,["voice","options"]);Y(!ks(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const n=e.voice.getDefaults();this.options=Object.assign(n,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const s=this._voices.indexOf(this._dummyVoice);this._voices.splice(s,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Ds.getDefaults(),{maxPolyphony:32,options:{},voice:hr})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const n=this._activeVoices.findIndex(s=>s.voice===e);this._activeVoices.splice(n,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return e.connect(this.output),this._voices.push(e),e}Vp("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(.95*this._averageActiveVoices,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),n=this._voices.indexOf(e);this._voices.splice(n,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,n,s){e.forEach(r=>{const i=new td(this.context,r).toMidi(),o=this._getNextAvailableVoice();o&&(o.triggerAttack(r,n,s),this._activeVoices.push({midi:i,voice:o,released:!1}),this.log("triggerAttack",r,n))})}_triggerRelease(e,n){e.forEach(s=>{const r=new td(this.context,s).toMidi(),i=this._activeVoices.find(({midi:o,released:a})=>o===r&&!a);i&&(i.voice.triggerRelease(n),i.released=!0,this.log("triggerRelease",s,n))})}_scheduleEvent(e,n,s,r){Y(!this.disposed,"Synth was already disposed"),s<=this.now()?"attack"===e?this._triggerAttack(n,s,r):this._triggerRelease(n,s):this.context.setTimeout(()=>{this._scheduleEvent(e,n,s,r)},s-this.now())}triggerAttack(e,n,s){Array.isArray(e)||(e=[e]);const r=this.toSeconds(n);return this._scheduleEvent("attack",e,r,s),this}triggerRelease(e,n){Array.isArray(e)||(e=[e]);const s=this.toSeconds(n);return this._scheduleEvent("release",e,s),this}triggerAttackRelease(e,n,s,r){const i=this.toSeconds(s);if(this.triggerAttack(e,i,r),Rn(n)){Y(Rn(e),"If the duration is an array, the notes must also be an array");for(let o=0;o<e.length;o++){const a=n[Math.min(o,n.length-1)],c=this.toSeconds(a);Y(c>0,"The duration must be greater than 0"),this.triggerRelease(e[o],i+c)}}else{const o=this.toSeconds(n);Y(o>0,"The duration must be greater than 0"),this.triggerRelease(e,i+o)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}set(e){const n=yn(e,["onsilence","context"]);return this.options=Fs(this.options,n),this._voices.forEach(s=>s.set(n)),this._dummyVoice.set(n),this}get(){return this._dummyVoice.get()}releaseAll(e){const n=this.toSeconds(e);return this._activeVoices.forEach(({voice:s})=>{s.triggerRelease(n)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class md extends Ds{constructor(){super(w(md.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=w(md.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),n={};Object.keys(e.urls).forEach(s=>{const r=parseInt(s,10);if(Y(Lp(s)||ks(r)&&isFinite(r),`url key is neither a note or midi pitch: ${s}`),Lp(s)){const i=new rs(this.context,s).toMidi();n[i]=e.urls[s]}else ks(r)&&isFinite(r)&&(n[r]=e.urls[r])}),this._buffers=new Yp({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Ds.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Me,onerror:Me,release:.1,urls:{}})}_findClosest(e){let s=0;for(;s<96;){if(this._buffers.has(e+s))return-s;if(this._buffers.has(e-s))return s;s++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,s=1){return this.log("triggerAttack",e,n,s),Array.isArray(e)||(e=[e]),e.forEach(r=>{const i=hO(new rs(this.context,r).toFrequency()),o=Math.round(i),a=i-o,c=this._findClosest(o),l=this._buffers.get(o-c),d=Kl(c+a),h=new qo({url:l,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:d}).connect(this.output);h.start(n,0,l.duration/d,s),Rn(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(h),h.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const f=this._activeSources.get(o),p=f.indexOf(h);-1!==p&&f.splice(p,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(s=>{const r=new rs(this.context,s).toMidi();if(this._activeSources.has(r)&&this._activeSources.get(r).length){const i=this._activeSources.get(r);n=this.toSeconds(n),i.forEach(o=>{o.stop(n)}),this._activeSources.set(r,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(s=>{for(;s.length;)s.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,s,r=1){const i=this.toSeconds(s);return this.triggerAttack(e,i,r),Rn(n)?(Y(Rn(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const c=n[Math.min(a,n.length-1)];this.triggerRelease(o,i+this.toSeconds(c))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,s){if(Y(Lp(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Lp(e)){const r=new rs(this.context,e).toMidi();this._buffers.add(r,n,s)}else this._buffers.add(e,n,s);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}Rs([mi(0)],md.prototype,"attack",void 0),Rs([mi(0)],md.prototype,"release",void 0);class wd extends A{constructor(){super(Object.assign(w(wd.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=w(wd.getDefaults(),arguments,["pan"]);this.pan=new de({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",J(this,"pan")}static getDefaults(){return Object.assign(A.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}DO("bit-crusher","\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class $t extends A{constructor(){super(w($t.getDefaults(),arguments,["solo"])),this.name="Solo";const e=w($t.getDefaults(),arguments,["solo"]);this.input=this.output=new Z({context:this.context}),$t._allSolos.has(this.context)||$t._allSolos.set(this.context,new Set),$t._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(A.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),$t._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return 0===this.input.gain.value}_addSolo(){$t._soloed.has(this.context)||$t._soloed.set(this.context,new Set),$t._soloed.get(this.context).add(this)}_removeSolo(){$t._soloed.has(this.context)&&$t._soloed.get(this.context).delete(this)}_isSoloed(){return $t._soloed.has(this.context)&&$t._soloed.get(this.context).has(this)}_noSolos(){return!$t._soloed.has(this.context)||$t._soloed.has(this.context)&&0===$t._soloed.get(this.context).size}_updateSolo(){this.input.gain.value=this._isSoloed()||this._noSolos()?1:0}dispose(){return super.dispose(),$t._allSolos.get(this.context).delete(this),this._removeSolo(),this}}$t._allSolos=new Map,$t._soloed=new Map;class ag extends A{constructor(){super(w(ag.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=w(ag.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new wd({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new hi({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,J(this,["pan","volume"])}static getDefaults(){return Object.assign(A.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Wo extends A{constructor(){super(w(Wo.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=w(Wo.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new $t({solo:e.solo,context:this.context}),this._panVol=this.output=new ag({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),J(this,["pan","volume"])}static getDefaults(){return Object.assign(A.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Wo.buses.has(e)||Wo.buses.set(e,new Z({context:this.context})),Wo.buses.get(e)}send(e,n=0){const s=this._getBus(e),r=new Z({context:this.context,units:"decibels",gain:n});return this.connect(r),r.connect(s),r}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Wo.buses=new Map;class QQ extends A{constructor(){super(...arguments),this.name="Listener",this.positionX=new de({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new de({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new de({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new de({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new de({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new de({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new de({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new de({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new de({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(A.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}function VD(){return Ps().now()}Up(t=>{t.listener=new QQ({context:t})}),Hp(t=>{t.listener.dispose()}),Ps(),Ps(),Ps(),Ps(),Ps(),Ps();var kt=function(t){return t.WHOLE="WHOLE",t.HALF="HALF",t.QUARTER="QUARTER",t.EIGHTH="EIGHTH",t.SIXTEENTH="SIXTEENTH",t}(kt||{});const LD=new Map([[1,kt.WHOLE],[2,kt.HALF],[4,kt.QUARTER],[8,kt.EIGHTH],[16,kt.SIXTEENTH]]),ZQ={[kt.WHOLE]:4,[kt.HALF]:2,[kt.QUARTER]:1,[kt.EIGHTH]:.5,[kt.SIXTEENTH]:.25},jD=t=>({[kt.WHOLE]:kt.HALF,[kt.HALF]:kt.QUARTER,[kt.QUARTER]:kt.EIGHTH,[kt.EIGHTH]:kt.SIXTEENTH,[kt.SIXTEENTH]:kt.SIXTEENTH}[t]),eo=new qt(Xc);function RO(...t){const e=fv(t);return ln((n,s)=>{const r=t.length,i=new Array(r);let o=t.map(()=>!1),a=!1;for(let c=0;c<r;c++)er(t[c]).subscribe(Pt(s,u=>{i[c]=u,!a&&!o[c]&&(o[c]=!0,(a=o.every(bi))&&(o=null))},Xc));n.subscribe(Pt(s,c=>{if(a){const u=[c,...i];s.next(e?e(...u):u)}}))})}class YQ extends kn{constructor(e,n){super()}schedule(e,n=0){return this}}const ug={setInterval(t,e,...n){const{delegate:s}=ug;return s?.setInterval?s.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=ug;return(e?.clearInterval||clearInterval)(t)},delegate:void 0},BD={now:()=>(BD.delegate||Date).now(),delegate:void 0};class Sd{constructor(e,n=Sd.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,s){return new this.schedulerActionCtor(this,e).schedule(s,n)}}Sd.now=BD.now;const JQ=new class KQ extends Sd{constructor(e,n=Sd.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let s;this._active=!0;do{if(s=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,s){for(;e=n.shift();)e.unsubscribe();throw s}}}(class XQ extends YQ{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var s;if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=null!==(s=this.id)&&void 0!==s?s:this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,s=0){return ug.setInterval(e.flush.bind(e,this),s)}recycleAsyncId(e,n,s=0){if(null!=s&&this.delay===s&&!1===this.pending)return n;null!=n&&ug.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(e,n);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r,s=!1;try{this.work(e)}catch(i){s=!0,r=i||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:s}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Nd(s,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}});var Qo=function(t){return t.TIP="TIP",t.TAP="TAP",t.HALF_TIP="HALF_TIP",t.QUARTER_TIP="QUARTER_TIP",t}(Qo||{});let kO=(()=>{class t{constructor(){this._isMetronomeOn=new zt(!0),this._isPlaying=new zt(!1),this._bpm=new zt(120),this._numBeatsPerBar=new zt(4),this._beatValue=new zt(4),this._loopDuration=new zt(2),this.isMetronomeOn$=this._isMetronomeOn.asObservable(),this.isPlaying$=this._isPlaying.asObservable(),this.bpm$=this._bpm.asObservable(),this.numBeatsPerBar$=this._numBeatsPerBar.asObservable(),this.beatValue$=this._beatValue.asObservable(),this.loopDuration$=this._loopDuration.asObservable(),this.beatCounter$=Oo([this.isPlaying$,this.bpm$,this.beatValue$]).pipe(xn(([n,s,r])=>{const i=LD.get(r);return n?this.buildTimer(s,i):eo}),xn(n=>this.discardFirstTick(n))),this.beatTick$=this.beatCounter$.pipe(RO(this.numBeatsPerBar$,this.beatValue$,this.loopDuration$),Ne(([n,s,r,i])=>{if(n>s){if(n>i*s){const o=n%(i*s);return 0===o?i*s:o}return n}return n%s==0?s:n%s}),Zt(n=>console.log("beat tick: ",n))),this.halfTick$=Oo([this.isPlaying$,this.beatCounter$,this.bpm$,this.beatValue$]).pipe(xn(([n,s,r,i])=>{const o=LD.get(i);return n?this.buildTimer(r,jD(o)):eo})),this.quarterTick$=Oo([this.beatTick$,this.isPlaying$,this.bpm$,this.beatValue$]).pipe(xn(([n,s,r,i])=>{const o=LD.get(i),a=jD(o),c=jD(a);return s?this.buildTimer(r,c):eo}),Ne(n=>n+1),Zt(n=>console.log("quarter tick: ",n))),this.metronomeClick$=this.beatTick$.pipe(RO(this.numBeatsPerBar$,this.isMetronomeOn$),xn(([n,s,r])=>r?ae(n%s==1?Qo.TIP:Qo.TAP):eo))}get isMetronomeOn(){return this._isMetronomeOn.getValue()}get isPlaying(){return this._isPlaying.getValue()}get bpm(){return this._bpm.getValue()}get numBeatsPerBar(){return this._numBeatsPerBar.getValue()}get noteDurationPerBeat(){return this._beatValue.getValue()}get loopDuration(){return this._loopDuration.getValue()}toggleIsMetronomeOn(){this._isMetronomeOn.next(!this.isMetronomeOn)}toggleIsPlaying(){this._isPlaying.next(!this.isPlaying)}setBpm(n){this._bpm.next(n)}setNumBeatsPerBar(n){this._numBeatsPerBar.next(n)}setNoteDurationPerBeat(n){this._beatValue.next(n)}setLoopDuration(n){this._loopDuration.next(n)}buildTimer(n,s=kt.QUARTER){return function tZ(t=0,e,n=JQ){let s=-1;return null!=e&&(VM(e)?n=e:s=e),new qt(r=>{let i=function eZ(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;i<0&&(i=0);let o=0;return n.schedule(function(){r.closed||(r.next(o++),0<=s?this.schedule(void 0,s):r.complete())},i)})}(0,60/n*1e3*ZQ[s])}discardFirstTick(n,s=1){return 0===n?eo:ae(n)}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ed=(()=>{class t{constructor(){this.metronomePlayers={[Qo.TIP]:new dr("./assets/audio/metronome_tip.wav").toDestination(),[Qo.TAP]:new dr("./assets/audio/metronome_tap.wav").toDestination(),[Qo.HALF_TIP]:new dr("./assets/audio/metronome_half_tip.wav").toDestination(),[Qo.QUARTER_TIP]:new dr("./assets/audio/metronome_quarter_tip.wav").toDestination()},this.samples={snare:new dr("./assets/audio/clap_basic.wav").toDestination()},this.polySynths=[new Uc(hr).toDestination(),new Uc(hr).toDestination(),new Uc(hr).toDestination()],this.synthSetups=[{id:1,octave:3,synth:new fr({oscillator:{type:"sine"}}).toDestination()},{id:2,octave:3,synth:new fr({oscillator:{type:"sine"}}).toDestination()},{id:3,octave:3,synth:new fr({oscillator:{type:"sine"}}).toDestination()}]}getPolySynths(){return this.polySynths}getSynthSetups(){return this.synthSetups}setOscillatorType(n,s){this.replaceSynth(n,this.buildMonoSynth(s))}setOscillatorOctave(n,s){}playMetronomeClick(n){this.metronomePlayers[n].start()}playSample(n){this.samples[n].start()}playMonoSynth(n){const s=VD();n?.triggerAttackRelease("C3","2n",s)}playNote(n){const s=VD();this.synthSetups[0].synth?.triggerAttackRelease(n.frequency,"4n",s)}playNotes(n){const s=VD(),r=this.polySynths[0],i=n.map(o=>o.frequency);r?.triggerAttackRelease(i,"4n",s)}replaceSynth(n,s){let r=this.getSynthSetups().findIndex(i=>i.synth==n);this.synthSetups[r].synth.disconnect(),this.synthSetups[r].synth=s.toDestination()}buildMonoSynth(n){return new fr({oscillator:{type:n}})}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function nZ(t,e){if(1&t&&(H(0,"div",12),je(1),lt(2,"note"),Q()),2&t){const n=e.$implicit;xe(),Mr(" ",pf(2,1,n,n.octave)," ")}}function sZ(t,e){if(1&t){const n=xs();H(0,"button",8),et("click",function(){const r=Pn(n).$implicit;return Vn(Nt(3).playChord(r))}),H(1,"div",9),vt(2,nZ,3,4,"div",10),Q(),H(3,"div",11),je(4),lt(5,"degree"),Q()()}if(2&t){const n=e.$implicit,s=e.index;xe(2),ct("ngForOf",n),xe(2),Mr(" ",xt(5,2,s)," ")}}function rZ(t,e){if(1&t&&(H(0,"div")(1,"div",4)(2,"div",5),je(3),lt(4,"chordtype"),Q(),H(5,"div",6),vt(6,sZ,6,4,"button",7),Q()()()),2&t){const n=e.$implicit;xe(3),ni(xt(4,2,n.key)),xe(3),ct("ngForOf",n.value)}}function iZ(t,e){if(1&t&&(H(0,"div",2),vt(1,rZ,7,4,"div",3),lt(2,"async"),lt(3,"keyvalue"),Q()),2&t){const n=Nt();xe(),ct("ngForOf",pf(3,3,xt(2,1,n.allChords$),n.keepOriginalOrder))}}let oZ=(()=>{class t{constructor(n,s){this.musicService=n,this.toneService=s,this.chords$=this.musicService.currentChords$,this.allChords$=this.musicService.allChords$,this.ChordType=ne}playChord(n){this.toneService.playNotes(n)}keepOriginalOrder(n,s){return 0}static{this.\u0275fac=function(s){return new(s||t)(M(Cc),M(Ed))}}static{this.\u0275cmp=Es({type:t,selectors:[["app-chords-view"]],standalone:!0,features:[Ms],decls:3,vars:3,consts:[[1,"chords-view"],["class","d-flex flex-column overflow-auto",4,"ngIf"],[1,"d-flex","flex-column","overflow-auto"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-lg-1","d-flex","align-items-center"],[1,"col-lg-11","col-12","d-flex"],["class","card p-1 m-1 w-100 square d-flex flex-column justify-content-center align-items-center",3,"click",4,"ngFor","ngForOf"],[1,"card","p-1","m-1","w-100","square","d-flex","flex-column","justify-content-center","align-items-center",3,"click"],[1,"d-flex","flex-row","flex-wrap","justify-content-center"],["class","fs-6","style","padding: 1px",4,"ngFor","ngForOf"],[1,"chord-degree","fs-5"],[1,"fs-6",2,"padding","1px"]],template:function(s,r){1&s&&(H(0,"div",0),vt(1,iZ,4,6,"div",1),lt(2,"async"),Q()),2&s&&(xe(),ct("ngIf",xt(2,1,r.allChords$)))},dependencies:[Ar,No,Zy,Bf,Yx,h8,pw,f8],styles:[".chords-container[_ngcontent-%COMP%]{margin-left:24px}"]})}}return t})();function aZ(t,e){if(1&t){const n=xs();H(0,"button",8),et("click",function(){const r=Pn(n).$implicit,i=Nt().$implicit;return Vn(Nt().changeOscillatorType(i.synth,r))}),je(1),lt(2,"uppercase"),Q()}if(2&t){const n=e.$implicit;xe(),Mr(" ",xt(2,1,n)," ")}}function cZ(t,e){if(1&t){const n=xs();H(0,"div",2)(1,"div",3)(2,"div"),je(3,"Synth"),Q(),H(4,"div"),je(5),Q()(),H(6,"div",4)(7,"button",5),et("click",function(){const r=Pn(n).$implicit;return Vn(Nt().playSynth(r.synth))}),H(8,"span",6),je(9,"play_arrow"),Q()(),vt(10,aZ,3,3,"button",7),Q()()}if(2&t){const n=e.$implicit,s=Nt();xe(5),ni(n.synth.oscillator.type),xe(5),ct("ngForOf",s.oscillatorTypes)}}let uZ=(()=>{class t{constructor(n){this.toneService=n,this.oscillatorTypes=["sine","sawtooth","square","triangle"],this.synthSetups=[],this.synths=[]}ngOnInit(){this.synths=this.toneService.getPolySynths(),this.synthSetups=this.toneService.getSynthSetups()}playSynth(n){this.toneService.playMonoSynth(n)}changeOscillatorOctave(n,s){this.toneService.setOscillatorOctave(n,s)}changeOscillatorType(n,s){this.toneService.setOscillatorType(n,s)}static{this.\u0275fac=function(s){return new(s||t)(M(Ed))}}static{this.\u0275cmp=Es({type:t,selectors:[["app-synth-view"]],standalone:!0,features:[Ms],decls:2,vars:1,consts:[[1,"synth-view","d-flex","flex-row","overflow-auto"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"d-flex","flex-column"],[1,"btn","btn-primary","m-2","align",3,"click"],[1,"material-icons"],["class","btn btn-secondary m-2",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-secondary","m-2",3,"click"]],template:function(s,r){1&s&&(H(0,"div",0),vt(1,cZ,11,2,"div",1),Q()),2&s&&(xe(),ct("ngForOf",r.synthSetups))},dependencies:[Ar,No,Zx],styles:[".synth-view[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{min-width:250px}"]})}}return t})();function lZ(t,e){if(1&t&&(H(0,"option",2),je(1),lt(2,"note"),Q()),2&t){const n=e.$implicit;ct("value",n.name),xe(),Mr(" ",xt(2,2,n)," ")}}let FO=(()=>{class t{constructor(n){this.musicService=n,this.rootNoteName=this.musicService.currentRootNote.name,this.octaveThreeNotes=Vo.filter(s=>3===s.octave)}updateRootNote(){this.musicService.setCurrentRootNote(this.octaveThreeNotes.find(n=>n.name===this.rootNoteName))}static{this.\u0275fac=function(s){return new(s||t)(M(Cc))}}static{this.\u0275cmp=Es({type:t,selectors:[["app-root-note-selector"]],standalone:!0,features:[Ms],decls:2,vars:2,consts:[["name","selectRootNote",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(s,r){1&s&&(H(0,"select",0),df("ngModelChange",function(o){return ly(r.rootNoteName,o)||(r.rootNoteName=o),o}),et("change",function(){return r.updateRootNote()}),vt(1,lZ,3,4,"option",1),Q()),2&s&&(lf("ngModel",r.rootNoteName),xe(),ct("ngForOf",r.octaveThreeNotes))},dependencies:[Ar,No,pw,wp,lw,hw,jl,Zv,vp]})}}return t})();function dZ(t,e){if(1&t&&(H(0,"option",2),je(1),Q()),2&t){const n=e.$implicit;ct("value",n),xe(),Mr(" ",n," ")}}let PO=(()=>{class t{constructor(n){this.musicService=n,this.scaleMode=this.musicService.currentScaleMode,this.modes=Object.values(Vr)}updateMode(){this.musicService.setCurrentScaleMode(this.scaleMode)}static{this.\u0275fac=function(s){return new(s||t)(M(Cc))}}static{this.\u0275cmp=Es({type:t,selectors:[["app-scale-mode-selector"]],standalone:!0,features:[Ms],decls:2,vars:2,consts:[["name","selectedScaleMode",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(s,r){1&s&&(H(0,"select",0),df("ngModelChange",function(o){return ly(r.scaleMode,o)||(r.scaleMode=o),o}),et("change",function(){return r.updateMode()}),vt(1,dZ,2,2,"option",1),Q()),2&s&&(lf("ngModel",r.scaleMode),xe(),ct("ngForOf",r.modes))},dependencies:[Ar,No,wp,lw,hw,jl,Zv,vp],encapsulation:2})}}return t})();function hZ(t,e){if(1&t){const n=xs();H(0,"div",3),et("click",function(){const r=Pn(n).$implicit;return Vn(Nt().playNote(r))}),H(1,"div",4)(2,"div"),je(3),lt(4,"note"),Q()()()}if(2&t){const n=e.$implicit;xe(3),ni(xt(4,1,n))}}function fZ(t,e){if(1&t){const n=xs();H(0,"div",3),et("click",function(){const r=Pn(n).$implicit;return Vn(Nt().playNote(r))}),H(1,"div",5)(2,"div",6),je(3),lt(4,"note"),Q()(),H(5,"div",7)(6,"div",8),je(7),Q()()()}if(2&t){const n=e.$implicit;xe(3),ni(pf(4,2,n,n.octave)),xe(4),ni(n.position)}}let pZ=(()=>{class t{constructor(n,s){this.musicService=n,this.toneService=s,this.scaleNotes$=this.musicService.currentScale$,this.chords$=this.musicService.currentChords$,this.notes=Vo}playNote(n){this.toneService.playNote(n)}static{this.\u0275fac=function(s){return new(s||t)(M(Cc),M(Ed))}}static{this.\u0275cmp=Es({type:t,selectors:[["app-notes-player-view"]],standalone:!0,features:[Ms],decls:6,vars:4,consts:[[1,"notes-player-view"],[1,"d-flex","overflow-auto"],["class","card",3,"click",4,"ngFor","ngForOf"],[1,"card",3,"click"],[1,"d-flex","flex-row","justify-content-center"],[1,"d-flex","flex-row","justify-content-center","fs-5"],[1,"note-name"],[1,"d-flex","flex-row","justify-content-center","fs-6"],[1,"note-position"]],template:function(s,r){1&s&&(H(0,"div",0)(1,"div",1),vt(2,hZ,5,3,"div",2),lt(3,"async"),Q(),H(4,"div",1),vt(5,fZ,8,5,"div",2),Q()()),2&s&&(xe(2),ct("ngForOf",xt(3,2,r.scaleNotes$)),xe(3),ct("ngForOf",r.notes))},dependencies:[Ar,No,Bf,pw],styles:[".notes-player-view[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{min-width:60px}"]})}}return t})(),gZ=(()=>{class t{constructor(n,s){this.musicService=n,this.toneService=s,this.scaleNotes$=this.musicService.currentScale$,this.chords$=this.musicService.currentChords$,this.notes=Vo}static{this.\u0275fac=function(s){return new(s||t)(M(Cc),M(Ed))}}static{this.\u0275cmp=Es({type:t,selectors:[["app-player-view"]],standalone:!0,features:[Ms],decls:10,vars:0,consts:[[1,"player-view","container"],[1,"row"]],template:function(s,r){1&s&&(H(0,"div",0)(1,"div",1),xr(2,"app-root-note-selector")(3,"app-scale-mode-selector"),Q(),H(4,"div",1),xr(5,"app-chords-view"),Q(),H(6,"div",1),xr(7,"app-notes-player-view"),Q(),H(8,"div",1),xr(9,"app-synth-view"),Q()())},dependencies:[Ar,wp,oZ,uZ,FO,PO,pZ],styles:[".player-view[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-bottom:1rem}"]})}}return t})(),mZ=(()=>{class t{static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275cmp=Es({type:t,selectors:[["ng-component"]],standalone:!0,features:[Ms],decls:0,vars:0,template:function(s,r){},dependencies:[Ar],encapsulation:2})}}return t})();class _Z extends is{constructor(e=1/0,n=1/0,s=BD){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:s,_infiniteTimeWindow:r,_timestampProvider:i,_windowTime:o}=this;n||(s.push(e),!r&&s.push(i.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:s,_buffer:r}=this,i=r.slice();for(let o=0;o<i.length&&!e.closed;o+=s?1:2)e.next(i[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:s,_infiniteTimeWindow:r}=this,i=(r?1:2)*e;if(e<1/0&&i<s.length&&s.splice(0,s.length-i),!r){const o=n.now();let a=0;for(let c=1;c<s.length&&s[c]<=o;c+=2)a=c;a&&s.splice(0,a+1)}}}var qc=function(t){return t.WHOLE="WHOLE",t.HALF="HALF",t.QUARTER="QUARTER",t}(qc||{}),lg=function(t){return t.REGISTER="REGISTER",t.DEREGISTER="DEREGISTER",t}(lg||{}),VO=function(t){return t.HIT="HIT",t}(VO||{});let yZ=(()=>{class t{constructor(n){this.timeService=n,this.subscriptions=[],this._observableEmitter=new _Z,this.observableEmitter$=this._observableEmitter.asObservable(),this.ticks={[qc.WHOLE]:this.timeService.beatTick$,[qc.HALF]:this.timeService.halfTick$,[qc.QUARTER]:this.timeService.quarterTick$}}registerHit(n,s,r=qc.QUARTER){const o=this.buildHitStream(n,this.timeService.beatTick$);this._observableEmitter.next({instrument:s,onTick:n,action:lg.REGISTER,stream:o})}deregisterHit(n,s,r=qc.QUARTER){this._observableEmitter.next({instrument:s,onTick:n,action:lg.DEREGISTER,stream:eo})}buildHitStream(n,s=this.timeService.quarterTick$){return s.pipe(Ne(r=>r===n&&(console.log("HIT",r,n),!0)),xn(r=>r?ae(VO.HIT):eo))}static{this.\u0275fac=function(s){return new(s||t)(ce(kO))}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const UD=()=>[];function vZ(t,e){if(1&t){const n=xs();Xu(0),H(1,"button",13),et("click",function(){return Pn(n),Vn(Nt().toggleIsMetronomeOn())}),je(2,"toggle_on"),Q(),Ku()}}function wZ(t,e){if(1&t){const n=xs();H(0,"button",13),et("click",function(){return Pn(n),Vn(Nt().toggleIsMetronomeOn())}),je(1,"toggle_off"),Q()}}function DZ(t,e){if(1&t){const n=xs();Xu(0),H(1,"button",13),et("click",function(){return Pn(n),Vn(Nt().toggleIsPlaying())}),je(2,"pause_circle"),Q(),Ku()}}function CZ(t,e){if(1&t){const n=xs();H(0,"button",13),et("click",function(){return Pn(n),Vn(Nt().toggleIsPlaying())}),je(1,"play_circle"),Q()}}function bZ(t,e){if(1&t&&(H(0,"button",17)(1,"span"),lt(2,"async"),je(3),Q()()),2&t){const n=e.index,s=Nt().ngIf,r=Nt();xe(),Io("text-bg-secondary",(n+1)%s==1)("text-bg-warning",xt(2,5,r.beatTick$)===n+1),xe(2),Mr(" ",n%s+1," ")}}function SZ(t,e){if(1&t&&(H(0,"div",3)(1,"div",14),je(2,"#"),Q(),H(3,"div",15),vt(4,bZ,4,7,"button",16),lt(5,"async"),Q()()),2&t){let n;const s=e.ngIf,r=Nt();xe(4),ct("ngForOf",ff(3,UD).constructor(s*(null!==(n=xt(5,1,r.loopDuration$))&&void 0!==n?n:1)))}}function EZ(t,e){if(1&t){const n=xs();H(0,"button",19),et("click",function(){const r=Pn(n).index;return Vn(Nt(2).toggleHit(r+1,"snare"))}),H(1,"span",20),je(2),Q()()}if(2&t){const n=e.index,s=Nt().ngIf;Io("bg-success",!!Nt().getRegisteredHit(n+1,"snare")),xe(2),ni(n%s+1)}}function TZ(t,e){if(1&t&&(H(0,"div",3)(1,"div",14),je(2,"Snare"),Q(),H(3,"div",15),vt(4,EZ,3,3,"button",18),lt(5,"async"),Q()()),2&t){let n;const s=e.ngIf,r=Nt();xe(4),ct("ngForOf",ff(3,UD).constructor(s*(null!==(n=xt(5,1,r.loopDuration$))&&void 0!==n?n:1)))}}function IZ(t,e){if(1&t&&(H(0,"button",22)(1,"span",20),je(2),Q()()),2&t){const n=e.index,s=Nt().ngIf;Io("bg-success",!1),xe(2),ni(n%s+1)}}function xZ(t,e){if(1&t&&(H(0,"div",3)(1,"div",14),je(2,"Hat"),Q(),H(3,"div",15),vt(4,IZ,3,3,"button",21),lt(5,"async"),Q()()),2&t){let n;const s=e.ngIf,r=Nt();xe(4),ct("ngForOf",ff(3,UD).constructor(2*s*(null!==(n=xt(5,1,r.loopDuration$))&&void 0!==n?n:1)))}}const MZ=[{path:"",component:gZ},{path:"piano-roll",component:mZ},{path:"sketch",component:(()=>{class t{constructor(n,s,r,i){this.musicService=n,this.toneService=s,this.timeService=r,this.sequencerService=i,this.subscriptions=[],this.hitSubscriptions=[],this.isMetronomeOn$=this.timeService.isMetronomeOn$,this.isPlaying$=this.timeService.isPlaying$,this.bpm$=this.timeService.bpm$,this.numBeatsPerBar$=this.timeService.numBeatsPerBar$,this.noteDurationPerBeat$=this.timeService.beatValue$,this.beatTick$=this.timeService.beatTick$,this.metronomeClick$=this.timeService.metronomeClick$,this.loopDuration$=this.timeService.loopDuration$}ngOnInit(){this.subscriptions.push(this.metronomeClick$.pipe(Zt(n=>this.toneService.playMetronomeClick(n))).subscribe(),this.timeService.halfTick$.pipe(Ne(n=>1===n)).subscribe(),this.timeService.quarterTick$.pipe(Ne(n=>1===n||3===n)).subscribe(),this.sequencerService.observableEmitter$.pipe(Zt(n=>this.subscribeToNewObservable(n))).subscribe())}getRegisteredHit(n,s="snare"){return this.hitSubscriptions.find(r=>r.instrument===s&&r.onTick===n)}toggleHit(n,s){this.getRegisteredHit(n,s)?this.sequencerService.deregisterHit(n,s):this.sequencerService.registerHit(n,s)}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}toggleIsMetronomeOn(){this.timeService.toggleIsMetronomeOn()}toggleIsPlaying(){this.timeService.toggleIsPlaying()}setBpm(n){n.target.value&&this.timeService.setBpm(Number(n.target.value))}setNumBeatsPerBar(n){n.target.value&&this.timeService.setNumBeatsPerBar(Number(n.target.value))}setNoteDurationPerBeat(n){n.target.value&&this.timeService.setNoteDurationPerBeat(Number(n.target.value))}setLoopDuration(n){n.target.value&&this.timeService.setLoopDuration(Number(n.target.value))}subscribeToNewObservable(n){if(n.action===lg.REGISTER)this.hitSubscriptions.push({instrument:n.instrument,onTick:n.onTick,subscription:this.timeService.beatTick$.pipe(Zt(s=>{s%(this.timeService.numBeatsPerBar*this.timeService.loopDuration)===n.onTick&&this.toneService.playSample(n.instrument)})).subscribe()});else{const s=this.getRegisteredHit(n.onTick,n.instrument);s?(s.subscription.unsubscribe(),this.hitSubscriptions=this.hitSubscriptions.filter(r=>r!==s)):console.log("should not happen !")}}static{this.\u0275fac=function(s){return new(s||t)(M(Cc),M(Ed),M(kO),M(yZ))}}static{this.\u0275cmp=Es({type:t,selectors:[["ng-component"]],standalone:!0,features:[Ms],decls:46,vars:32,consts:[["offState",""],["pauseIcon",""],[1,"sketch-view","container"],[1,"row"],[1,"col"],[1,"d-flex","flex-row"],["for","bpm"],["type","number","name","bpm","id","bpm","step","1",3,"change","value"],["type","number","name","numBeatsPerBar","id","numBeatsPerBar",3,"change","value"],["type","number","name","noteDurationPerBeat","id","noteDurationPerBeat",3,"change","value"],["type","number","name","loopDuration","id","loopDuration",3,"change","value"],[4,"ngIf","ngIfElse"],["class","row",4,"ngIf"],[1,"material-icons",3,"click"],[1,"col-lg-1","d-flex","align-items-center"],[1,"col-lg-11","col-12","d-flex"],["class","card p-1 m-1 square d-flex flex-column justify-content-center align-items-center",4,"ngFor","ngForOf"],[1,"card","p-1","m-1","square","d-flex","flex-column","justify-content-center","align-items-center"],["class","card p-1 m-1 square d-flex flex-column justify-content-center align-items-center",3,"bg-success","click",4,"ngFor","ngForOf"],[1,"card","p-1","m-1","square","d-flex","flex-column","justify-content-center","align-items-center",3,"click"],[1,"hidden"],["class","card pad-card p-1 m-1 square d-flex flex-column justify-content-center align-items-center",3,"bg-success",4,"ngFor","ngForOf"],[1,"card","pad-card","p-1","m-1","square","d-flex","flex-column","justify-content-center","align-items-center"]],template:function(s,r){if(1&s){const i=xs();H(0,"div",2)(1,"div",3),xr(2,"app-root-note-selector")(3,"app-scale-mode-selector"),Q(),H(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),je(8,"BPM"),Q(),H(9,"input",7),lt(10,"async"),et("change",function(a){return Pn(i),Vn(r.setBpm(a))}),Q()()()(),H(11,"div",3)(12,"div"),je(13,"Time Signature"),Q(),H(14,"input",8),lt(15,"async"),et("change",function(a){return Pn(i),Vn(r.setNumBeatsPerBar(a))}),Q(),H(16,"input",9),lt(17,"async"),et("change",function(a){return Pn(i),Vn(r.setNoteDurationPerBeat(a))}),Q()(),H(18,"div",3)(19,"div"),je(20,"Loop Duration"),Q(),H(21,"input",10),lt(22,"async"),et("change",function(a){return Pn(i),Vn(r.setLoopDuration(a))}),Q()(),H(23,"div",3)(24,"div",4)(25,"div"),je(26,"Metronome"),Q(),vt(27,vZ,3,0,"ng-container",11),lt(28,"async"),vt(29,wZ,2,0,"ng-template",null,0,gy),Q()(),H(31,"div",3)(32,"div",4),vt(33,DZ,3,0,"ng-container",11),lt(34,"async"),vt(35,CZ,2,0,"ng-template",null,1,gy),Q()(),H(37,"div",3),je(38),lt(39,"async"),Q(),vt(40,SZ,6,4,"div",12),lt(41,"async"),vt(42,TZ,6,4,"div",12),lt(43,"async"),vt(44,xZ,6,4,"div",12),lt(45,"async"),Q()}if(2&s){const i=uy(30),o=uy(36);xe(9),ct("value",xt(10,12,r.bpm$)),xe(5),ct("value",xt(15,14,r.numBeatsPerBar$)),xe(2),ct("value",xt(17,16,r.noteDurationPerBeat$)),xe(5),ct("value",xt(22,18,r.loopDuration$)),xe(6),ct("ngIf",xt(28,20,r.isMetronomeOn$))("ngIfElse",i),xe(6),ct("ngIf",xt(34,22,r.isPlaying$))("ngIfElse",o),xe(5),Mr(" ",xt(39,24,r.metronomeClick$)," "),xe(2),ct("ngIf",xt(41,26,r.numBeatsPerBar$)),xe(2),ct("ngIf",xt(43,28,r.numBeatsPerBar$)),xe(2),ct("ngIf",xt(45,30,r.numBeatsPerBar$))}},dependencies:[Ar,No,Zy,Bf,FO,PO,wp],styles:[".card[_ngcontent-%COMP%]{width:60px;height:60px;flex-shrink:0}.card.pad-card[_ngcontent-%COMP%]{width:6px}.hidden[_ngcontent-%COMP%]{visibility:hidden}"]})}}return t})()}];!function L3(t,e){JH({rootComponent:t,..._M(e)})}(pW,{providers:[function JG(t,...e){return su([{provide:vc,multi:!0,useValue:t},[],{provide:pc,useFactory:LA,deps:[nr]},{provide:yf,multi:!0,useFactory:jA},e.map(n=>n.\u0275providers)])}([...MZ]),{provide:Ly,useValue:"/sketched/"}]})},582:function(q,Tt,ke){!function(me,G,ze,Se){"use strict";function Le(Fe){return Fe&&"object"==typeof Fe&&"default"in Fe?Fe:{default:Fe}}var _t=Le(G),Dt=Le(ze),he=Le(Se),so=function(U,_e,P){return{endTime:_e,insertTime:P,type:"exponentialRampToValue",value:U}},Zo=function(U,_e,P){return{endTime:_e,insertTime:P,type:"linearRampToValue",value:U}},Id=function(U,_e){return{startTime:_e,type:"setValue",value:U}},xd=function(U,_e,P){return{duration:P,startTime:_e,type:"setValueCurve",values:U}},Yo=function(U,_e,P){var ie=P.target;return ie+(_e-ie)*Math.exp((P.startTime-U)/P.timeConstant)},vi=function(U){return"exponentialRampToValue"===U.type},ro=function(U){return"linearRampToValue"===U.type},Bs=function(U){return vi(U)||ro(U)},Xo=function(U){return"setValue"===U.type},bs=function(U){return"setValueCurve"===U.type},Ko=function Fe(U,_e,P,De){var ie=U[_e];return void 0===ie?De:Bs(ie)||Xo(ie)?ie.value:bs(ie)?ie.values[ie.values.length-1]:Yo(P,Fe(U,_e-1,ie.startTime,De),ie)},Wc=function(U,_e,P,De,ie){return void 0===P?[De.insertTime,ie]:Bs(P)?[P.endTime,P.value]:Xo(P)?[P.startTime,P.value]:bs(P)?[P.startTime+P.duration,P.values[P.values.length-1]]:[P.startTime,Ko(U,_e-1,P.startTime,ie)]},io=function(U){return"cancelAndHold"===U.type},Jo=function(U){return"cancelScheduledValues"===U.type},Us=function(U){return io(U)||Jo(U)?U.cancelTime:vi(U)||ro(U)?U.endTime:U.startTime},oo=function(U,_e,P,De){var Qe=De.value;return P===Qe?Qe:0<P&&0<Qe||P<0&&Qe<0?P*Math.pow(Qe/P,(U-_e)/(De.endTime-_e)):0},wi=function(U,_e,P,De){return P+(U-_e)/(De.endTime-_e)*(De.value-P)},Md=function(U,_e){var ie=_e.values;return function(U,_e){var P=Math.floor(_e),De=Math.ceil(_e);return P===De?U[P]:(1-(_e-P))*U[P]+(1-(De-_e))*U[De]}(ie,(U-_e.startTime)/_e.duration*(ie.length-1))},Qc=function(U){return"setTarget"===U.type},$D=function(Fe){function U(_e){Dt.default(this,U),this._automationEvents=[],this._currenTime=0,this._defaultValue=_e}return he.default(U,[{key:Fe,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(P){var De=Us(P);if(io(P)||Jo(P)){var ie=this._automationEvents.findIndex(function(Ss){return Jo(P)&&bs(Ss)?Ss.startTime+Ss.duration>=De:Us(Ss)>=De}),Qe=this._automationEvents[ie];if(-1!==ie&&(this._automationEvents=this._automationEvents.slice(0,ie)),io(P)){var Ce=this._automationEvents[this._automationEvents.length-1];if(void 0!==Qe&&Bs(Qe)){if(Qc(Ce))throw new Error("The internal list is malformed.");var ea=bs(Ce)?Ce.startTime+Ce.duration:Us(Ce),ao=bs(Ce)?Ce.values[Ce.values.length-1]:Ce.value,Zc=vi(Qe)?oo(De,ea,ao,Qe):wi(De,ea,ao,Qe),ta=vi(Qe)?so(Zc,De,this._currenTime):Zo(Zc,De,this._currenTime);this._automationEvents.push(ta)}void 0!==Ce&&Qc(Ce)&&this._automationEvents.push(Id(this.getValue(De),De)),void 0!==Ce&&bs(Ce)&&Ce.startTime+Ce.duration>De&&(this._automationEvents[this._automationEvents.length-1]=xd(new Float32Array([6,7]),Ce.startTime,De-Ce.startTime))}}else{var zr=this._automationEvents.findIndex(function(Ss){return Us(Ss)>De}),Ci=-1===zr?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[zr-1];if(void 0!==Ci&&bs(Ci)&&Us(Ci)+Ci.duration>De)return!1;var Ge=vi(P)?so(P.value,P.endTime,this._currenTime):ro(P)?Zo(P.value,De,this._currenTime):P;if(-1===zr)this._automationEvents.push(Ge);else{if(bs(P)&&De+P.duration>Us(this._automationEvents[zr]))return!1;this._automationEvents.splice(zr,0,Ge)}}return!0}},{key:"flush",value:function(P){var De=this._automationEvents.findIndex(function(Ce){return Us(Ce)>P});if(De>1){var ie=this._automationEvents.slice(De-1),Qe=ie[0];Qc(Qe)&&ie.unshift(Id(Ko(this._automationEvents,De-2,Qe.startTime,this._defaultValue),Qe.startTime)),this._automationEvents=ie}}},{key:"getValue",value:function(P){if(0===this._automationEvents.length)return this._defaultValue;var De=this._automationEvents.findIndex(function(Yc){return Us(Yc)>P}),ie=this._automationEvents[De],Qe=(-1===De?this._automationEvents.length:De)-1,Ce=this._automationEvents[Qe];if(void 0!==Ce&&Qc(Ce)&&(void 0===ie||!Bs(ie)||ie.insertTime>P))return Yo(P,Ko(this._automationEvents,Qe-1,Ce.startTime,this._defaultValue),Ce);if(void 0!==Ce&&Xo(Ce)&&(void 0===ie||!Bs(ie)))return Ce.value;if(void 0!==Ce&&bs(Ce)&&(void 0===ie||!Bs(ie)||Ce.startTime+Ce.duration>P))return P<Ce.startTime+Ce.duration?Md(P,Ce):Ce.values[Ce.values.length-1];if(void 0!==Ce&&Bs(Ce)&&(void 0===ie||!Bs(ie)))return Ce.value;if(void 0!==ie&&vi(ie)){var ea=Wc(this._automationEvents,Qe,Ce,ie,this._defaultValue),ao=_t.default(ea,2);return oo(P,ao[0],ao[1],ie)}if(void 0!==ie&&ro(ie)){var zr=Wc(this._automationEvents,Qe,Ce,ie,this._defaultValue),Ci=_t.default(zr,2);return wi(P,Ci[0],Ci[1],ie)}return this._defaultValue}}]),U}(Symbol.iterator);me.AutomationEventList=$D,me.createCancelAndHoldAutomationEvent=function(U){return{cancelTime:U,type:"cancelAndHold"}},me.createCancelScheduledValuesAutomationEvent=function(U){return{cancelTime:U,type:"cancelScheduledValues"}},me.createExponentialRampToValueAutomationEvent=function(U,_e){return{endTime:_e,type:"exponentialRampToValue",value:U}},me.createLinearRampToValueAutomationEvent=function(U,_e){return{endTime:_e,type:"linearRampToValue",value:U}},me.createSetTargetAutomationEvent=function(U,_e,P){return{startTime:_e,target:U,timeConstant:P,type:"setTarget"}},me.createSetValueAutomationEvent=Id,me.createSetValueCurveAutomationEvent=xd,Object.defineProperty(me,"__esModule",{value:!0})}(Tt,ke(715),ke(383),ke(579))},79:q=>{q.exports=function Tt(ke,me){(null==me||me>ke.length)&&(me=ke.length);for(var G=0,ze=new Array(me);G<me;G++)ze[G]=ke[G];return ze},q.exports.__esModule=!0,q.exports.default=q.exports},987:q=>{q.exports=function Tt(ke){if(Array.isArray(ke))return ke},q.exports.__esModule=!0,q.exports.default=q.exports},383:q=>{q.exports=function Tt(ke,me){if(!(ke instanceof me))throw new TypeError("Cannot call a class as a function")},q.exports.__esModule=!0,q.exports.default=q.exports},579:(q,Tt,ke)=>{var me=ke(736);function G(Se,Le){for(var _t=0;_t<Le.length;_t++){var Dt=Le[_t];Dt.enumerable=Dt.enumerable||!1,Dt.configurable=!0,"value"in Dt&&(Dt.writable=!0),Object.defineProperty(Se,me(Dt.key),Dt)}}q.exports=function ze(Se,Le,_t){return Le&&G(Se.prototype,Le),_t&&G(Se,_t),Object.defineProperty(Se,"prototype",{writable:!1}),Se},q.exports.__esModule=!0,q.exports.default=q.exports},156:q=>{q.exports=function Tt(ke,me){var G=null==ke?null:typeof Symbol<"u"&&ke[Symbol.iterator]||ke["@@iterator"];if(null!=G){var ze,Se,Le,_t,Dt=[],he=!0,so=!1;try{if(Le=(G=G.call(ke)).next,0===me){if(Object(G)!==G)return;he=!1}else for(;!(he=(ze=Le.call(G)).done)&&(Dt.push(ze.value),Dt.length!==me);he=!0);}catch(Zo){so=!0,Se=Zo}finally{try{if(!he&&null!=G.return&&(_t=G.return(),Object(_t)!==_t))return}finally{if(so)throw Se}}return Dt}},q.exports.__esModule=!0,q.exports.default=q.exports},752:q=>{q.exports=function Tt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},q.exports.__esModule=!0,q.exports.default=q.exports},715:(q,Tt,ke)=>{var me=ke(987),G=ke(156),ze=ke(122),Se=ke(752);q.exports=function Le(_t,Dt){return me(_t)||G(_t,Dt)||ze(_t,Dt)||Se()},q.exports.__esModule=!0,q.exports.default=q.exports},45:(q,Tt,ke)=>{var me=ke(738).default;q.exports=function G(ze,Se){if("object"!=me(ze)||!ze)return ze;var Le=ze[Symbol.toPrimitive];if(void 0!==Le){var _t=Le.call(ze,Se||"default");if("object"!=me(_t))return _t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Se?String:Number)(ze)},q.exports.__esModule=!0,q.exports.default=q.exports},736:(q,Tt,ke)=>{var me=ke(738).default,G=ke(45);q.exports=function ze(Se){var Le=G(Se,"string");return"symbol"==me(Le)?Le:String(Le)},q.exports.__esModule=!0,q.exports.default=q.exports},738:q=>{function Tt(ke){return q.exports=Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(me){return typeof me}:function(me){return me&&"function"==typeof Symbol&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me},q.exports.__esModule=!0,q.exports.default=q.exports,Tt(ke)}q.exports=Tt,q.exports.__esModule=!0,q.exports.default=q.exports},122:(q,Tt,ke)=>{var me=ke(79);q.exports=function G(ze,Se){if(ze){if("string"==typeof ze)return me(ze,Se);var Le=Object.prototype.toString.call(ze).slice(8,-1);if("Object"===Le&&ze.constructor&&(Le=ze.constructor.name),"Map"===Le||"Set"===Le)return Array.from(ze);if("Arguments"===Le||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Le))return me(ze,Se)}},q.exports.__esModule=!0,q.exports.default=q.exports}},q=>{q(q.s=763)}]);